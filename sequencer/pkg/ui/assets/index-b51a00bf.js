var Ew=Object.defineProperty;var xw=(t,e,r)=>e in t?Ew(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var wr=(t,e,r)=>(xw(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Yo(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Vg={exports:{}},vu={},Qg={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=Symbol.for("react.element"),_w=Symbol.for("react.portal"),Sw=Symbol.for("react.fragment"),Aw=Symbol.for("react.strict_mode"),kw=Symbol.for("react.profiler"),Cw=Symbol.for("react.provider"),Nw=Symbol.for("react.context"),Pw=Symbol.for("react.forward_ref"),Tw=Symbol.for("react.suspense"),Ow=Symbol.for("react.memo"),Iw=Symbol.for("react.lazy"),Yd=Symbol.iterator;function Mw(t){return t===null||typeof t!="object"?null:(t=Yd&&t[Yd]||t["@@iterator"],typeof t=="function"?t:null)}var Jg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yg=Object.assign,Xg={};function Xo(t,e,r){this.props=t,this.context=e,this.refs=Xg,this.updater=r||Jg}Xo.prototype.isReactComponent={};Xo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zg(){}Zg.prototype=Xo.prototype;function Mh(t,e,r){this.props=t,this.context=e,this.refs=Xg,this.updater=r||Jg}var Rh=Mh.prototype=new Zg;Rh.constructor=Mh;Yg(Rh,Xo.prototype);Rh.isPureReactComponent=!0;var Xd=Array.isArray,em=Object.prototype.hasOwnProperty,Dh={current:null},tm={key:!0,ref:!0,__self:!0,__source:!0};function rm(t,e,r){var n,i={},o=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)em.call(e,n)&&!tm.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:wa,type:t,key:o,ref:s,props:i,_owner:Dh.current}}function Rw(t,e){return{$$typeof:wa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Lh(t){return typeof t=="object"&&t!==null&&t.$$typeof===wa}function Dw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Zd=/\/+/g;function dc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Dw(""+t.key):e.toString(36)}function cl(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case wa:case _w:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+dc(s,0):n,Xd(i)?(r="",t!=null&&(r=t.replace(Zd,"$&/")+"/"),cl(i,e,r,"",function(u){return u})):i!=null&&(Lh(i)&&(i=Rw(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Zd,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Xd(t))for(var a=0;a<t.length;a++){o=t[a];var l=n+dc(o,a);s+=cl(o,e,r,l,i)}else if(l=Mw(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=n+dc(o,a++),s+=cl(o,e,r,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ia(t,e,r){if(t==null)return t;var n=[],i=0;return cl(t,n,"","",function(o){return e.call(r,o,i++)}),n}function Lw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},fl={transition:null},jw={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:fl,ReactCurrentOwner:Dh};ye.Children={map:Ia,forEach:function(t,e,r){Ia(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ia(t,function(){e++}),e},toArray:function(t){return Ia(t,function(e){return e})||[]},only:function(t){if(!Lh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=Xo;ye.Fragment=Sw;ye.Profiler=kw;ye.PureComponent=Mh;ye.StrictMode=Aw;ye.Suspense=Tw;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jw;ye.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Yg({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Dh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)em.call(e,l)&&!tm.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:wa,type:t.type,key:i,ref:o,props:n,_owner:s}};ye.createContext=function(t){return t={$$typeof:Nw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cw,_context:t},t.Consumer=t};ye.createElement=rm;ye.createFactory=function(t){var e=rm.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:Pw,render:t}};ye.isValidElement=Lh;ye.lazy=function(t){return{$$typeof:Iw,_payload:{_status:-1,_result:t},_init:Lw}};ye.memo=function(t,e){return{$$typeof:Ow,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=fl.transition;fl.transition={};try{t()}finally{fl.transition=e}};ye.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ye.useCallback=function(t,e){return Gt.current.useCallback(t,e)};ye.useContext=function(t){return Gt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Gt.current.useEffect(t,e)};ye.useId=function(){return Gt.current.useId()};ye.useImperativeHandle=function(t,e,r){return Gt.current.useImperativeHandle(t,e,r)};ye.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Gt.current.useMemo(t,e)};ye.useReducer=function(t,e,r){return Gt.current.useReducer(t,e,r)};ye.useRef=function(t){return Gt.current.useRef(t)};ye.useState=function(t){return Gt.current.useState(t)};ye.useSyncExternalStore=function(t,e,r){return Gt.current.useSyncExternalStore(t,e,r)};ye.useTransition=function(){return Gt.current.useTransition()};ye.version="18.2.0";Qg.exports=ye;var z=Qg.exports;const nm=Jo(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw=z,Fw=Symbol.for("react.element"),Uw=Symbol.for("react.fragment"),zw=Object.prototype.hasOwnProperty,Hw=Bw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qw={key:!0,ref:!0,__self:!0,__source:!0};function im(t,e,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)zw.call(e,n)&&!qw.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Fw,type:t,key:o,ref:s,props:i,_owner:Hw.current}}vu.Fragment=Uw;vu.jsx=im;vu.jsxs=im;Vg.exports=vu;var N=Vg.exports,bf={},om={exports:{}},pr={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,O){var I=S.length;S.push(O);e:for(;0<I;){var A=I-1>>>1,d=S[A];if(0<i(d,O))S[A]=O,S[I]=d,I=A;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var O=S[0],I=S.pop();if(I!==O){S[0]=I;e:for(var A=0,d=S.length,P=d>>>1;A<P;){var W=2*(A+1)-1,y=S[W],L=W+1,B=S[L];if(0>i(y,I))L<d&&0>i(B,y)?(S[A]=B,S[L]=I,A=L):(S[A]=y,S[W]=I,A=W);else if(L<d&&0>i(B,I))S[A]=B,S[L]=I,A=L;else break e}}return O}function i(S,O){var I=S.sortIndex-O.sortIndex;return I!==0?I:S.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,p=3,g=!1,v=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(S){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=S)n(u),O.sortIndex=O.expirationTime,e(l,O);else break;O=r(u)}}function R(S){if(E=!1,x(S),!v)if(r(l)!==null)v=!0,_(D);else{var O=r(u);O!==null&&k(R,O.startTime-S)}}function D(S,O){v=!1,E&&(E=!1,w($),$=-1),g=!0;var I=p;try{for(x(O),h=r(l);h!==null&&(!(h.expirationTime>O)||S&&!ie());){var A=h.callback;if(typeof A=="function"){h.callback=null,p=h.priorityLevel;var d=A(h.expirationTime<=O);O=t.unstable_now(),typeof d=="function"?h.callback=d:h===r(l)&&n(l),x(O)}else n(l);h=r(l)}if(h!==null)var P=!0;else{var W=r(u);W!==null&&k(R,W.startTime-O),P=!1}return P}finally{h=null,p=I,g=!1}}var j=!1,H=null,$=-1,Y=5,te=-1;function ie(){return!(t.unstable_now()-te<Y)}function Ae(){if(H!==null){var S=t.unstable_now();te=S;var O=!0;try{O=H(!0,S)}finally{O?T():(j=!1,H=null)}}else j=!1}var T;if(typeof b=="function")T=function(){b(Ae)};else if(typeof MessageChannel<"u"){var f=new MessageChannel,m=f.port2;f.port1.onmessage=Ae,T=function(){m.postMessage(null)}}else T=function(){C(Ae,0)};function _(S){H=S,j||(j=!0,T())}function k(S,O){$=C(function(){S(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,_(D))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(S){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var I=p;p=O;try{return S()}finally{p=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,O){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var I=p;p=S;try{return O()}finally{p=I}},t.unstable_scheduleCallback=function(S,O,I){var A=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?A+I:A):I=A,S){case 1:var d=-1;break;case 2:d=250;break;case 5:d=1073741823;break;case 4:d=1e4;break;default:d=5e3}return d=I+d,S={id:c++,callback:O,priorityLevel:S,startTime:I,expirationTime:d,sortIndex:-1},I>A?(S.sortIndex=I,e(u,S),r(l)===null&&S===r(u)&&(E?(w($),$=-1):E=!0,k(R,I-A))):(S.sortIndex=d,e(l,S),v||g||(v=!0,_(D))),S},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(S){var O=p;return function(){var I=p;p=O;try{return S.apply(this,arguments)}finally{p=I}}}})(am);sm.exports=am;var $w=sm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm=z,dr=$w;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var um=new Set,Hs={};function eo(t,e){jo(t,e),jo(t+"Capture",e)}function jo(t,e){for(Hs[t]=e,t=0;t<e.length;t++)um.add(e[t])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ef=Object.prototype.hasOwnProperty,Ww=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e0={},t0={};function Gw(t){return Ef.call(t0,t)?!0:Ef.call(e0,t)?!1:Ww.test(t)?t0[t]=!0:(e0[t]=!0,!1)}function Kw(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vw(t,e,r,n){if(e===null||typeof e>"u"||Kw(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,r,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var jh=/[\-:]([a-z])/g;function Bh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jh,Bh);Rt[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jh,Bh);Rt[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jh,Bh);Rt[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fh(t,e,r,n){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vw(e,r,i,n)&&(r=null),n||i===null?Gw(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Hn=lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ma=Symbol.for("react.element"),co=Symbol.for("react.portal"),fo=Symbol.for("react.fragment"),Uh=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),cm=Symbol.for("react.provider"),fm=Symbol.for("react.context"),zh=Symbol.for("react.forward_ref"),_f=Symbol.for("react.suspense"),Sf=Symbol.for("react.suspense_list"),Hh=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),hm=Symbol.for("react.offscreen"),r0=Symbol.iterator;function ss(t){return t===null||typeof t!="object"?null:(t=r0&&t[r0]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,pc;function xs(t){if(pc===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);pc=e&&e[1]||""}return`
`+pc+t}var gc=!1;function mc(t,e){if(!t||gc)return"";gc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{gc=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?xs(t):""}function Qw(t){switch(t.tag){case 5:return xs(t.type);case 16:return xs("Lazy");case 13:return xs("Suspense");case 19:return xs("SuspenseList");case 0:case 2:case 15:return t=mc(t.type,!1),t;case 11:return t=mc(t.type.render,!1),t;case 1:return t=mc(t.type,!0),t;default:return""}}function Af(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fo:return"Fragment";case co:return"Portal";case xf:return"Profiler";case Uh:return"StrictMode";case _f:return"Suspense";case Sf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fm:return(t.displayName||"Context")+".Consumer";case cm:return(t._context.displayName||"Context")+".Provider";case zh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hh:return e=t.displayName||null,e!==null?e:Af(t.type)||"Memo";case ii:e=t._payload,t=t._init;try{return Af(t(e))}catch{}}return null}function Jw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Af(e);case 8:return e===Uh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _i(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yw(t){var e=dm(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ra(t){t._valueTracker||(t._valueTracker=Yw(t))}function pm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=dm(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Dl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kf(t,e){var r=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function n0(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=_i(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gm(t,e){e=e.checked,e!=null&&Fh(t,"checked",e,!1)}function Cf(t,e){gm(t,e);var r=_i(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nf(t,e.type,r):e.hasOwnProperty("defaultValue")&&Nf(t,e.type,_i(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function i0(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Nf(t,e,r){(e!=="number"||Dl(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var _s=Array.isArray;function No(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+_i(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Pf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function o0(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(q(92));if(_s(r)){if(1<r.length)throw Error(q(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:_i(r)}}function mm(t,e){var r=_i(e.value),n=_i(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function s0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Da,ym=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Da=Da||document.createElement("div"),Da.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Da.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qs(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xw=["Webkit","ms","Moz","O"];Object.keys(Ps).forEach(function(t){Xw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ps[e]=Ps[t]})});function wm(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ps.hasOwnProperty(t)&&Ps[t]?(""+e).trim():e+"px"}function bm(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=wm(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Zw=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Of(t,e){if(e){if(Zw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function If(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mf=null;function qh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rf=null,Po=null,To=null;function a0(t){if(t=xa(t)){if(typeof Rf!="function")throw Error(q(280));var e=t.stateNode;e&&(e=xu(e),Rf(t.stateNode,t.type,e))}}function Em(t){Po?To?To.push(t):To=[t]:Po=t}function xm(){if(Po){var t=Po,e=To;if(To=Po=null,a0(t),e)for(t=0;t<e.length;t++)a0(e[t])}}function _m(t,e){return t(e)}function Sm(){}var vc=!1;function Am(t,e,r){if(vc)return t(e,r);vc=!0;try{return _m(t,e,r)}finally{vc=!1,(Po!==null||To!==null)&&(Sm(),xm())}}function $s(t,e){var r=t.stateNode;if(r===null)return null;var n=xu(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(q(231,e,typeof r));return r}var Df=!1;if(Dn)try{var as={};Object.defineProperty(as,"passive",{get:function(){Df=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{Df=!1}function e2(t,e,r,n,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Ts=!1,Ll=null,jl=!1,Lf=null,t2={onError:function(t){Ts=!0,Ll=t}};function r2(t,e,r,n,i,o,s,a,l){Ts=!1,Ll=null,e2.apply(t2,arguments)}function n2(t,e,r,n,i,o,s,a,l){if(r2.apply(this,arguments),Ts){if(Ts){var u=Ll;Ts=!1,Ll=null}else throw Error(q(198));jl||(jl=!0,Lf=u)}}function to(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function km(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function l0(t){if(to(t)!==t)throw Error(q(188))}function i2(t){var e=t.alternate;if(!e){if(e=to(t),e===null)throw Error(q(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return l0(i),t;if(o===n)return l0(i),e;o=o.sibling}throw Error(q(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?t:e}function Cm(t){return t=i2(t),t!==null?Nm(t):null}function Nm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Nm(t);if(e!==null)return e;t=t.sibling}return null}var Pm=dr.unstable_scheduleCallback,u0=dr.unstable_cancelCallback,o2=dr.unstable_shouldYield,s2=dr.unstable_requestPaint,mt=dr.unstable_now,a2=dr.unstable_getCurrentPriorityLevel,$h=dr.unstable_ImmediatePriority,Tm=dr.unstable_UserBlockingPriority,Bl=dr.unstable_NormalPriority,l2=dr.unstable_LowPriority,Om=dr.unstable_IdlePriority,yu=null,sn=null;function u2(t){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(yu,t,void 0,(t.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:h2,c2=Math.log,f2=Math.LN2;function h2(t){return t>>>=0,t===0?32:31-(c2(t)/f2|0)|0}var La=64,ja=4194304;function Ss(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fl(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=Ss(a):(o&=s,o!==0&&(n=Ss(o)))}else s=r&~i,s!==0?n=Ss(s):o!==0&&(n=Ss(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Gr(e),i=1<<r,n|=t[r],e&=~i;return n}function d2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p2(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Gr(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=d2(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function jf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Im(){var t=La;return La<<=1,!(La&4194240)&&(La=64),t}function yc(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ba(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gr(e),t[e]=r}function g2(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Gr(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function Wh(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Gr(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var De=0;function Mm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Rm,Gh,Dm,Lm,jm,Bf=!1,Ba=[],pi=null,gi=null,mi=null,Ws=new Map,Gs=new Map,ai=[],m2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c0(t,e){switch(t){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Ws.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(e.pointerId)}}function ls(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=xa(e),e!==null&&Gh(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function v2(t,e,r,n,i){switch(e){case"focusin":return pi=ls(pi,t,e,r,n,i),!0;case"dragenter":return gi=ls(gi,t,e,r,n,i),!0;case"mouseover":return mi=ls(mi,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Ws.set(o,ls(Ws.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Gs.set(o,ls(Gs.get(o)||null,t,e,r,n,i)),!0}return!1}function Bm(t){var e=Li(t.target);if(e!==null){var r=to(e);if(r!==null){if(e=r.tag,e===13){if(e=km(r),e!==null){t.blockedOn=e,jm(t.priority,function(){Dm(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ff(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Mf=n,r.target.dispatchEvent(n),Mf=null}else return e=xa(r),e!==null&&Gh(e),t.blockedOn=r,!1;e.shift()}return!0}function f0(t,e,r){hl(t)&&r.delete(e)}function y2(){Bf=!1,pi!==null&&hl(pi)&&(pi=null),gi!==null&&hl(gi)&&(gi=null),mi!==null&&hl(mi)&&(mi=null),Ws.forEach(f0),Gs.forEach(f0)}function us(t,e){t.blockedOn===e&&(t.blockedOn=null,Bf||(Bf=!0,dr.unstable_scheduleCallback(dr.unstable_NormalPriority,y2)))}function Ks(t){function e(i){return us(i,t)}if(0<Ba.length){us(Ba[0],t);for(var r=1;r<Ba.length;r++){var n=Ba[r];n.blockedOn===t&&(n.blockedOn=null)}}for(pi!==null&&us(pi,t),gi!==null&&us(gi,t),mi!==null&&us(mi,t),Ws.forEach(e),Gs.forEach(e),r=0;r<ai.length;r++)n=ai[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ai.length&&(r=ai[0],r.blockedOn===null);)Bm(r),r.blockedOn===null&&ai.shift()}var Oo=Hn.ReactCurrentBatchConfig,Ul=!0;function w2(t,e,r,n){var i=De,o=Oo.transition;Oo.transition=null;try{De=1,Kh(t,e,r,n)}finally{De=i,Oo.transition=o}}function b2(t,e,r,n){var i=De,o=Oo.transition;Oo.transition=null;try{De=4,Kh(t,e,r,n)}finally{De=i,Oo.transition=o}}function Kh(t,e,r,n){if(Ul){var i=Ff(t,e,r,n);if(i===null)Nc(t,e,n,zl,r),c0(t,n);else if(v2(i,t,e,r,n))n.stopPropagation();else if(c0(t,n),e&4&&-1<m2.indexOf(t)){for(;i!==null;){var o=xa(i);if(o!==null&&Rm(o),o=Ff(t,e,r,n),o===null&&Nc(t,e,n,zl,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Nc(t,e,n,null,r)}}var zl=null;function Ff(t,e,r,n){if(zl=null,t=qh(n),t=Li(t),t!==null)if(e=to(t),e===null)t=null;else if(r=e.tag,r===13){if(t=km(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zl=t,null}function Fm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a2()){case $h:return 1;case Tm:return 4;case Bl:case l2:return 16;case Om:return 536870912;default:return 16}default:return 16}}var fi=null,Vh=null,dl=null;function Um(){if(dl)return dl;var t,e=Vh,r=e.length,n,i="value"in fi?fi.value:fi.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[o-n];n++);return dl=i.slice(t,1<n?1-n:void 0)}function pl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fa(){return!0}function h0(){return!1}function gr(t){function e(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Fa:h0,this.isPropagationStopped=h0,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fa)},persist:function(){},isPersistent:Fa}),e}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qh=gr(Zo),Ea=ct({},Zo,{view:0,detail:0}),E2=gr(Ea),wc,bc,cs,wu=ct({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cs&&(cs&&t.type==="mousemove"?(wc=t.screenX-cs.screenX,bc=t.screenY-cs.screenY):bc=wc=0,cs=t),wc)},movementY:function(t){return"movementY"in t?t.movementY:bc}}),d0=gr(wu),x2=ct({},wu,{dataTransfer:0}),_2=gr(x2),S2=ct({},Ea,{relatedTarget:0}),Ec=gr(S2),A2=ct({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),k2=gr(A2),C2=ct({},Zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),N2=gr(C2),P2=ct({},Zo,{data:0}),p0=gr(P2),T2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I2[t])?!!e[t]:!1}function Jh(){return M2}var R2=ct({},Ea,{key:function(t){if(t.key){var e=T2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jh,charCode:function(t){return t.type==="keypress"?pl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),D2=gr(R2),L2=ct({},wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g0=gr(L2),j2=ct({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jh}),B2=gr(j2),F2=ct({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),U2=gr(F2),z2=ct({},wu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H2=gr(z2),q2=[9,13,27,32],Yh=Dn&&"CompositionEvent"in window,Os=null;Dn&&"documentMode"in document&&(Os=document.documentMode);var $2=Dn&&"TextEvent"in window&&!Os,zm=Dn&&(!Yh||Os&&8<Os&&11>=Os),m0=String.fromCharCode(32),v0=!1;function Hm(t,e){switch(t){case"keyup":return q2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ho=!1;function W2(t,e){switch(t){case"compositionend":return qm(e);case"keypress":return e.which!==32?null:(v0=!0,m0);case"textInput":return t=e.data,t===m0&&v0?null:t;default:return null}}function G2(t,e){if(ho)return t==="compositionend"||!Yh&&Hm(t,e)?(t=Um(),dl=Vh=fi=null,ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zm&&e.locale!=="ko"?null:e.data;default:return null}}var K2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!K2[t.type]:e==="textarea"}function $m(t,e,r,n){Em(n),e=Hl(e,"onChange"),0<e.length&&(r=new Qh("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Is=null,Vs=null;function V2(t){tv(t,0)}function bu(t){var e=mo(t);if(pm(e))return t}function Q2(t,e){if(t==="change")return e}var Wm=!1;if(Dn){var xc;if(Dn){var _c="oninput"in document;if(!_c){var w0=document.createElement("div");w0.setAttribute("oninput","return;"),_c=typeof w0.oninput=="function"}xc=_c}else xc=!1;Wm=xc&&(!document.documentMode||9<document.documentMode)}function b0(){Is&&(Is.detachEvent("onpropertychange",Gm),Vs=Is=null)}function Gm(t){if(t.propertyName==="value"&&bu(Vs)){var e=[];$m(e,Vs,t,qh(t)),Am(V2,e)}}function J2(t,e,r){t==="focusin"?(b0(),Is=e,Vs=r,Is.attachEvent("onpropertychange",Gm)):t==="focusout"&&b0()}function Y2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bu(Vs)}function X2(t,e){if(t==="click")return bu(e)}function Z2(t,e){if(t==="input"||t==="change")return bu(e)}function eb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vr=typeof Object.is=="function"?Object.is:eb;function Qs(t,e){if(Vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ef.call(e,i)||!Vr(t[i],e[i]))return!1}return!0}function E0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x0(t,e){var r=E0(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=E0(r)}}function Km(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Km(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vm(){for(var t=window,e=Dl();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Dl(t.document)}return e}function Xh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tb(t){var e=Vm(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Km(r.ownerDocument.documentElement,r)){if(n!==null&&Xh(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=x0(r,o);var s=x0(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rb=Dn&&"documentMode"in document&&11>=document.documentMode,po=null,Uf=null,Ms=null,zf=!1;function _0(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zf||po==null||po!==Dl(n)||(n=po,"selectionStart"in n&&Xh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ms&&Qs(Ms,n)||(Ms=n,n=Hl(Uf,"onSelect"),0<n.length&&(e=new Qh("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=po)))}function Ua(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var go={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionend:Ua("Transition","TransitionEnd")},Sc={},Qm={};Dn&&(Qm=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function Eu(t){if(Sc[t])return Sc[t];if(!go[t])return t;var e=go[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Qm)return Sc[t]=e[r];return t}var Jm=Eu("animationend"),Ym=Eu("animationiteration"),Xm=Eu("animationstart"),Zm=Eu("transitionend"),ev=new Map,S0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(t,e){ev.set(t,e),eo(e,[t])}for(var Ac=0;Ac<S0.length;Ac++){var kc=S0[Ac],nb=kc.toLowerCase(),ib=kc[0].toUpperCase()+kc.slice(1);ki(nb,"on"+ib)}ki(Jm,"onAnimationEnd");ki(Ym,"onAnimationIteration");ki(Xm,"onAnimationStart");ki("dblclick","onDoubleClick");ki("focusin","onFocus");ki("focusout","onBlur");ki(Zm,"onTransitionEnd");jo("onMouseEnter",["mouseout","mouseover"]);jo("onMouseLeave",["mouseout","mouseover"]);jo("onPointerEnter",["pointerout","pointerover"]);jo("onPointerLeave",["pointerout","pointerover"]);eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ob=new Set("cancel close invalid load scroll toggle".split(" ").concat(As));function A0(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,n2(n,e,void 0,t),t.currentTarget=null}function tv(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;A0(i,a,u),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;A0(i,a,u),o=l}}}if(jl)throw t=Lf,jl=!1,Lf=null,t}function rt(t,e){var r=e[Gf];r===void 0&&(r=e[Gf]=new Set);var n=t+"__bubble";r.has(n)||(rv(e,t,2,!1),r.add(n))}function Cc(t,e,r){var n=0;e&&(n|=4),rv(r,t,n,e)}var za="_reactListening"+Math.random().toString(36).slice(2);function Js(t){if(!t[za]){t[za]=!0,um.forEach(function(r){r!=="selectionchange"&&(ob.has(r)||Cc(r,!1,t),Cc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[za]||(e[za]=!0,Cc("selectionchange",!1,e))}}function rv(t,e,r,n){switch(Fm(e)){case 1:var i=w2;break;case 4:i=b2;break;default:i=Kh}r=i.bind(null,e,r,t),i=void 0,!Df||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Nc(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Li(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}Am(function(){var u=o,c=qh(r),h=[];e:{var p=ev.get(t);if(p!==void 0){var g=Qh,v=t;switch(t){case"keypress":if(pl(r)===0)break e;case"keydown":case"keyup":g=D2;break;case"focusin":v="focus",g=Ec;break;case"focusout":v="blur",g=Ec;break;case"beforeblur":case"afterblur":g=Ec;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=d0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=B2;break;case Jm:case Ym:case Xm:g=k2;break;case Zm:g=U2;break;case"scroll":g=E2;break;case"wheel":g=H2;break;case"copy":case"cut":case"paste":g=N2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=g0}var E=(e&4)!==0,C=!E&&t==="scroll",w=E?p!==null?p+"Capture":null:p;E=[];for(var b=u,x;b!==null;){x=b;var R=x.stateNode;if(x.tag===5&&R!==null&&(x=R,w!==null&&(R=$s(b,w),R!=null&&E.push(Ys(b,R,x)))),C)break;b=b.return}0<E.length&&(p=new g(p,v,null,r,c),h.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&r!==Mf&&(v=r.relatedTarget||r.fromElement)&&(Li(v)||v[Ln]))break e;if((g||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=u,v=v?Li(v):null,v!==null&&(C=to(v),v!==C||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(E=d0,R="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(E=g0,R="onPointerLeave",w="onPointerEnter",b="pointer"),C=g==null?p:mo(g),x=v==null?p:mo(v),p=new E(R,b+"leave",g,r,c),p.target=C,p.relatedTarget=x,R=null,Li(c)===u&&(E=new E(w,b+"enter",v,r,c),E.target=x,E.relatedTarget=C,R=E),C=R,g&&v)t:{for(E=g,w=v,b=0,x=E;x;x=oo(x))b++;for(x=0,R=w;R;R=oo(R))x++;for(;0<b-x;)E=oo(E),b--;for(;0<x-b;)w=oo(w),x--;for(;b--;){if(E===w||w!==null&&E===w.alternate)break t;E=oo(E),w=oo(w)}E=null}else E=null;g!==null&&k0(h,p,g,E,!1),v!==null&&C!==null&&k0(h,C,v,E,!0)}}e:{if(p=u?mo(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=Q2;else if(y0(p))if(Wm)D=Z2;else{D=Y2;var j=J2}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=X2);if(D&&(D=D(t,u))){$m(h,D,r,c);break e}j&&j(t,p,u),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Nf(p,"number",p.value)}switch(j=u?mo(u):window,t){case"focusin":(y0(j)||j.contentEditable==="true")&&(po=j,Uf=u,Ms=null);break;case"focusout":Ms=Uf=po=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,_0(h,r,c);break;case"selectionchange":if(rb)break;case"keydown":case"keyup":_0(h,r,c)}var H;if(Yh)e:{switch(t){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else ho?Hm(t,r)&&($="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&($="onCompositionStart");$&&(zm&&r.locale!=="ko"&&(ho||$!=="onCompositionStart"?$==="onCompositionEnd"&&ho&&(H=Um()):(fi=c,Vh="value"in fi?fi.value:fi.textContent,ho=!0)),j=Hl(u,$),0<j.length&&($=new p0($,t,null,r,c),h.push({event:$,listeners:j}),H?$.data=H:(H=qm(r),H!==null&&($.data=H)))),(H=$2?W2(t,r):G2(t,r))&&(u=Hl(u,"onBeforeInput"),0<u.length&&(c=new p0("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=H))}tv(h,e)})}function Ys(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Hl(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=$s(t,r),o!=null&&n.unshift(Ys(t,o,i)),o=$s(t,e),o!=null&&n.push(Ys(t,o,i))),t=t.return}return n}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function k0(t,e,r,n,i){for(var o=e._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=$s(r,o),l!=null&&s.unshift(Ys(r,l,a))):i||(l=$s(r,o),l!=null&&s.push(Ys(r,l,a)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var sb=/\r\n?/g,ab=/\u0000|\uFFFD/g;function C0(t){return(typeof t=="string"?t:""+t).replace(sb,`
`).replace(ab,"")}function Ha(t,e,r){if(e=C0(e),C0(t)!==e&&r)throw Error(q(425))}function ql(){}var Hf=null,qf=null;function $f(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wf=typeof setTimeout=="function"?setTimeout:void 0,lb=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,ub=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(t){return N0.resolve(null).then(t).catch(cb)}:Wf;function cb(t){setTimeout(function(){throw t})}function Pc(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Ks(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ks(e)}function vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function P0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var es=Math.random().toString(36).slice(2),rn="__reactFiber$"+es,Xs="__reactProps$"+es,Ln="__reactContainer$"+es,Gf="__reactEvents$"+es,fb="__reactListeners$"+es,hb="__reactHandles$"+es;function Li(t){var e=t[rn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ln]||r[rn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=P0(t);t!==null;){if(r=t[rn])return r;t=P0(t)}return e}t=r,r=t.parentNode}return null}function xa(t){return t=t[rn]||t[Ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function xu(t){return t[Xs]||null}var Kf=[],vo=-1;function Ci(t){return{current:t}}function nt(t){0>vo||(t.current=Kf[vo],Kf[vo]=null,vo--)}function Ve(t,e){vo++,Kf[vo]=t.current,t.current=e}var Si={},Ht=Ci(Si),er=Ci(!1),qi=Si;function Bo(t,e){var r=t.type.contextTypes;if(!r)return Si;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tr(t){return t=t.childContextTypes,t!=null}function $l(){nt(er),nt(Ht)}function T0(t,e,r){if(Ht.current!==Si)throw Error(q(168));Ve(Ht,e),Ve(er,r)}function nv(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(q(108,Jw(t)||"Unknown",i));return ct({},r,n)}function Wl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Si,qi=Ht.current,Ve(Ht,t),Ve(er,er.current),!0}function O0(t,e,r){var n=t.stateNode;if(!n)throw Error(q(169));r?(t=nv(t,e,qi),n.__reactInternalMemoizedMergedChildContext=t,nt(er),nt(Ht),Ve(Ht,t)):nt(er),Ve(er,r)}var Cn=null,_u=!1,Tc=!1;function iv(t){Cn===null?Cn=[t]:Cn.push(t)}function db(t){_u=!0,iv(t)}function Ni(){if(!Tc&&Cn!==null){Tc=!0;var t=0,e=De;try{var r=Cn;for(De=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Cn=null,_u=!1}catch(i){throw Cn!==null&&(Cn=Cn.slice(t+1)),Pm($h,Ni),i}finally{De=e,Tc=!1}}return null}var yo=[],wo=0,Gl=null,Kl=0,Sr=[],Ar=0,$i=null,Tn=1,On="";function Mi(t,e){yo[wo++]=Kl,yo[wo++]=Gl,Gl=t,Kl=e}function ov(t,e,r){Sr[Ar++]=Tn,Sr[Ar++]=On,Sr[Ar++]=$i,$i=t;var n=Tn;t=On;var i=32-Gr(n)-1;n&=~(1<<i),r+=1;var o=32-Gr(e)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Tn=1<<32-Gr(e)+i|r<<i|n,On=o+t}else Tn=1<<o|r<<i|n,On=t}function Zh(t){t.return!==null&&(Mi(t,1),ov(t,1,0))}function ed(t){for(;t===Gl;)Gl=yo[--wo],yo[wo]=null,Kl=yo[--wo],yo[wo]=null;for(;t===$i;)$i=Sr[--Ar],Sr[Ar]=null,On=Sr[--Ar],Sr[Ar]=null,Tn=Sr[--Ar],Sr[Ar]=null}var hr=null,cr=null,it=!1,$r=null;function sv(t,e){var r=Cr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function I0(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hr=t,cr=vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hr=t,cr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=$i!==null?{id:Tn,overflow:On}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Cr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,hr=t,cr=null,!0):!1;default:return!1}}function Vf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qf(t){if(it){var e=cr;if(e){var r=e;if(!I0(t,e)){if(Vf(t))throw Error(q(418));e=vi(r.nextSibling);var n=hr;e&&I0(t,e)?sv(n,r):(t.flags=t.flags&-4097|2,it=!1,hr=t)}}else{if(Vf(t))throw Error(q(418));t.flags=t.flags&-4097|2,it=!1,hr=t}}}function M0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hr=t}function qa(t){if(t!==hr)return!1;if(!it)return M0(t),it=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$f(t.type,t.memoizedProps)),e&&(e=cr)){if(Vf(t))throw av(),Error(q(418));for(;e;)sv(t,e),e=vi(e.nextSibling)}if(M0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){cr=vi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}cr=null}}else cr=hr?vi(t.stateNode.nextSibling):null;return!0}function av(){for(var t=cr;t;)t=vi(t.nextSibling)}function Fo(){cr=hr=null,it=!1}function td(t){$r===null?$r=[t]:$r.push(t)}var pb=Hn.ReactCurrentBatchConfig;function zr(t,e){if(t&&t.defaultProps){e=ct({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Vl=Ci(null),Ql=null,bo=null,rd=null;function nd(){rd=bo=Ql=null}function id(t){var e=Vl.current;nt(Vl),t._currentValue=e}function Jf(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Io(t,e){Ql=t,rd=bo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xt=!0),t.firstContext=null)}function Pr(t){var e=t._currentValue;if(rd!==t)if(t={context:t,memoizedValue:e,next:null},bo===null){if(Ql===null)throw Error(q(308));bo=t,Ql.dependencies={lanes:0,firstContext:t}}else bo=bo.next=t;return e}var ji=null;function od(t){ji===null?ji=[t]:ji.push(t)}function lv(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,od(e)):(r.next=i.next,i.next=r),e.interleaved=r,jn(t,n)}function jn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var oi=!1;function sd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,_e&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,jn(t,r)}return i=n.interleaved,i===null?(e.next=e,od(n)):(e.next=i.next,i.next=e),n.interleaved=e,jn(t,r)}function gl(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Wh(t,r)}}function R0(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Jl(t,e,r,n){var i=t.updateQueue;oi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var p=a.lane,g=a.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,E=a;switch(p=e,g=r,E.tag){case 1:if(v=E.payload,typeof v=="function"){h=v.call(g,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,p=typeof v=="function"?v.call(g,h,p):v,p==null)break e;h=ct({},h,p);break e;case 2:oi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Gi|=s,t.lanes=s,t.memoizedState=h}}function D0(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(q(191,i));i.call(n)}}}var cv=new lm.Component().refs;function Yf(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ct({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Su={isMounted:function(t){return(t=t._reactInternals)?to(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Wt(),i=bi(t),o=Mn(n,i);o.payload=e,r!=null&&(o.callback=r),e=yi(t,o,i),e!==null&&(Kr(e,t,i,n),gl(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Wt(),i=bi(t),o=Mn(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=yi(t,o,i),e!==null&&(Kr(e,t,i,n),gl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Wt(),n=bi(t),i=Mn(r,n);i.tag=2,e!=null&&(i.callback=e),e=yi(t,i,n),e!==null&&(Kr(e,t,n,r),gl(e,t,n))}};function L0(t,e,r,n,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,s):e.prototype&&e.prototype.isPureReactComponent?!Qs(r,n)||!Qs(i,o):!0}function fv(t,e,r){var n=!1,i=Si,o=e.contextType;return typeof o=="object"&&o!==null?o=Pr(o):(i=tr(e)?qi:Ht.current,n=e.contextTypes,o=(n=n!=null)?Bo(t,i):Si),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Su,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function j0(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Su.enqueueReplaceState(e,e.state,null)}function Xf(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=cv,sd(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Pr(o):(o=tr(e)?qi:Ht.current,i.context=Bo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Yf(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Su.enqueueReplaceState(i,i.state,null),Jl(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fs(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===cv&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,t))}return t}function $a(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function B0(t){var e=t._init;return e(t._payload)}function hv(t){function e(w,b){if(t){var x=w.deletions;x===null?(w.deletions=[b],w.flags|=16):x.push(b)}}function r(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function n(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=Ei(w,b),w.index=0,w.sibling=null,w}function o(w,b,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<b?(w.flags|=2,b):x):(w.flags|=2,b)):(w.flags|=1048576,b)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,x,R){return b===null||b.tag!==6?(b=jc(x,w.mode,R),b.return=w,b):(b=i(b,x),b.return=w,b)}function l(w,b,x,R){var D=x.type;return D===fo?c(w,b,x.props.children,R,x.key):b!==null&&(b.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ii&&B0(D)===b.type)?(R=i(b,x.props),R.ref=fs(w,b,x),R.return=w,R):(R=El(x.type,x.key,x.props,null,w.mode,R),R.ref=fs(w,b,x),R.return=w,R)}function u(w,b,x,R){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Bc(x,w.mode,R),b.return=w,b):(b=i(b,x.children||[]),b.return=w,b)}function c(w,b,x,R,D){return b===null||b.tag!==7?(b=Ui(x,w.mode,R,D),b.return=w,b):(b=i(b,x),b.return=w,b)}function h(w,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=jc(""+b,w.mode,x),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ma:return x=El(b.type,b.key,b.props,null,w.mode,x),x.ref=fs(w,null,b),x.return=w,x;case co:return b=Bc(b,w.mode,x),b.return=w,b;case ii:var R=b._init;return h(w,R(b._payload),x)}if(_s(b)||ss(b))return b=Ui(b,w.mode,x,null),b.return=w,b;$a(w,b)}return null}function p(w,b,x,R){var D=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:a(w,b,""+x,R);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ma:return x.key===D?l(w,b,x,R):null;case co:return x.key===D?u(w,b,x,R):null;case ii:return D=x._init,p(w,b,D(x._payload),R)}if(_s(x)||ss(x))return D!==null?null:c(w,b,x,R,null);$a(w,x)}return null}function g(w,b,x,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return w=w.get(x)||null,a(b,w,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ma:return w=w.get(R.key===null?x:R.key)||null,l(b,w,R,D);case co:return w=w.get(R.key===null?x:R.key)||null,u(b,w,R,D);case ii:var j=R._init;return g(w,b,x,j(R._payload),D)}if(_s(R)||ss(R))return w=w.get(x)||null,c(b,w,R,D,null);$a(b,R)}return null}function v(w,b,x,R){for(var D=null,j=null,H=b,$=b=0,Y=null;H!==null&&$<x.length;$++){H.index>$?(Y=H,H=null):Y=H.sibling;var te=p(w,H,x[$],R);if(te===null){H===null&&(H=Y);break}t&&H&&te.alternate===null&&e(w,H),b=o(te,b,$),j===null?D=te:j.sibling=te,j=te,H=Y}if($===x.length)return r(w,H),it&&Mi(w,$),D;if(H===null){for(;$<x.length;$++)H=h(w,x[$],R),H!==null&&(b=o(H,b,$),j===null?D=H:j.sibling=H,j=H);return it&&Mi(w,$),D}for(H=n(w,H);$<x.length;$++)Y=g(H,w,$,x[$],R),Y!==null&&(t&&Y.alternate!==null&&H.delete(Y.key===null?$:Y.key),b=o(Y,b,$),j===null?D=Y:j.sibling=Y,j=Y);return t&&H.forEach(function(ie){return e(w,ie)}),it&&Mi(w,$),D}function E(w,b,x,R){var D=ss(x);if(typeof D!="function")throw Error(q(150));if(x=D.call(x),x==null)throw Error(q(151));for(var j=D=null,H=b,$=b=0,Y=null,te=x.next();H!==null&&!te.done;$++,te=x.next()){H.index>$?(Y=H,H=null):Y=H.sibling;var ie=p(w,H,te.value,R);if(ie===null){H===null&&(H=Y);break}t&&H&&ie.alternate===null&&e(w,H),b=o(ie,b,$),j===null?D=ie:j.sibling=ie,j=ie,H=Y}if(te.done)return r(w,H),it&&Mi(w,$),D;if(H===null){for(;!te.done;$++,te=x.next())te=h(w,te.value,R),te!==null&&(b=o(te,b,$),j===null?D=te:j.sibling=te,j=te);return it&&Mi(w,$),D}for(H=n(w,H);!te.done;$++,te=x.next())te=g(H,w,$,te.value,R),te!==null&&(t&&te.alternate!==null&&H.delete(te.key===null?$:te.key),b=o(te,b,$),j===null?D=te:j.sibling=te,j=te);return t&&H.forEach(function(Ae){return e(w,Ae)}),it&&Mi(w,$),D}function C(w,b,x,R){if(typeof x=="object"&&x!==null&&x.type===fo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ma:e:{for(var D=x.key,j=b;j!==null;){if(j.key===D){if(D=x.type,D===fo){if(j.tag===7){r(w,j.sibling),b=i(j,x.props.children),b.return=w,w=b;break e}}else if(j.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ii&&B0(D)===j.type){r(w,j.sibling),b=i(j,x.props),b.ref=fs(w,j,x),b.return=w,w=b;break e}r(w,j);break}else e(w,j);j=j.sibling}x.type===fo?(b=Ui(x.props.children,w.mode,R,x.key),b.return=w,w=b):(R=El(x.type,x.key,x.props,null,w.mode,R),R.ref=fs(w,b,x),R.return=w,w=R)}return s(w);case co:e:{for(j=x.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){r(w,b.sibling),b=i(b,x.children||[]),b.return=w,w=b;break e}else{r(w,b);break}else e(w,b);b=b.sibling}b=Bc(x,w.mode,R),b.return=w,w=b}return s(w);case ii:return j=x._init,C(w,b,j(x._payload),R)}if(_s(x))return v(w,b,x,R);if(ss(x))return E(w,b,x,R);$a(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(r(w,b.sibling),b=i(b,x),b.return=w,w=b):(r(w,b),b=jc(x,w.mode,R),b.return=w,w=b),s(w)):r(w,b)}return C}var Uo=hv(!0),dv=hv(!1),_a={},an=Ci(_a),Zs=Ci(_a),ea=Ci(_a);function Bi(t){if(t===_a)throw Error(q(174));return t}function ad(t,e){switch(Ve(ea,e),Ve(Zs,t),Ve(an,_a),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tf(e,t)}nt(an),Ve(an,e)}function zo(){nt(an),nt(Zs),nt(ea)}function pv(t){Bi(ea.current);var e=Bi(an.current),r=Tf(e,t.type);e!==r&&(Ve(Zs,t),Ve(an,r))}function ld(t){Zs.current===t&&(nt(an),nt(Zs))}var lt=Ci(0);function Yl(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Oc=[];function ud(){for(var t=0;t<Oc.length;t++)Oc[t]._workInProgressVersionPrimary=null;Oc.length=0}var ml=Hn.ReactCurrentDispatcher,Ic=Hn.ReactCurrentBatchConfig,Wi=0,ut=null,St=null,Ct=null,Xl=!1,Rs=!1,ta=0,gb=0;function Lt(){throw Error(q(321))}function cd(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Vr(t[r],e[r]))return!1;return!0}function fd(t,e,r,n,i,o){if(Wi=o,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ml.current=t===null||t.memoizedState===null?wb:bb,t=r(n,i),Rs){o=0;do{if(Rs=!1,ta=0,25<=o)throw Error(q(301));o+=1,Ct=St=null,e.updateQueue=null,ml.current=Eb,t=r(n,i)}while(Rs)}if(ml.current=Zl,e=St!==null&&St.next!==null,Wi=0,Ct=St=ut=null,Xl=!1,e)throw Error(q(300));return t}function hd(){var t=ta!==0;return ta=0,t}function Yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?ut.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Tr(){if(St===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=Ct===null?ut.memoizedState:Ct.next;if(e!==null)Ct=e,St=t;else{if(t===null)throw Error(q(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Ct===null?ut.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function ra(t,e){return typeof e=="function"?e(t):e}function Mc(t){var e=Tr(),r=e.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=t;var n=St,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Wi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=n):l=l.next=h,ut.lanes|=c,Gi|=c}u=u.next}while(u!==null&&u!==o);l===null?s=n:l.next=a,Vr(n,e.memoizedState)||(Xt=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,ut.lanes|=o,Gi|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Rc(t){var e=Tr(),r=e.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Vr(o,e.memoizedState)||(Xt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function gv(){}function mv(t,e){var r=ut,n=Tr(),i=e(),o=!Vr(n.memoizedState,i);if(o&&(n.memoizedState=i,Xt=!0),n=n.queue,dd(wv.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Ct!==null&&Ct.memoizedState.tag&1){if(r.flags|=2048,na(9,yv.bind(null,r,n,i,e),void 0,null),Pt===null)throw Error(q(349));Wi&30||vv(r,e,i)}return i}function vv(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function yv(t,e,r,n){e.value=r,e.getSnapshot=n,bv(e)&&Ev(t)}function wv(t,e,r){return r(function(){bv(e)&&Ev(t)})}function bv(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Vr(t,r)}catch{return!0}}function Ev(t){var e=jn(t,1);e!==null&&Kr(e,t,1,-1)}function F0(t){var e=Yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:t},e.queue=t,t=t.dispatch=yb.bind(null,ut,t),[e.memoizedState,t]}function na(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function xv(){return Tr().memoizedState}function vl(t,e,r,n){var i=Yr();ut.flags|=t,i.memoizedState=na(1|e,r,void 0,n===void 0?null:n)}function Au(t,e,r,n){var i=Tr();n=n===void 0?null:n;var o=void 0;if(St!==null){var s=St.memoizedState;if(o=s.destroy,n!==null&&cd(n,s.deps)){i.memoizedState=na(e,r,o,n);return}}ut.flags|=t,i.memoizedState=na(1|e,r,o,n)}function U0(t,e){return vl(8390656,8,t,e)}function dd(t,e){return Au(2048,8,t,e)}function _v(t,e){return Au(4,2,t,e)}function Sv(t,e){return Au(4,4,t,e)}function Av(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kv(t,e,r){return r=r!=null?r.concat([t]):null,Au(4,4,Av.bind(null,e,t),r)}function pd(){}function Cv(t,e){var r=Tr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&cd(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Nv(t,e){var r=Tr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&cd(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Pv(t,e,r){return Wi&21?(Vr(r,e)||(r=Im(),ut.lanes|=r,Gi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xt=!0),t.memoizedState=r)}function mb(t,e){var r=De;De=r!==0&&4>r?r:4,t(!0);var n=Ic.transition;Ic.transition={};try{t(!1),e()}finally{De=r,Ic.transition=n}}function Tv(){return Tr().memoizedState}function vb(t,e,r){var n=bi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ov(t))Iv(e,r);else if(r=lv(t,e,r,n),r!==null){var i=Wt();Kr(r,t,n,i),Mv(r,e,n)}}function yb(t,e,r){var n=bi(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ov(t))Iv(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,Vr(a,s)){var l=e.interleaved;l===null?(i.next=i,od(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=lv(t,e,i,n),r!==null&&(i=Wt(),Kr(r,t,n,i),Mv(r,e,n))}}function Ov(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function Iv(t,e){Rs=Xl=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Mv(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Wh(t,r)}}var Zl={readContext:Pr,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},wb={readContext:Pr,useCallback:function(t,e){return Yr().memoizedState=[t,e===void 0?null:e],t},useContext:Pr,useEffect:U0,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,vl(4194308,4,Av.bind(null,e,t),r)},useLayoutEffect:function(t,e){return vl(4194308,4,t,e)},useInsertionEffect:function(t,e){return vl(4,2,t,e)},useMemo:function(t,e){var r=Yr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Yr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=vb.bind(null,ut,t),[n.memoizedState,t]},useRef:function(t){var e=Yr();return t={current:t},e.memoizedState=t},useState:F0,useDebugValue:pd,useDeferredValue:function(t){return Yr().memoizedState=t},useTransition:function(){var t=F0(!1),e=t[0];return t=mb.bind(null,t[1]),Yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ut,i=Yr();if(it){if(r===void 0)throw Error(q(407));r=r()}else{if(r=e(),Pt===null)throw Error(q(349));Wi&30||vv(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,U0(wv.bind(null,n,o,t),[t]),n.flags|=2048,na(9,yv.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Yr(),e=Pt.identifierPrefix;if(it){var r=On,n=Tn;r=(n&~(1<<32-Gr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ta++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=gb++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bb={readContext:Pr,useCallback:Cv,useContext:Pr,useEffect:dd,useImperativeHandle:kv,useInsertionEffect:_v,useLayoutEffect:Sv,useMemo:Nv,useReducer:Mc,useRef:xv,useState:function(){return Mc(ra)},useDebugValue:pd,useDeferredValue:function(t){var e=Tr();return Pv(e,St.memoizedState,t)},useTransition:function(){var t=Mc(ra)[0],e=Tr().memoizedState;return[t,e]},useMutableSource:gv,useSyncExternalStore:mv,useId:Tv,unstable_isNewReconciler:!1},Eb={readContext:Pr,useCallback:Cv,useContext:Pr,useEffect:dd,useImperativeHandle:kv,useInsertionEffect:_v,useLayoutEffect:Sv,useMemo:Nv,useReducer:Rc,useRef:xv,useState:function(){return Rc(ra)},useDebugValue:pd,useDeferredValue:function(t){var e=Tr();return St===null?e.memoizedState=t:Pv(e,St.memoizedState,t)},useTransition:function(){var t=Rc(ra)[0],e=Tr().memoizedState;return[t,e]},useMutableSource:gv,useSyncExternalStore:mv,useId:Tv,unstable_isNewReconciler:!1};function Ho(t,e){try{var r="",n=e;do r+=Qw(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Dc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Zf(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var xb=typeof WeakMap=="function"?WeakMap:Map;function Rv(t,e,r){r=Mn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){tu||(tu=!0,uh=n),Zf(t,e)},r}function Dv(t,e,r){r=Mn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Zf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Zf(t,e),typeof n!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function z0(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new xb;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Lb.bind(null,t,e,r),e.then(t,t))}function H0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function q0(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Mn(-1,1),e.tag=2,yi(r,e,1))),r.lanes|=1),t)}var _b=Hn.ReactCurrentOwner,Xt=!1;function $t(t,e,r,n){e.child=t===null?dv(e,null,r,n):Uo(e,t.child,r,n)}function $0(t,e,r,n,i){r=r.render;var o=e.ref;return Io(e,i),n=fd(t,e,r,n,o,i),r=hd(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bn(t,e,i)):(it&&r&&Zh(e),e.flags|=1,$t(t,e,n,i),e.child)}function W0(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!xd(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,Lv(t,e,o,n,i)):(t=El(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:Qs,r(s,n)&&t.ref===e.ref)return Bn(t,e,i)}return e.flags|=1,t=Ei(o,n),t.ref=e.ref,t.return=e,e.child=t}function Lv(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(Qs(o,n)&&t.ref===e.ref)if(Xt=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(Xt=!0);else return e.lanes=t.lanes,Bn(t,e,i)}return eh(t,e,r,n,i)}function jv(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(xo,ar),ar|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(xo,ar),ar|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ve(xo,ar),ar|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Ve(xo,ar),ar|=n;return $t(t,e,i,r),e.child}function Bv(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function eh(t,e,r,n,i){var o=tr(r)?qi:Ht.current;return o=Bo(e,o),Io(e,i),r=fd(t,e,r,n,o,i),n=hd(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bn(t,e,i)):(it&&n&&Zh(e),e.flags|=1,$t(t,e,r,i),e.child)}function G0(t,e,r,n,i){if(tr(r)){var o=!0;Wl(e)}else o=!1;if(Io(e,i),e.stateNode===null)yl(t,e),fv(e,r,n),Xf(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Pr(u):(u=tr(r)?qi:Ht.current,u=Bo(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==u)&&j0(e,s,n,u),oi=!1;var p=e.memoizedState;s.state=p,Jl(e,n,s,i),l=e.memoizedState,a!==n||p!==l||er.current||oi?(typeof c=="function"&&(Yf(e,r,c,n),l=e.memoizedState),(a=oi||L0(e,r,a,n,p,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,uv(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:zr(e.type,a),s.props=u,h=e.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Pr(l):(l=tr(r)?qi:Ht.current,l=Bo(e,l));var g=r.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||p!==l)&&j0(e,s,n,l),oi=!1,p=e.memoizedState,s.state=p,Jl(e,n,s,i);var v=e.memoizedState;a!==h||p!==v||er.current||oi?(typeof g=="function"&&(Yf(e,r,g,n),v=e.memoizedState),(u=oi||L0(e,r,u,n,p,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),s.props=n,s.state=v,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return th(t,e,r,n,o,i)}function th(t,e,r,n,i,o){Bv(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&O0(e,r,!1),Bn(t,e,o);n=e.stateNode,_b.current=e;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Uo(e,t.child,null,o),e.child=Uo(e,null,a,o)):$t(t,e,a,o),e.memoizedState=n.state,i&&O0(e,r,!0),e.child}function Fv(t){var e=t.stateNode;e.pendingContext?T0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&T0(t,e.context,!1),ad(t,e.containerInfo)}function K0(t,e,r,n,i){return Fo(),td(i),e.flags|=256,$t(t,e,r,n),e.child}var rh={dehydrated:null,treeContext:null,retryLane:0};function nh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Uv(t,e,r){var n=e.pendingProps,i=lt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(lt,i&1),t===null)return Qf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,o?(n=e.mode,o=e.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Nu(s,n,0,null),t=Ui(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=nh(r),e.memoizedState=rh,t):gd(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Sb(t,e,s,n,a,i,r);if(o){o=n.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ei(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ei(a,o):(o=Ui(o,s,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,s=t.child.memoizedState,s=s===null?nh(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~r,e.memoizedState=rh,n}return o=t.child,t=o.sibling,n=Ei(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function gd(t,e){return e=Nu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wa(t,e,r,n){return n!==null&&td(n),Uo(e,t.child,null,r),t=gd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Sb(t,e,r,n,i,o,s){if(r)return e.flags&256?(e.flags&=-257,n=Dc(Error(q(422))),Wa(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=Nu({mode:"visible",children:n.children},i,0,null),o=Ui(o,i,s,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Uo(e,t.child,null,s),e.child.memoizedState=nh(s),e.memoizedState=rh,o);if(!(e.mode&1))return Wa(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(q(419)),n=Dc(o,n,void 0),Wa(t,e,s,n)}if(a=(s&t.childLanes)!==0,Xt||a){if(n=Pt,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,jn(t,i),Kr(n,t,i,-1))}return Ed(),n=Dc(Error(q(421))),Wa(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jb.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,cr=vi(i.nextSibling),hr=e,it=!0,$r=null,t!==null&&(Sr[Ar++]=Tn,Sr[Ar++]=On,Sr[Ar++]=$i,Tn=t.id,On=t.overflow,$i=e),e=gd(e,n.children),e.flags|=4096,e)}function V0(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Jf(t.return,e,r)}function Lc(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function zv(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if($t(t,e,n.children,r),n=lt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&V0(t,r,e);else if(t.tag===19)V0(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ve(lt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Yl(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Lc(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Yl(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Lc(e,!0,r,null,o);break;case"together":Lc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Gi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,r=Ei(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ei(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Ab(t,e,r){switch(e.tag){case 3:Fv(e),Fo();break;case 5:pv(e);break;case 1:tr(e.type)&&Wl(e);break;case 4:ad(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ve(Vl,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ve(lt,lt.current&1),e.flags|=128,null):r&e.child.childLanes?Uv(t,e,r):(Ve(lt,lt.current&1),t=Bn(t,e,r),t!==null?t.sibling:null);Ve(lt,lt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return zv(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(lt,lt.current),n)break;return null;case 22:case 23:return e.lanes=0,jv(t,e,r)}return Bn(t,e,r)}var Hv,ih,qv,$v;Hv=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ih=function(){};qv=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Bi(an.current);var o=null;switch(r){case"input":i=kf(t,i),n=kf(t,n),o=[];break;case"select":i=ct({},i,{value:void 0}),n=ct({},n,{value:void 0}),o=[];break;case"textarea":i=Pf(t,i),n=Pf(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ql)}Of(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};$v=function(t,e,r,n){r!==n&&(e.flags|=4)};function hs(t,e){if(!it)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function kb(t,e,r){var n=e.pendingProps;switch(ed(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return tr(e.type)&&$l(),jt(e),null;case 3:return n=e.stateNode,zo(),nt(er),nt(Ht),ud(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(qa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$r!==null&&(hh($r),$r=null))),ih(t,e),jt(e),null;case 5:ld(e);var i=Bi(ea.current);if(r=e.type,t!==null&&e.stateNode!=null)qv(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(q(166));return jt(e),null}if(t=Bi(an.current),qa(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[rn]=e,n[Xs]=o,t=(e.mode&1)!==0,r){case"dialog":rt("cancel",n),rt("close",n);break;case"iframe":case"object":case"embed":rt("load",n);break;case"video":case"audio":for(i=0;i<As.length;i++)rt(As[i],n);break;case"source":rt("error",n);break;case"img":case"image":case"link":rt("error",n),rt("load",n);break;case"details":rt("toggle",n);break;case"input":n0(n,o),rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},rt("invalid",n);break;case"textarea":o0(n,o),rt("invalid",n)}Of(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ha(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ha(n.textContent,a,t),i=["children",""+a]):Hs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&rt("scroll",n)}switch(r){case"input":Ra(n),i0(n,o,!0);break;case"textarea":Ra(n),s0(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ql)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vm(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[rn]=e,t[Xs]=n,Hv(t,e,!1,!1),e.stateNode=t;e:{switch(s=If(r,n),r){case"dialog":rt("cancel",t),rt("close",t),i=n;break;case"iframe":case"object":case"embed":rt("load",t),i=n;break;case"video":case"audio":for(i=0;i<As.length;i++)rt(As[i],t);i=n;break;case"source":rt("error",t),i=n;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=n;break;case"details":rt("toggle",t),i=n;break;case"input":n0(t,n),i=kf(t,n),rt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ct({},n,{value:void 0}),rt("invalid",t);break;case"textarea":o0(t,n),i=Pf(t,n),rt("invalid",t);break;default:i=n}Of(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?bm(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ym(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&qs(t,l):typeof l=="number"&&qs(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&rt("scroll",t):l!=null&&Fh(t,o,l,s))}switch(r){case"input":Ra(t),i0(t,n,!1);break;case"textarea":Ra(t),s0(t);break;case"option":n.value!=null&&t.setAttribute("value",""+_i(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?No(t,!!n.multiple,o,!1):n.defaultValue!=null&&No(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ql)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)$v(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(q(166));if(r=Bi(ea.current),Bi(an.current),qa(e)){if(n=e.stateNode,r=e.memoizedProps,n[rn]=e,(o=n.nodeValue!==r)&&(t=hr,t!==null))switch(t.tag){case 3:Ha(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ha(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[rn]=e,e.stateNode=n}return jt(e),null;case 13:if(nt(lt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(it&&cr!==null&&e.mode&1&&!(e.flags&128))av(),Fo(),e.flags|=98560,o=!1;else if(o=qa(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[rn]=e}else Fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),o=!1}else $r!==null&&(hh($r),$r=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||lt.current&1?At===0&&(At=3):Ed())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return zo(),ih(t,e),t===null&&Js(e.stateNode.containerInfo),jt(e),null;case 10:return id(e.type._context),jt(e),null;case 17:return tr(e.type)&&$l(),jt(e),null;case 19:if(nt(lt),o=e.memoizedState,o===null)return jt(e),null;if(n=(e.flags&128)!==0,s=o.rendering,s===null)if(n)hs(o,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Yl(t),s!==null){for(e.flags|=128,hs(o,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ve(lt,lt.current&1|2),e.child}t=t.sibling}o.tail!==null&&mt()>qo&&(e.flags|=128,n=!0,hs(o,!1),e.lanes=4194304)}else{if(!n)if(t=Yl(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),hs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!it)return jt(e),null}else 2*mt()-o.renderingStartTime>qo&&r!==1073741824&&(e.flags|=128,n=!0,hs(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(r=o.last,r!==null?r.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=mt(),e.sibling=null,r=lt.current,Ve(lt,n?r&1|2:r&1),e):(jt(e),null);case 22:case 23:return bd(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ar&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function Cb(t,e){switch(ed(e),e.tag){case 1:return tr(e.type)&&$l(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zo(),nt(er),nt(Ht),ud(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ld(e),null;case 13:if(nt(lt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(lt),null;case 4:return zo(),null;case 10:return id(e.type._context),null;case 22:case 23:return bd(),null;case 24:return null;default:return null}}var Ga=!1,Ft=!1,Nb=typeof WeakSet=="function"?WeakSet:Set,X=null;function Eo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ht(t,e,n)}else r.current=null}function oh(t,e,r){try{r()}catch(n){ht(t,e,n)}}var Q0=!1;function Pb(t,e){if(Hf=Ul,t=Vm(),Xh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,p=null;t:for(;;){for(var g;h!==r||i!==0&&h.nodeType!==3||(a=s+i),h!==o||n!==0&&h.nodeType!==3||(l=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===r&&++u===i&&(a=s),p===o&&++c===n&&(l=s),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(qf={focusedElem:t,selectionRange:r},Ul=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var E=v.memoizedProps,C=v.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?E:zr(e.type,E),C);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(R){ht(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return v=Q0,Q0=!1,v}function Ds(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&oh(e,r,o)}i=i.next}while(i!==n)}}function ku(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function sh(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Wv(t){var e=t.alternate;e!==null&&(t.alternate=null,Wv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rn],delete e[Xs],delete e[Gf],delete e[fb],delete e[hb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Gv(t){return t.tag===5||t.tag===3||t.tag===4}function J0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ah(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ql));else if(n!==4&&(t=t.child,t!==null))for(ah(t,e,r),t=t.sibling;t!==null;)ah(t,e,r),t=t.sibling}function lh(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(lh(t,e,r),t=t.sibling;t!==null;)lh(t,e,r),t=t.sibling}var Ot=null,qr=!1;function Zn(t,e,r){for(r=r.child;r!==null;)Kv(t,e,r),r=r.sibling}function Kv(t,e,r){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(yu,r)}catch{}switch(r.tag){case 5:Ft||Eo(r,e);case 6:var n=Ot,i=qr;Ot=null,Zn(t,e,r),Ot=n,qr=i,Ot!==null&&(qr?(t=Ot,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ot.removeChild(r.stateNode));break;case 18:Ot!==null&&(qr?(t=Ot,r=r.stateNode,t.nodeType===8?Pc(t.parentNode,r):t.nodeType===1&&Pc(t,r),Ks(t)):Pc(Ot,r.stateNode));break;case 4:n=Ot,i=qr,Ot=r.stateNode.containerInfo,qr=!0,Zn(t,e,r),Ot=n,qr=i;break;case 0:case 11:case 14:case 15:if(!Ft&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&oh(r,e,s),i=i.next}while(i!==n)}Zn(t,e,r);break;case 1:if(!Ft&&(Eo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ht(r,e,a)}Zn(t,e,r);break;case 21:Zn(t,e,r);break;case 22:r.mode&1?(Ft=(n=Ft)||r.memoizedState!==null,Zn(t,e,r),Ft=n):Zn(t,e,r);break;default:Zn(t,e,r)}}function Y0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Nb),e.forEach(function(n){var i=Bb.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function jr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ot=a.stateNode,qr=!1;break e;case 3:Ot=a.stateNode.containerInfo,qr=!0;break e;case 4:Ot=a.stateNode.containerInfo,qr=!0;break e}a=a.return}if(Ot===null)throw Error(q(160));Kv(o,s,i),Ot=null,qr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ht(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vv(e,t),e=e.sibling}function Vv(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jr(e,t),Jr(t),n&4){try{Ds(3,t,t.return),ku(3,t)}catch(E){ht(t,t.return,E)}try{Ds(5,t,t.return)}catch(E){ht(t,t.return,E)}}break;case 1:jr(e,t),Jr(t),n&512&&r!==null&&Eo(r,r.return);break;case 5:if(jr(e,t),Jr(t),n&512&&r!==null&&Eo(r,r.return),t.flags&32){var i=t.stateNode;try{qs(i,"")}catch(E){ht(t,t.return,E)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=r!==null?r.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&gm(i,o),If(a,s);var u=If(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?bm(i,h):c==="dangerouslySetInnerHTML"?ym(i,h):c==="children"?qs(i,h):Fh(i,c,h,u)}switch(a){case"input":Cf(i,o);break;case"textarea":mm(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?No(i,!!o.multiple,g,!1):p!==!!o.multiple&&(o.defaultValue!=null?No(i,!!o.multiple,o.defaultValue,!0):No(i,!!o.multiple,o.multiple?[]:"",!1))}i[Xs]=o}catch(E){ht(t,t.return,E)}}break;case 6:if(jr(e,t),Jr(t),n&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(E){ht(t,t.return,E)}}break;case 3:if(jr(e,t),Jr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ks(e.containerInfo)}catch(E){ht(t,t.return,E)}break;case 4:jr(e,t),Jr(t);break;case 13:jr(e,t),Jr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(yd=mt())),n&4&&Y0(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Ft=(u=Ft)||c,jr(e,t),Ft=u):jr(e,t),Jr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(X=t,c=t.child;c!==null;){for(h=X=c;X!==null;){switch(p=X,g=p.child,p.tag){case 0:case 11:case 14:case 15:Ds(4,p,p.return);break;case 1:Eo(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(E){ht(n,r,E)}}break;case 5:Eo(p,p.return);break;case 22:if(p.memoizedState!==null){Z0(h);continue}}g!==null?(g.return=p,X=g):Z0(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wm("display",s))}catch(E){ht(t,t.return,E)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(E){ht(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jr(e,t),Jr(t),n&4&&Y0(t);break;case 21:break;default:jr(e,t),Jr(t)}}function Jr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Gv(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(qs(i,""),n.flags&=-33);var o=J0(t);lh(t,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=J0(t);ah(t,a,s);break;default:throw Error(q(161))}}catch(l){ht(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Tb(t,e,r){X=t,Qv(t)}function Qv(t,e,r){for(var n=(t.mode&1)!==0;X!==null;){var i=X,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Ga;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ft;a=Ga;var u=Ft;if(Ga=s,(Ft=l)&&!u)for(X=i;X!==null;)s=X,l=s.child,s.tag===22&&s.memoizedState!==null?ep(i):l!==null?(l.return=s,X=l):ep(i);for(;o!==null;)X=o,Qv(o),o=o.sibling;X=i,Ga=a,Ft=u}X0(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,X=o):X0(t)}}function X0(t){for(;X!==null;){var e=X;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||ku(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ft)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:zr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&D0(e,o,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}D0(e,s,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ks(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Ft||e.flags&512&&sh(e)}catch(p){ht(e,e.return,p)}}if(e===t){X=null;break}if(r=e.sibling,r!==null){r.return=e.return,X=r;break}X=e.return}}function Z0(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var r=e.sibling;if(r!==null){r.return=e.return,X=r;break}X=e.return}}function ep(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ku(4,e)}catch(l){ht(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){ht(e,i,l)}}var o=e.return;try{sh(e)}catch(l){ht(e,o,l)}break;case 5:var s=e.return;try{sh(e)}catch(l){ht(e,s,l)}}}catch(l){ht(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var Ob=Math.ceil,eu=Hn.ReactCurrentDispatcher,md=Hn.ReactCurrentOwner,Nr=Hn.ReactCurrentBatchConfig,_e=0,Pt=null,wt=null,Mt=0,ar=0,xo=Ci(0),At=0,ia=null,Gi=0,Cu=0,vd=0,Ls=null,Jt=null,yd=0,qo=1/0,Sn=null,tu=!1,uh=null,wi=null,Ka=!1,hi=null,ru=0,js=0,ch=null,wl=-1,bl=0;function Wt(){return _e&6?mt():wl!==-1?wl:wl=mt()}function bi(t){return t.mode&1?_e&2&&Mt!==0?Mt&-Mt:pb.transition!==null?(bl===0&&(bl=Im()),bl):(t=De,t!==0||(t=window.event,t=t===void 0?16:Fm(t.type)),t):1}function Kr(t,e,r,n){if(50<js)throw js=0,ch=null,Error(q(185));ba(t,r,n),(!(_e&2)||t!==Pt)&&(t===Pt&&(!(_e&2)&&(Cu|=r),At===4&&li(t,Mt)),rr(t,n),r===1&&_e===0&&!(e.mode&1)&&(qo=mt()+500,_u&&Ni()))}function rr(t,e){var r=t.callbackNode;p2(t,e);var n=Fl(t,t===Pt?Mt:0);if(n===0)r!==null&&u0(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&u0(r),e===1)t.tag===0?db(tp.bind(null,t)):iv(tp.bind(null,t)),ub(function(){!(_e&6)&&Ni()}),r=null;else{switch(Mm(n)){case 1:r=$h;break;case 4:r=Tm;break;case 16:r=Bl;break;case 536870912:r=Om;break;default:r=Bl}r=n1(r,Jv.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Jv(t,e){if(wl=-1,bl=0,_e&6)throw Error(q(327));var r=t.callbackNode;if(Mo()&&t.callbackNode!==r)return null;var n=Fl(t,t===Pt?Mt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=nu(t,n);else{e=n;var i=_e;_e|=2;var o=Xv();(Pt!==t||Mt!==e)&&(Sn=null,qo=mt()+500,Fi(t,e));do try{Rb();break}catch(a){Yv(t,a)}while(1);nd(),eu.current=o,_e=i,wt!==null?e=0:(Pt=null,Mt=0,e=At)}if(e!==0){if(e===2&&(i=jf(t),i!==0&&(n=i,e=fh(t,i))),e===1)throw r=ia,Fi(t,0),li(t,n),rr(t,mt()),r;if(e===6)li(t,n);else{if(i=t.current.alternate,!(n&30)&&!Ib(i)&&(e=nu(t,n),e===2&&(o=jf(t),o!==0&&(n=o,e=fh(t,o))),e===1))throw r=ia,Fi(t,0),li(t,n),rr(t,mt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(q(345));case 2:Ri(t,Jt,Sn);break;case 3:if(li(t,n),(n&130023424)===n&&(e=yd+500-mt(),10<e)){if(Fl(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wf(Ri.bind(null,t,Jt,Sn),e);break}Ri(t,Jt,Sn);break;case 4:if(li(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Gr(n);o=1<<s,s=e[s],s>i&&(i=s),n&=~o}if(n=i,n=mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ob(n/1960))-n,10<n){t.timeoutHandle=Wf(Ri.bind(null,t,Jt,Sn),n);break}Ri(t,Jt,Sn);break;case 5:Ri(t,Jt,Sn);break;default:throw Error(q(329))}}}return rr(t,mt()),t.callbackNode===r?Jv.bind(null,t):null}function fh(t,e){var r=Ls;return t.current.memoizedState.isDehydrated&&(Fi(t,e).flags|=256),t=nu(t,e),t!==2&&(e=Jt,Jt=r,e!==null&&hh(e)),t}function hh(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function Ib(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Vr(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function li(t,e){for(e&=~vd,e&=~Cu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Gr(e),n=1<<r;t[r]=-1,e&=~n}}function tp(t){if(_e&6)throw Error(q(327));Mo();var e=Fl(t,0);if(!(e&1))return rr(t,mt()),null;var r=nu(t,e);if(t.tag!==0&&r===2){var n=jf(t);n!==0&&(e=n,r=fh(t,n))}if(r===1)throw r=ia,Fi(t,0),li(t,e),rr(t,mt()),r;if(r===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ri(t,Jt,Sn),rr(t,mt()),null}function wd(t,e){var r=_e;_e|=1;try{return t(e)}finally{_e=r,_e===0&&(qo=mt()+500,_u&&Ni())}}function Ki(t){hi!==null&&hi.tag===0&&!(_e&6)&&Mo();var e=_e;_e|=1;var r=Nr.transition,n=De;try{if(Nr.transition=null,De=1,t)return t()}finally{De=n,Nr.transition=r,_e=e,!(_e&6)&&Ni()}}function bd(){ar=xo.current,nt(xo)}function Fi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,lb(r)),wt!==null)for(r=wt.return;r!==null;){var n=r;switch(ed(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$l();break;case 3:zo(),nt(er),nt(Ht),ud();break;case 5:ld(n);break;case 4:zo();break;case 13:nt(lt);break;case 19:nt(lt);break;case 10:id(n.type._context);break;case 22:case 23:bd()}r=r.return}if(Pt=t,wt=t=Ei(t.current,null),Mt=ar=e,At=0,ia=null,vd=Cu=Gi=0,Jt=Ls=null,ji!==null){for(e=0;e<ji.length;e++)if(r=ji[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}ji=null}return t}function Yv(t,e){do{var r=wt;try{if(nd(),ml.current=Zl,Xl){for(var n=ut.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Xl=!1}if(Wi=0,Ct=St=ut=null,Rs=!1,ta=0,md.current=null,r===null||r.return===null){At=1,ia=e,wt=null;break}e:{var o=t,s=r.return,a=r,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=H0(s);if(g!==null){g.flags&=-257,q0(g,s,a,o,e),g.mode&1&&z0(o,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var E=new Set;E.add(l),e.updateQueue=E}else v.add(l);break e}else{if(!(e&1)){z0(o,u,e),Ed();break e}l=Error(q(426))}}else if(it&&a.mode&1){var C=H0(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),q0(C,s,a,o,e),td(Ho(l,a));break e}}o=l=Ho(l,a),At!==4&&(At=2),Ls===null?Ls=[o]:Ls.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=Rv(o,l,e);R0(o,w);break e;case 1:a=l;var b=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(wi===null||!wi.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var R=Dv(o,a,e);R0(o,R);break e}}o=o.return}while(o!==null)}e1(r)}catch(D){e=D,wt===r&&r!==null&&(wt=r=r.return);continue}break}while(1)}function Xv(){var t=eu.current;return eu.current=Zl,t===null?Zl:t}function Ed(){(At===0||At===3||At===2)&&(At=4),Pt===null||!(Gi&268435455)&&!(Cu&268435455)||li(Pt,Mt)}function nu(t,e){var r=_e;_e|=2;var n=Xv();(Pt!==t||Mt!==e)&&(Sn=null,Fi(t,e));do try{Mb();break}catch(i){Yv(t,i)}while(1);if(nd(),_e=r,eu.current=n,wt!==null)throw Error(q(261));return Pt=null,Mt=0,At}function Mb(){for(;wt!==null;)Zv(wt)}function Rb(){for(;wt!==null&&!o2();)Zv(wt)}function Zv(t){var e=r1(t.alternate,t,ar);t.memoizedProps=t.pendingProps,e===null?e1(t):wt=e,md.current=null}function e1(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Cb(r,e),r!==null){r.flags&=32767,wt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,wt=null;return}}else if(r=kb(r,e,ar),r!==null){wt=r;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);At===0&&(At=5)}function Ri(t,e,r){var n=De,i=Nr.transition;try{Nr.transition=null,De=1,Db(t,e,r,n)}finally{Nr.transition=i,De=n}return null}function Db(t,e,r,n){do Mo();while(hi!==null);if(_e&6)throw Error(q(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(g2(t,o),t===Pt&&(wt=Pt=null,Mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ka||(Ka=!0,n1(Bl,function(){return Mo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Nr.transition,Nr.transition=null;var s=De;De=1;var a=_e;_e|=4,md.current=null,Pb(t,r),Vv(r,t),tb(qf),Ul=!!Hf,qf=Hf=null,t.current=r,Tb(r),s2(),_e=a,De=s,Nr.transition=o}else t.current=r;if(Ka&&(Ka=!1,hi=t,ru=i),o=t.pendingLanes,o===0&&(wi=null),u2(r.stateNode),rr(t,mt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(tu)throw tu=!1,t=uh,uh=null,t;return ru&1&&t.tag!==0&&Mo(),o=t.pendingLanes,o&1?t===ch?js++:(js=0,ch=t):js=0,Ni(),null}function Mo(){if(hi!==null){var t=Mm(ru),e=Nr.transition,r=De;try{if(Nr.transition=null,De=16>t?16:t,hi===null)var n=!1;else{if(t=hi,hi=null,ru=0,_e&6)throw Error(q(331));var i=_e;for(_e|=4,X=t.current;X!==null;){var o=X,s=o.child;if(X.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var c=X;switch(c.tag){case 0:case 11:case 15:Ds(8,c,o)}var h=c.child;if(h!==null)h.return=c,X=h;else for(;X!==null;){c=X;var p=c.sibling,g=c.return;if(Wv(c),c===u){X=null;break}if(p!==null){p.return=g,X=p;break}X=g}}}var v=o.alternate;if(v!==null){var E=v.child;if(E!==null){v.child=null;do{var C=E.sibling;E.sibling=null,E=C}while(E!==null)}}X=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,X=s;else e:for(;X!==null;){if(o=X,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ds(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,X=w;break e}X=o.return}}var b=t.current;for(X=b;X!==null;){s=X;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,X=x;else e:for(s=b;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ku(9,a)}}catch(D){ht(a,a.return,D)}if(a===s){X=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,X=R;break e}X=a.return}}if(_e=i,Ni(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(yu,t)}catch{}n=!0}return n}finally{De=r,Nr.transition=e}}return!1}function rp(t,e,r){e=Ho(r,e),e=Rv(t,e,1),t=yi(t,e,1),e=Wt(),t!==null&&(ba(t,1,e),rr(t,e))}function ht(t,e,r){if(t.tag===3)rp(t,t,r);else for(;e!==null;){if(e.tag===3){rp(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wi===null||!wi.has(n))){t=Ho(r,t),t=Dv(e,t,1),e=yi(e,t,1),t=Wt(),e!==null&&(ba(e,1,t),rr(e,t));break}}e=e.return}}function Lb(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&r,Pt===t&&(Mt&r)===r&&(At===4||At===3&&(Mt&130023424)===Mt&&500>mt()-yd?Fi(t,0):vd|=r),rr(t,e)}function t1(t,e){e===0&&(t.mode&1?(e=ja,ja<<=1,!(ja&130023424)&&(ja=4194304)):e=1);var r=Wt();t=jn(t,e),t!==null&&(ba(t,e,r),rr(t,r))}function jb(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),t1(t,r)}function Bb(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(e),t1(t,r)}var r1;r1=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||er.current)Xt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Xt=!1,Ab(t,e,r);Xt=!!(t.flags&131072)}else Xt=!1,it&&e.flags&1048576&&ov(e,Kl,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;yl(t,e),t=e.pendingProps;var i=Bo(e,Ht.current);Io(e,r),i=fd(null,e,n,t,i,r);var o=hd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tr(n)?(o=!0,Wl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sd(e),i.updater=Su,e.stateNode=i,i._reactInternals=e,Xf(e,n,t,r),e=th(null,e,n,!0,o,r)):(e.tag=0,it&&o&&Zh(e),$t(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(yl(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Ub(n),t=zr(n,t),i){case 0:e=eh(null,e,n,t,r);break e;case 1:e=G0(null,e,n,t,r);break e;case 11:e=$0(null,e,n,t,r);break e;case 14:e=W0(null,e,n,zr(n.type,t),r);break e}throw Error(q(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:zr(n,i),eh(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:zr(n,i),G0(t,e,n,i,r);case 3:e:{if(Fv(e),t===null)throw Error(q(387));n=e.pendingProps,o=e.memoizedState,i=o.element,uv(t,e),Jl(e,n,null,r);var s=e.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ho(Error(q(423)),e),e=K0(t,e,n,r,i);break e}else if(n!==i){i=Ho(Error(q(424)),e),e=K0(t,e,n,r,i);break e}else for(cr=vi(e.stateNode.containerInfo.firstChild),hr=e,it=!0,$r=null,r=dv(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fo(),n===i){e=Bn(t,e,r);break e}$t(t,e,n,r)}e=e.child}return e;case 5:return pv(e),t===null&&Qf(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,$f(n,i)?s=null:o!==null&&$f(n,o)&&(e.flags|=32),Bv(t,e),$t(t,e,s,r),e.child;case 6:return t===null&&Qf(e),null;case 13:return Uv(t,e,r);case 4:return ad(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Uo(e,null,n,r):$t(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:zr(n,i),$0(t,e,n,i,r);case 7:return $t(t,e,e.pendingProps,r),e.child;case 8:return $t(t,e,e.pendingProps.children,r),e.child;case 12:return $t(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ve(Vl,n._currentValue),n._currentValue=s,o!==null)if(Vr(o.value,s)){if(o.children===i.children&&!er.current){e=Bn(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Mn(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Jf(o.return,r,e),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(q(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),Jf(s,r,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}$t(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Io(e,r),i=Pr(i),n=n(i),e.flags|=1,$t(t,e,n,r),e.child;case 14:return n=e.type,i=zr(n,e.pendingProps),i=zr(n.type,i),W0(t,e,n,i,r);case 15:return Lv(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:zr(n,i),yl(t,e),e.tag=1,tr(n)?(t=!0,Wl(e)):t=!1,Io(e,r),fv(e,n,i),Xf(e,n,i,r),th(null,e,n,!0,t,r);case 19:return zv(t,e,r);case 22:return jv(t,e,r)}throw Error(q(156,e.tag))};function n1(t,e){return Pm(t,e)}function Fb(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(t,e,r,n){return new Fb(t,e,r,n)}function xd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ub(t){if(typeof t=="function")return xd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zh)return 11;if(t===Hh)return 14}return 2}function Ei(t,e){var r=t.alternate;return r===null?(r=Cr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function El(t,e,r,n,i,o){var s=2;if(n=t,typeof t=="function")xd(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case fo:return Ui(r.children,i,o,e);case Uh:s=8,i|=8;break;case xf:return t=Cr(12,r,e,i|2),t.elementType=xf,t.lanes=o,t;case _f:return t=Cr(13,r,e,i),t.elementType=_f,t.lanes=o,t;case Sf:return t=Cr(19,r,e,i),t.elementType=Sf,t.lanes=o,t;case hm:return Nu(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cm:s=10;break e;case fm:s=9;break e;case zh:s=11;break e;case Hh:s=14;break e;case ii:s=16,n=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Cr(s,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function Ui(t,e,r,n){return t=Cr(7,t,n,e),t.lanes=r,t}function Nu(t,e,r,n){return t=Cr(22,t,n,e),t.elementType=hm,t.lanes=r,t.stateNode={isHidden:!1},t}function jc(t,e,r){return t=Cr(6,t,null,e),t.lanes=r,t}function Bc(t,e,r){return e=Cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zb(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yc(0),this.expirationTimes=yc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _d(t,e,r,n,i,o,s,a,l){return t=new zb(t,e,r,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Cr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sd(o),t}function Hb(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:co,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function i1(t){if(!t)return Si;t=t._reactInternals;e:{if(to(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var r=t.type;if(tr(r))return nv(t,r,e)}return e}function o1(t,e,r,n,i,o,s,a,l){return t=_d(r,n,!0,t,i,o,s,a,l),t.context=i1(null),r=t.current,n=Wt(),i=bi(r),o=Mn(n,i),o.callback=e??null,yi(r,o,i),t.current.lanes=i,ba(t,i,n),rr(t,n),t}function Pu(t,e,r,n){var i=e.current,o=Wt(),s=bi(i);return r=i1(r),e.context===null?e.context=r:e.pendingContext=r,e=Mn(o,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=yi(i,e,s),t!==null&&(Kr(t,i,s,o),gl(t,i,s)),s}function iu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function np(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Sd(t,e){np(t,e),(t=t.alternate)&&np(t,e)}function qb(){return null}var s1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ad(t){this._internalRoot=t}Tu.prototype.render=Ad.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Pu(t,e,null,null)};Tu.prototype.unmount=Ad.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ki(function(){Pu(null,t,null,null)}),e[Ln]=null}};function Tu(t){this._internalRoot=t}Tu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Lm();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ai.length&&e!==0&&e<ai[r].priority;r++);ai.splice(r,0,t),r===0&&Bm(t)}};function kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ou(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ip(){}function $b(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=iu(s);o.call(u)}}var s=o1(e,n,t,0,null,!1,!1,"",ip);return t._reactRootContainer=s,t[Ln]=s.current,Js(t.nodeType===8?t.parentNode:t),Ki(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=iu(l);a.call(u)}}var l=_d(t,0,!1,null,null,!1,!1,"",ip);return t._reactRootContainer=l,t[Ln]=l.current,Js(t.nodeType===8?t.parentNode:t),Ki(function(){Pu(e,l,r,n)}),l}function Iu(t,e,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=iu(s);a.call(l)}}Pu(e,s,t,i)}else s=$b(r,e,t,i,n);return iu(s)}Rm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ss(e.pendingLanes);r!==0&&(Wh(e,r|1),rr(e,mt()),!(_e&6)&&(qo=mt()+500,Ni()))}break;case 13:Ki(function(){var n=jn(t,1);if(n!==null){var i=Wt();Kr(n,t,1,i)}}),Sd(t,1)}};Gh=function(t){if(t.tag===13){var e=jn(t,134217728);if(e!==null){var r=Wt();Kr(e,t,134217728,r)}Sd(t,134217728)}};Dm=function(t){if(t.tag===13){var e=bi(t),r=jn(t,e);if(r!==null){var n=Wt();Kr(r,t,e,n)}Sd(t,e)}};Lm=function(){return De};jm=function(t,e){var r=De;try{return De=t,e()}finally{De=r}};Rf=function(t,e,r){switch(e){case"input":if(Cf(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=xu(n);if(!i)throw Error(q(90));pm(n),Cf(n,i)}}}break;case"textarea":mm(t,r);break;case"select":e=r.value,e!=null&&No(t,!!r.multiple,e,!1)}};_m=wd;Sm=Ki;var Wb={usingClientEntryPoint:!1,Events:[xa,mo,xu,Em,xm,wd]},ds={findFiberByHostInstance:Li,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Gb={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cm(t),t===null?null:t.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||qb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Va=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Va.isDisabled&&Va.supportsFiber)try{yu=Va.inject(Gb),sn=Va}catch{}}pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wb;pr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kd(e))throw Error(q(200));return Hb(t,e,null,r)};pr.createRoot=function(t,e){if(!kd(t))throw Error(q(299));var r=!1,n="",i=s1;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_d(t,1,!1,null,null,r,!1,n,i),t[Ln]=e.current,Js(t.nodeType===8?t.parentNode:t),new Ad(e)};pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=Cm(e),t=t===null?null:t.stateNode,t};pr.flushSync=function(t){return Ki(t)};pr.hydrate=function(t,e,r){if(!Ou(e))throw Error(q(200));return Iu(null,t,e,!0,r)};pr.hydrateRoot=function(t,e,r){if(!kd(t))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=s1;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=o1(e,null,t,1,r??null,i,!1,o,s),t[Ln]=e.current,Js(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Tu(e)};pr.render=function(t,e,r){if(!Ou(e))throw Error(q(200));return Iu(null,t,e,!1,r)};pr.unmountComponentAtNode=function(t){if(!Ou(t))throw Error(q(40));return t._reactRootContainer?(Ki(function(){Iu(null,null,t,!1,function(){t._reactRootContainer=null,t[Ln]=null})}),!0):!1};pr.unstable_batchedUpdates=wd;pr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ou(r))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Iu(t,e,r,!1,n)};pr.version="18.2.0-next-9e3b772b8-20220608";function a1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a1)}catch(t){console.error(t)}}a1(),om.exports=pr;var Kb=om.exports,op=Kb;bf.createRoot=op.createRoot,bf.hydrateRoot=op.hydrateRoot;const sp=t=>{let e;const r=new Set,n=(l,u)=>{const c=typeof l=="function"?l(e):l;if(!Object.is(c,e)){const h=e;e=u??(typeof c!="object"||c===null)?c:Object.assign({},e,c),r.forEach(p=>p(e,h))}},i=()=>e,a={setState:n,getState:i,subscribe:l=>(r.add(l),()=>r.delete(l)),destroy:()=>{r.clear()}};return e=t(n,i,a),a},Vb=t=>t?sp(t):sp;var l1={exports:{}},u1={},c1={exports:{}},f1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $o=z;function Qb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jb=typeof Object.is=="function"?Object.is:Qb,Yb=$o.useState,Xb=$o.useEffect,Zb=$o.useLayoutEffect,eE=$o.useDebugValue;function tE(t,e){var r=e(),n=Yb({inst:{value:r,getSnapshot:e}}),i=n[0].inst,o=n[1];return Zb(function(){i.value=r,i.getSnapshot=e,Fc(i)&&o({inst:i})},[t,r,e]),Xb(function(){return Fc(i)&&o({inst:i}),t(function(){Fc(i)&&o({inst:i})})},[t]),eE(r),r}function Fc(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Jb(t,r)}catch{return!0}}function rE(t,e){return e()}var nE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?rE:tE;f1.useSyncExternalStore=$o.useSyncExternalStore!==void 0?$o.useSyncExternalStore:nE;c1.exports=f1;var iE=c1.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=z,oE=iE;function sE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var aE=typeof Object.is=="function"?Object.is:sE,lE=oE.useSyncExternalStore,uE=Mu.useRef,cE=Mu.useEffect,fE=Mu.useMemo,hE=Mu.useDebugValue;u1.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var o=uE(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=fE(function(){function l(g){if(!u){if(u=!0,c=g,g=n(g),i!==void 0&&s.hasValue){var v=s.value;if(i(v,g))return h=v}return h=g}if(v=h,aE(c,g))return v;var E=n(g);return i!==void 0&&i(v,E)?v:(c=g,h=E)}var u=!1,c,h,p=r===void 0?null:r;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,r,n,i]);var a=lE(t,o[0],o[1]);return cE(function(){s.hasValue=!0,s.value=a},[a]),hE(a),a};l1.exports=u1;var dE=l1.exports;const Ru=Jo(dE),{useDebugValue:pE}=nm,{useSyncExternalStoreWithSelector:gE}=Ru;function mE(t,e=t.getState,r){const n=gE(t.subscribe,t.getState,t.getServerState||t.getState,e,r);return pE(n),n}const ap=t=>{const e=typeof t=="function"?Vb(t):t,r=(n,i)=>mE(e,n,i);return Object.assign(r,e),r},vE=t=>t?ap(t):ap;function h1(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var o;const s=l=>l===null?null:JSON.parse(l,e==null?void 0:e.reviver),a=(o=r.getItem(i))!=null?o:null;return a instanceof Promise?a.then(s):s(a)},setItem:(i,o)=>r.setItem(i,JSON.stringify(o,e==null?void 0:e.replacer)),removeItem:i=>r.removeItem(i)}}const oa=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return oa(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return oa(n)(r)}}}},yE=(t,e)=>(r,n,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:C=>C,version:0,merge:(C,w)=>({...w,...C}),...e},s=!1;const a=new Set,l=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return t((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...C)},n,i);const c=oa(o.serialize),h=()=>{const C=o.partialize({...n()});let w;const b=c({state:C,version:o.version}).then(x=>u.setItem(o.name,x)).catch(x=>{w=x});if(w)throw w;return b},p=i.setState;i.setState=(C,w)=>{p(C,w),h()};const g=t((...C)=>{r(...C),h()},n,i);let v;const E=()=>{var C;if(!u)return;s=!1,a.forEach(b=>b(n()));const w=((C=o.onRehydrateStorage)==null?void 0:C.call(o,n()))||void 0;return oa(u.getItem.bind(u))(o.name).then(b=>{if(b)return o.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==o.version){if(o.migrate)return o.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var x;return v=o.merge(b,(x=n())!=null?x:g),r(v,!0),h()}).then(()=>{w==null||w(v,void 0),s=!0,l.forEach(b=>b(v))}).catch(b=>{w==null||w(void 0,b)})};return i.persist={setOptions:C=>{o={...o,...C},C.getStorage&&(u=C.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>E(),hasHydrated:()=>s,onHydrate:C=>(a.add(C),()=>{a.delete(C)}),onFinishHydration:C=>(l.add(C),()=>{l.delete(C)})},E(),v||g},wE=(t,e)=>(r,n,i)=>{let o={storage:h1(()=>localStorage),partialize:E=>E,version:0,merge:(E,C)=>({...C,...E}),...e},s=!1;const a=new Set,l=new Set;let u=o.storage;if(!u)return t((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...E)},n,i);const c=()=>{const E=o.partialize({...n()});return u.setItem(o.name,{state:E,version:o.version})},h=i.setState;i.setState=(E,C)=>{h(E,C),c()};const p=t((...E)=>{r(...E),c()},n,i);let g;const v=()=>{var E,C;if(!u)return;s=!1,a.forEach(b=>{var x;return b((x=n())!=null?x:p)});const w=((C=o.onRehydrateStorage)==null?void 0:C.call(o,(E=n())!=null?E:p))||void 0;return oa(u.getItem.bind(u))(o.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==o.version){if(o.migrate)return o.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var x;return g=o.merge(b,(x=n())!=null?x:p),r(g,!0),c()}).then(()=>{w==null||w(g,void 0),g=n(),s=!0,l.forEach(b=>b(g))}).catch(b=>{w==null||w(void 0,b)})};return i.persist={setOptions:E=>{o={...o,...E},E.storage&&(u=E.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>v(),hasHydrated:()=>s,onHydrate:E=>(a.add(E),()=>{a.delete(E)}),onFinishHydration:E=>(l.add(E),()=>{l.delete(E)})},o.skipHydration||v(),g||p},bE=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?yE(t,e):wE(t,e),EE=bE,qn=vE()(EE(t=>({sequenced:[],balances:{},nonces:{},withdrawals:[],batches:[],state:{pending_games:{},games:{}},set:t}),{name:"sequencer",storage:h1(()=>localStorage)}));var Cd={exports:{}};const xE={},_E=Object.freeze(Object.defineProperty({__proto__:null,default:xE},Symbol.toStringTag,{value:"Module"})),SE=Yo(_E);Cd.exports;(function(t){(function(e,r){function n(T,f){if(!T)throw new Error(f||"Assertion failed")}function i(T,f){T.super_=f;var m=function(){};m.prototype=f.prototype,T.prototype=new m,T.prototype.constructor=T}function o(T,f,m){if(o.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((f==="le"||f==="be")&&(m=f,f=10),this._init(T||0,f||10,m||"be"))}typeof e=="object"?e.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=SE.Buffer}catch{}o.isBN=function(f){return f instanceof o?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===o.wordSize&&Array.isArray(f.words)},o.max=function(f,m){return f.cmp(m)>0?f:m},o.min=function(f,m){return f.cmp(m)<0?f:m},o.prototype._init=function(f,m,_){if(typeof f=="number")return this._initNumber(f,m,_);if(typeof f=="object")return this._initArray(f,m,_);m==="hex"&&(m=16),n(m===(m|0)&&m>=2&&m<=36),f=f.toString().replace(/\s+/g,"");var k=0;f[0]==="-"&&(k++,this.negative=1),k<f.length&&(m===16?this._parseHex(f,k,_):(this._parseBase(f,m,k),_==="le"&&this._initArray(this.toArray(),m,_)))},o.prototype._initNumber=function(f,m,_){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),m,_)},o.prototype._initArray=function(f,m,_){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var S,O,I=0;if(_==="be")for(k=f.length-1,S=0;k>=0;k-=3)O=f[k]|f[k-1]<<8|f[k-2]<<16,this.words[S]|=O<<I&67108863,this.words[S+1]=O>>>26-I&67108863,I+=24,I>=26&&(I-=26,S++);else if(_==="le")for(k=0,S=0;k<f.length;k+=3)O=f[k]|f[k+1]<<8|f[k+2]<<16,this.words[S]|=O<<I&67108863,this.words[S+1]=O>>>26-I&67108863,I+=24,I>=26&&(I-=26,S++);return this._strip()};function a(T,f){var m=T.charCodeAt(f);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;n(!1,"Invalid character in "+T)}function l(T,f,m){var _=a(T,m);return m-1>=f&&(_|=a(T,m-1)<<4),_}o.prototype._parseHex=function(f,m,_){this.length=Math.ceil((f.length-m)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var S=0,O=0,I;if(_==="be")for(k=f.length-1;k>=m;k-=2)I=l(f,m,k)<<S,this.words[O]|=I&67108863,S>=18?(S-=18,O+=1,this.words[O]|=I>>>26):S+=8;else{var A=f.length-m;for(k=A%2===0?m+1:m;k<f.length;k+=2)I=l(f,m,k)<<S,this.words[O]|=I&67108863,S>=18?(S-=18,O+=1,this.words[O]|=I>>>26):S+=8}this._strip()};function u(T,f,m,_){for(var k=0,S=0,O=Math.min(T.length,m),I=f;I<O;I++){var A=T.charCodeAt(I)-48;k*=_,A>=49?S=A-49+10:A>=17?S=A-17+10:S=A,n(A>=0&&S<_,"Invalid character"),k+=S}return k}o.prototype._parseBase=function(f,m,_){this.words=[0],this.length=1;for(var k=0,S=1;S<=67108863;S*=m)k++;k--,S=S/m|0;for(var O=f.length-_,I=O%k,A=Math.min(O,O-I)+_,d=0,P=_;P<A;P+=k)d=u(f,P,P+k,m),this.imuln(S),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(I!==0){var W=1;for(d=u(f,P,f.length,m),P=0;P<I;P++)W*=m;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},o.prototype.copy=function(f){f.words=new Array(this.length);for(var m=0;m<this.length;m++)f.words[m]=this.words[m];f.length=this.length,f.negative=this.negative,f.red=this.red};function c(T,f){T.words=f.words,T.length=f.length,T.negative=f.negative,T.red=f.red}if(o.prototype._move=function(f){c(f,this)},o.prototype.clone=function(){var f=new o(null);return this.copy(f),f},o.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(f,m){f=f||10,m=m|0||1;var _;if(f===16||f==="hex"){_="";for(var k=0,S=0,O=0;O<this.length;O++){var I=this.words[O],A=((I<<k|S)&16777215).toString(16);S=I>>>24-k&16777215,k+=2,k>=26&&(k-=26,O--),S!==0||O!==this.length-1?_=p[6-A.length]+A+_:_=A+_}for(S!==0&&(_=S.toString(16)+_);_.length%m!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(f===(f|0)&&f>=2&&f<=36){var d=g[f],P=v[f];_="";var W=this.clone();for(W.negative=0;!W.isZero();){var y=W.modrn(P).toString(f);W=W.idivn(P),W.isZero()?_=y+_:_=p[d-y.length]+y+_}for(this.isZero()&&(_="0"+_);_.length%m!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(f,m){return this.toArrayLike(s,f,m)}),o.prototype.toArray=function(f,m){return this.toArrayLike(Array,f,m)};var E=function(f,m){return f.allocUnsafe?f.allocUnsafe(m):new f(m)};o.prototype.toArrayLike=function(f,m,_){this._strip();var k=this.byteLength(),S=_||Math.max(1,k);n(k<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var O=E(f,S),I=m==="le"?"LE":"BE";return this["_toArrayLike"+I](O,k),O},o.prototype._toArrayLikeLE=function(f,m){for(var _=0,k=0,S=0,O=0;S<this.length;S++){var I=this.words[S]<<O|k;f[_++]=I&255,_<f.length&&(f[_++]=I>>8&255),_<f.length&&(f[_++]=I>>16&255),O===6?(_<f.length&&(f[_++]=I>>24&255),k=0,O=0):(k=I>>>24,O+=2)}if(_<f.length)for(f[_++]=k;_<f.length;)f[_++]=0},o.prototype._toArrayLikeBE=function(f,m){for(var _=f.length-1,k=0,S=0,O=0;S<this.length;S++){var I=this.words[S]<<O|k;f[_--]=I&255,_>=0&&(f[_--]=I>>8&255),_>=0&&(f[_--]=I>>16&255),O===6?(_>=0&&(f[_--]=I>>24&255),k=0,O=0):(k=I>>>24,O+=2)}if(_>=0)for(f[_--]=k;_>=0;)f[_--]=0},Math.clz32?o.prototype._countBits=function(f){return 32-Math.clz32(f)}:o.prototype._countBits=function(f){var m=f,_=0;return m>=4096&&(_+=13,m>>>=13),m>=64&&(_+=7,m>>>=7),m>=8&&(_+=4,m>>>=4),m>=2&&(_+=2,m>>>=2),_+m},o.prototype._zeroBits=function(f){if(f===0)return 26;var m=f,_=0;return m&8191||(_+=13,m>>>=13),m&127||(_+=7,m>>>=7),m&15||(_+=4,m>>>=4),m&3||(_+=2,m>>>=2),m&1||_++,_},o.prototype.bitLength=function(){var f=this.words[this.length-1],m=this._countBits(f);return(this.length-1)*26+m};function C(T){for(var f=new Array(T.bitLength()),m=0;m<f.length;m++){var _=m/26|0,k=m%26;f[m]=T.words[_]>>>k&1}return f}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,m=0;m<this.length;m++){var _=this._zeroBits(this.words[m]);if(f+=_,_!==26)break}return f},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},o.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var m=0;m<f.length;m++)this.words[m]=this.words[m]|f.words[m];return this._strip()},o.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},o.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},o.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},o.prototype.iuand=function(f){var m;this.length>f.length?m=f:m=this;for(var _=0;_<m.length;_++)this.words[_]=this.words[_]&f.words[_];return this.length=m.length,this._strip()},o.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},o.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},o.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},o.prototype.iuxor=function(f){var m,_;this.length>f.length?(m=this,_=f):(m=f,_=this);for(var k=0;k<_.length;k++)this.words[k]=m.words[k]^_.words[k];if(this!==m)for(;k<m.length;k++)this.words[k]=m.words[k];return this.length=m.length,this._strip()},o.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},o.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},o.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},o.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var m=Math.ceil(f/26)|0,_=f%26;this._expand(m),_>0&&m--;for(var k=0;k<m;k++)this.words[k]=~this.words[k]&67108863;return _>0&&(this.words[k]=~this.words[k]&67108863>>26-_),this._strip()},o.prototype.notn=function(f){return this.clone().inotn(f)},o.prototype.setn=function(f,m){n(typeof f=="number"&&f>=0);var _=f/26|0,k=f%26;return this._expand(_+1),m?this.words[_]=this.words[_]|1<<k:this.words[_]=this.words[_]&~(1<<k),this._strip()},o.prototype.iadd=function(f){var m;if(this.negative!==0&&f.negative===0)return this.negative=0,m=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,m=this.isub(f),f.negative=1,m._normSign();var _,k;this.length>f.length?(_=this,k=f):(_=f,k=this);for(var S=0,O=0;O<k.length;O++)m=(_.words[O]|0)+(k.words[O]|0)+S,this.words[O]=m&67108863,S=m>>>26;for(;S!==0&&O<_.length;O++)m=(_.words[O]|0)+S,this.words[O]=m&67108863,S=m>>>26;if(this.length=_.length,S!==0)this.words[this.length]=S,this.length++;else if(_!==this)for(;O<_.length;O++)this.words[O]=_.words[O];return this},o.prototype.add=function(f){var m;return f.negative!==0&&this.negative===0?(f.negative=0,m=this.sub(f),f.negative^=1,m):f.negative===0&&this.negative!==0?(this.negative=0,m=f.sub(this),this.negative=1,m):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},o.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var m=this.iadd(f);return f.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var _=this.cmp(f);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,S;_>0?(k=this,S=f):(k=f,S=this);for(var O=0,I=0;I<S.length;I++)m=(k.words[I]|0)-(S.words[I]|0)+O,O=m>>26,this.words[I]=m&67108863;for(;O!==0&&I<k.length;I++)m=(k.words[I]|0)+O,O=m>>26,this.words[I]=m&67108863;if(O===0&&I<k.length&&k!==this)for(;I<k.length;I++)this.words[I]=k.words[I];return this.length=Math.max(this.length,I),k!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(f){return this.clone().isub(f)};function w(T,f,m){m.negative=f.negative^T.negative;var _=T.length+f.length|0;m.length=_,_=_-1|0;var k=T.words[0]|0,S=f.words[0]|0,O=k*S,I=O&67108863,A=O/67108864|0;m.words[0]=I;for(var d=1;d<_;d++){for(var P=A>>>26,W=A&67108863,y=Math.min(d,f.length-1),L=Math.max(0,d-T.length+1);L<=y;L++){var B=d-L|0;k=T.words[B]|0,S=f.words[L]|0,O=k*S+W,P+=O/67108864|0,W=O&67108863}m.words[d]=W|0,A=P|0}return A!==0?m.words[d]=A|0:m.length--,m._strip()}var b=function(f,m,_){var k=f.words,S=m.words,O=_.words,I=0,A,d,P,W=k[0]|0,y=W&8191,L=W>>>13,B=k[1]|0,F=B&8191,G=B>>>13,ee=k[2]|0,Q=ee&8191,V=ee>>>13,Be=k[3]|0,J=Be&8191,se=Be>>>13,Rr=k[4]|0,Fe=Rr&8191,Le=Rr>>>13,vn=k[5]|0,Te=vn&8191,je=vn>>>13,Dr=k[6]|0,xe=Dr&8191,Oe=Dr>>>13,yr=k[7]|0,Ue=yr&8191,ze=yr>>>13,yn=k[8]|0,ke=yn&8191,Ie=yn>>>13,wn=k[9]|0,Ce=wn&8191,Ne=wn>>>13,bn=S[0]|0,He=bn&8191,Me=bn>>>13,En=S[1]|0,qe=En&8191,$e=En>>>13,Lr=S[2]|0,Pe=Lr&8191,Re=Lr>>>13,xn=S[3]|0,We=xn&8191,Ge=xn>>>13,_n=S[4]|0,oe=_n&8191,fe=_n>>>13,Et=S[5]|0,de=Et&8191,be=Et>>>13,xt=S[6]|0,Ke=xt&8191,Qe=xt>>>13,Ti=S[7]|0,Je=Ti&8191,Ye=Ti>>>13,Oi=S[8]|0,Xe=Oi&8191,Ze=Oi>>>13,Ii=S[9]|0,et=Ii&8191,tt=Ii>>>13;_.negative=f.negative^m.negative,_.length=19,A=Math.imul(y,He),d=Math.imul(y,Me),d=d+Math.imul(L,He)|0,P=Math.imul(L,Me);var Vn=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,A=Math.imul(F,He),d=Math.imul(F,Me),d=d+Math.imul(G,He)|0,P=Math.imul(G,Me),A=A+Math.imul(y,qe)|0,d=d+Math.imul(y,$e)|0,d=d+Math.imul(L,qe)|0,P=P+Math.imul(L,$e)|0;var Qn=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,A=Math.imul(Q,He),d=Math.imul(Q,Me),d=d+Math.imul(V,He)|0,P=Math.imul(V,Me),A=A+Math.imul(F,qe)|0,d=d+Math.imul(F,$e)|0,d=d+Math.imul(G,qe)|0,P=P+Math.imul(G,$e)|0,A=A+Math.imul(y,Pe)|0,d=d+Math.imul(y,Re)|0,d=d+Math.imul(L,Pe)|0,P=P+Math.imul(L,Re)|0;var Jn=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,A=Math.imul(J,He),d=Math.imul(J,Me),d=d+Math.imul(se,He)|0,P=Math.imul(se,Me),A=A+Math.imul(Q,qe)|0,d=d+Math.imul(Q,$e)|0,d=d+Math.imul(V,qe)|0,P=P+Math.imul(V,$e)|0,A=A+Math.imul(F,Pe)|0,d=d+Math.imul(F,Re)|0,d=d+Math.imul(G,Pe)|0,P=P+Math.imul(G,Re)|0,A=A+Math.imul(y,We)|0,d=d+Math.imul(y,Ge)|0,d=d+Math.imul(L,We)|0,P=P+Math.imul(L,Ge)|0;var Yn=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,A=Math.imul(Fe,He),d=Math.imul(Fe,Me),d=d+Math.imul(Le,He)|0,P=Math.imul(Le,Me),A=A+Math.imul(J,qe)|0,d=d+Math.imul(J,$e)|0,d=d+Math.imul(se,qe)|0,P=P+Math.imul(se,$e)|0,A=A+Math.imul(Q,Pe)|0,d=d+Math.imul(Q,Re)|0,d=d+Math.imul(V,Pe)|0,P=P+Math.imul(V,Re)|0,A=A+Math.imul(F,We)|0,d=d+Math.imul(F,Ge)|0,d=d+Math.imul(G,We)|0,P=P+Math.imul(G,Ge)|0,A=A+Math.imul(y,oe)|0,d=d+Math.imul(y,fe)|0,d=d+Math.imul(L,oe)|0,P=P+Math.imul(L,fe)|0;var Xn=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,A=Math.imul(Te,He),d=Math.imul(Te,Me),d=d+Math.imul(je,He)|0,P=Math.imul(je,Me),A=A+Math.imul(Fe,qe)|0,d=d+Math.imul(Fe,$e)|0,d=d+Math.imul(Le,qe)|0,P=P+Math.imul(Le,$e)|0,A=A+Math.imul(J,Pe)|0,d=d+Math.imul(J,Re)|0,d=d+Math.imul(se,Pe)|0,P=P+Math.imul(se,Re)|0,A=A+Math.imul(Q,We)|0,d=d+Math.imul(Q,Ge)|0,d=d+Math.imul(V,We)|0,P=P+Math.imul(V,Ge)|0,A=A+Math.imul(F,oe)|0,d=d+Math.imul(F,fe)|0,d=d+Math.imul(G,oe)|0,P=P+Math.imul(G,fe)|0,A=A+Math.imul(y,de)|0,d=d+Math.imul(y,be)|0,d=d+Math.imul(L,de)|0,P=P+Math.imul(L,be)|0;var Zu=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(Zu>>>26)|0,Zu&=67108863,A=Math.imul(xe,He),d=Math.imul(xe,Me),d=d+Math.imul(Oe,He)|0,P=Math.imul(Oe,Me),A=A+Math.imul(Te,qe)|0,d=d+Math.imul(Te,$e)|0,d=d+Math.imul(je,qe)|0,P=P+Math.imul(je,$e)|0,A=A+Math.imul(Fe,Pe)|0,d=d+Math.imul(Fe,Re)|0,d=d+Math.imul(Le,Pe)|0,P=P+Math.imul(Le,Re)|0,A=A+Math.imul(J,We)|0,d=d+Math.imul(J,Ge)|0,d=d+Math.imul(se,We)|0,P=P+Math.imul(se,Ge)|0,A=A+Math.imul(Q,oe)|0,d=d+Math.imul(Q,fe)|0,d=d+Math.imul(V,oe)|0,P=P+Math.imul(V,fe)|0,A=A+Math.imul(F,de)|0,d=d+Math.imul(F,be)|0,d=d+Math.imul(G,de)|0,P=P+Math.imul(G,be)|0,A=A+Math.imul(y,Ke)|0,d=d+Math.imul(y,Qe)|0,d=d+Math.imul(L,Ke)|0,P=P+Math.imul(L,Qe)|0;var ec=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(ec>>>26)|0,ec&=67108863,A=Math.imul(Ue,He),d=Math.imul(Ue,Me),d=d+Math.imul(ze,He)|0,P=Math.imul(ze,Me),A=A+Math.imul(xe,qe)|0,d=d+Math.imul(xe,$e)|0,d=d+Math.imul(Oe,qe)|0,P=P+Math.imul(Oe,$e)|0,A=A+Math.imul(Te,Pe)|0,d=d+Math.imul(Te,Re)|0,d=d+Math.imul(je,Pe)|0,P=P+Math.imul(je,Re)|0,A=A+Math.imul(Fe,We)|0,d=d+Math.imul(Fe,Ge)|0,d=d+Math.imul(Le,We)|0,P=P+Math.imul(Le,Ge)|0,A=A+Math.imul(J,oe)|0,d=d+Math.imul(J,fe)|0,d=d+Math.imul(se,oe)|0,P=P+Math.imul(se,fe)|0,A=A+Math.imul(Q,de)|0,d=d+Math.imul(Q,be)|0,d=d+Math.imul(V,de)|0,P=P+Math.imul(V,be)|0,A=A+Math.imul(F,Ke)|0,d=d+Math.imul(F,Qe)|0,d=d+Math.imul(G,Ke)|0,P=P+Math.imul(G,Qe)|0,A=A+Math.imul(y,Je)|0,d=d+Math.imul(y,Ye)|0,d=d+Math.imul(L,Je)|0,P=P+Math.imul(L,Ye)|0;var tc=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(tc>>>26)|0,tc&=67108863,A=Math.imul(ke,He),d=Math.imul(ke,Me),d=d+Math.imul(Ie,He)|0,P=Math.imul(Ie,Me),A=A+Math.imul(Ue,qe)|0,d=d+Math.imul(Ue,$e)|0,d=d+Math.imul(ze,qe)|0,P=P+Math.imul(ze,$e)|0,A=A+Math.imul(xe,Pe)|0,d=d+Math.imul(xe,Re)|0,d=d+Math.imul(Oe,Pe)|0,P=P+Math.imul(Oe,Re)|0,A=A+Math.imul(Te,We)|0,d=d+Math.imul(Te,Ge)|0,d=d+Math.imul(je,We)|0,P=P+Math.imul(je,Ge)|0,A=A+Math.imul(Fe,oe)|0,d=d+Math.imul(Fe,fe)|0,d=d+Math.imul(Le,oe)|0,P=P+Math.imul(Le,fe)|0,A=A+Math.imul(J,de)|0,d=d+Math.imul(J,be)|0,d=d+Math.imul(se,de)|0,P=P+Math.imul(se,be)|0,A=A+Math.imul(Q,Ke)|0,d=d+Math.imul(Q,Qe)|0,d=d+Math.imul(V,Ke)|0,P=P+Math.imul(V,Qe)|0,A=A+Math.imul(F,Je)|0,d=d+Math.imul(F,Ye)|0,d=d+Math.imul(G,Je)|0,P=P+Math.imul(G,Ye)|0,A=A+Math.imul(y,Xe)|0,d=d+Math.imul(y,Ze)|0,d=d+Math.imul(L,Xe)|0,P=P+Math.imul(L,Ze)|0;var rc=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(rc>>>26)|0,rc&=67108863,A=Math.imul(Ce,He),d=Math.imul(Ce,Me),d=d+Math.imul(Ne,He)|0,P=Math.imul(Ne,Me),A=A+Math.imul(ke,qe)|0,d=d+Math.imul(ke,$e)|0,d=d+Math.imul(Ie,qe)|0,P=P+Math.imul(Ie,$e)|0,A=A+Math.imul(Ue,Pe)|0,d=d+Math.imul(Ue,Re)|0,d=d+Math.imul(ze,Pe)|0,P=P+Math.imul(ze,Re)|0,A=A+Math.imul(xe,We)|0,d=d+Math.imul(xe,Ge)|0,d=d+Math.imul(Oe,We)|0,P=P+Math.imul(Oe,Ge)|0,A=A+Math.imul(Te,oe)|0,d=d+Math.imul(Te,fe)|0,d=d+Math.imul(je,oe)|0,P=P+Math.imul(je,fe)|0,A=A+Math.imul(Fe,de)|0,d=d+Math.imul(Fe,be)|0,d=d+Math.imul(Le,de)|0,P=P+Math.imul(Le,be)|0,A=A+Math.imul(J,Ke)|0,d=d+Math.imul(J,Qe)|0,d=d+Math.imul(se,Ke)|0,P=P+Math.imul(se,Qe)|0,A=A+Math.imul(Q,Je)|0,d=d+Math.imul(Q,Ye)|0,d=d+Math.imul(V,Je)|0,P=P+Math.imul(V,Ye)|0,A=A+Math.imul(F,Xe)|0,d=d+Math.imul(F,Ze)|0,d=d+Math.imul(G,Xe)|0,P=P+Math.imul(G,Ze)|0,A=A+Math.imul(y,et)|0,d=d+Math.imul(y,tt)|0,d=d+Math.imul(L,et)|0,P=P+Math.imul(L,tt)|0;var nc=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(nc>>>26)|0,nc&=67108863,A=Math.imul(Ce,qe),d=Math.imul(Ce,$e),d=d+Math.imul(Ne,qe)|0,P=Math.imul(Ne,$e),A=A+Math.imul(ke,Pe)|0,d=d+Math.imul(ke,Re)|0,d=d+Math.imul(Ie,Pe)|0,P=P+Math.imul(Ie,Re)|0,A=A+Math.imul(Ue,We)|0,d=d+Math.imul(Ue,Ge)|0,d=d+Math.imul(ze,We)|0,P=P+Math.imul(ze,Ge)|0,A=A+Math.imul(xe,oe)|0,d=d+Math.imul(xe,fe)|0,d=d+Math.imul(Oe,oe)|0,P=P+Math.imul(Oe,fe)|0,A=A+Math.imul(Te,de)|0,d=d+Math.imul(Te,be)|0,d=d+Math.imul(je,de)|0,P=P+Math.imul(je,be)|0,A=A+Math.imul(Fe,Ke)|0,d=d+Math.imul(Fe,Qe)|0,d=d+Math.imul(Le,Ke)|0,P=P+Math.imul(Le,Qe)|0,A=A+Math.imul(J,Je)|0,d=d+Math.imul(J,Ye)|0,d=d+Math.imul(se,Je)|0,P=P+Math.imul(se,Ye)|0,A=A+Math.imul(Q,Xe)|0,d=d+Math.imul(Q,Ze)|0,d=d+Math.imul(V,Xe)|0,P=P+Math.imul(V,Ze)|0,A=A+Math.imul(F,et)|0,d=d+Math.imul(F,tt)|0,d=d+Math.imul(G,et)|0,P=P+Math.imul(G,tt)|0;var ic=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(ic>>>26)|0,ic&=67108863,A=Math.imul(Ce,Pe),d=Math.imul(Ce,Re),d=d+Math.imul(Ne,Pe)|0,P=Math.imul(Ne,Re),A=A+Math.imul(ke,We)|0,d=d+Math.imul(ke,Ge)|0,d=d+Math.imul(Ie,We)|0,P=P+Math.imul(Ie,Ge)|0,A=A+Math.imul(Ue,oe)|0,d=d+Math.imul(Ue,fe)|0,d=d+Math.imul(ze,oe)|0,P=P+Math.imul(ze,fe)|0,A=A+Math.imul(xe,de)|0,d=d+Math.imul(xe,be)|0,d=d+Math.imul(Oe,de)|0,P=P+Math.imul(Oe,be)|0,A=A+Math.imul(Te,Ke)|0,d=d+Math.imul(Te,Qe)|0,d=d+Math.imul(je,Ke)|0,P=P+Math.imul(je,Qe)|0,A=A+Math.imul(Fe,Je)|0,d=d+Math.imul(Fe,Ye)|0,d=d+Math.imul(Le,Je)|0,P=P+Math.imul(Le,Ye)|0,A=A+Math.imul(J,Xe)|0,d=d+Math.imul(J,Ze)|0,d=d+Math.imul(se,Xe)|0,P=P+Math.imul(se,Ze)|0,A=A+Math.imul(Q,et)|0,d=d+Math.imul(Q,tt)|0,d=d+Math.imul(V,et)|0,P=P+Math.imul(V,tt)|0;var oc=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(oc>>>26)|0,oc&=67108863,A=Math.imul(Ce,We),d=Math.imul(Ce,Ge),d=d+Math.imul(Ne,We)|0,P=Math.imul(Ne,Ge),A=A+Math.imul(ke,oe)|0,d=d+Math.imul(ke,fe)|0,d=d+Math.imul(Ie,oe)|0,P=P+Math.imul(Ie,fe)|0,A=A+Math.imul(Ue,de)|0,d=d+Math.imul(Ue,be)|0,d=d+Math.imul(ze,de)|0,P=P+Math.imul(ze,be)|0,A=A+Math.imul(xe,Ke)|0,d=d+Math.imul(xe,Qe)|0,d=d+Math.imul(Oe,Ke)|0,P=P+Math.imul(Oe,Qe)|0,A=A+Math.imul(Te,Je)|0,d=d+Math.imul(Te,Ye)|0,d=d+Math.imul(je,Je)|0,P=P+Math.imul(je,Ye)|0,A=A+Math.imul(Fe,Xe)|0,d=d+Math.imul(Fe,Ze)|0,d=d+Math.imul(Le,Xe)|0,P=P+Math.imul(Le,Ze)|0,A=A+Math.imul(J,et)|0,d=d+Math.imul(J,tt)|0,d=d+Math.imul(se,et)|0,P=P+Math.imul(se,tt)|0;var sc=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(sc>>>26)|0,sc&=67108863,A=Math.imul(Ce,oe),d=Math.imul(Ce,fe),d=d+Math.imul(Ne,oe)|0,P=Math.imul(Ne,fe),A=A+Math.imul(ke,de)|0,d=d+Math.imul(ke,be)|0,d=d+Math.imul(Ie,de)|0,P=P+Math.imul(Ie,be)|0,A=A+Math.imul(Ue,Ke)|0,d=d+Math.imul(Ue,Qe)|0,d=d+Math.imul(ze,Ke)|0,P=P+Math.imul(ze,Qe)|0,A=A+Math.imul(xe,Je)|0,d=d+Math.imul(xe,Ye)|0,d=d+Math.imul(Oe,Je)|0,P=P+Math.imul(Oe,Ye)|0,A=A+Math.imul(Te,Xe)|0,d=d+Math.imul(Te,Ze)|0,d=d+Math.imul(je,Xe)|0,P=P+Math.imul(je,Ze)|0,A=A+Math.imul(Fe,et)|0,d=d+Math.imul(Fe,tt)|0,d=d+Math.imul(Le,et)|0,P=P+Math.imul(Le,tt)|0;var ac=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(ac>>>26)|0,ac&=67108863,A=Math.imul(Ce,de),d=Math.imul(Ce,be),d=d+Math.imul(Ne,de)|0,P=Math.imul(Ne,be),A=A+Math.imul(ke,Ke)|0,d=d+Math.imul(ke,Qe)|0,d=d+Math.imul(Ie,Ke)|0,P=P+Math.imul(Ie,Qe)|0,A=A+Math.imul(Ue,Je)|0,d=d+Math.imul(Ue,Ye)|0,d=d+Math.imul(ze,Je)|0,P=P+Math.imul(ze,Ye)|0,A=A+Math.imul(xe,Xe)|0,d=d+Math.imul(xe,Ze)|0,d=d+Math.imul(Oe,Xe)|0,P=P+Math.imul(Oe,Ze)|0,A=A+Math.imul(Te,et)|0,d=d+Math.imul(Te,tt)|0,d=d+Math.imul(je,et)|0,P=P+Math.imul(je,tt)|0;var lc=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(lc>>>26)|0,lc&=67108863,A=Math.imul(Ce,Ke),d=Math.imul(Ce,Qe),d=d+Math.imul(Ne,Ke)|0,P=Math.imul(Ne,Qe),A=A+Math.imul(ke,Je)|0,d=d+Math.imul(ke,Ye)|0,d=d+Math.imul(Ie,Je)|0,P=P+Math.imul(Ie,Ye)|0,A=A+Math.imul(Ue,Xe)|0,d=d+Math.imul(Ue,Ze)|0,d=d+Math.imul(ze,Xe)|0,P=P+Math.imul(ze,Ze)|0,A=A+Math.imul(xe,et)|0,d=d+Math.imul(xe,tt)|0,d=d+Math.imul(Oe,et)|0,P=P+Math.imul(Oe,tt)|0;var uc=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(uc>>>26)|0,uc&=67108863,A=Math.imul(Ce,Je),d=Math.imul(Ce,Ye),d=d+Math.imul(Ne,Je)|0,P=Math.imul(Ne,Ye),A=A+Math.imul(ke,Xe)|0,d=d+Math.imul(ke,Ze)|0,d=d+Math.imul(Ie,Xe)|0,P=P+Math.imul(Ie,Ze)|0,A=A+Math.imul(Ue,et)|0,d=d+Math.imul(Ue,tt)|0,d=d+Math.imul(ze,et)|0,P=P+Math.imul(ze,tt)|0;var cc=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(cc>>>26)|0,cc&=67108863,A=Math.imul(Ce,Xe),d=Math.imul(Ce,Ze),d=d+Math.imul(Ne,Xe)|0,P=Math.imul(Ne,Ze),A=A+Math.imul(ke,et)|0,d=d+Math.imul(ke,tt)|0,d=d+Math.imul(Ie,et)|0,P=P+Math.imul(Ie,tt)|0;var fc=(I+A|0)+((d&8191)<<13)|0;I=(P+(d>>>13)|0)+(fc>>>26)|0,fc&=67108863,A=Math.imul(Ce,et),d=Math.imul(Ce,tt),d=d+Math.imul(Ne,et)|0,P=Math.imul(Ne,tt);var hc=(I+A|0)+((d&8191)<<13)|0;return I=(P+(d>>>13)|0)+(hc>>>26)|0,hc&=67108863,O[0]=Vn,O[1]=Qn,O[2]=Jn,O[3]=Yn,O[4]=Xn,O[5]=Zu,O[6]=ec,O[7]=tc,O[8]=rc,O[9]=nc,O[10]=ic,O[11]=oc,O[12]=sc,O[13]=ac,O[14]=lc,O[15]=uc,O[16]=cc,O[17]=fc,O[18]=hc,I!==0&&(O[19]=I,_.length++),_};Math.imul||(b=w);function x(T,f,m){m.negative=f.negative^T.negative,m.length=T.length+f.length;for(var _=0,k=0,S=0;S<m.length-1;S++){var O=k;k=0;for(var I=_&67108863,A=Math.min(S,f.length-1),d=Math.max(0,S-T.length+1);d<=A;d++){var P=S-d,W=T.words[P]|0,y=f.words[d]|0,L=W*y,B=L&67108863;O=O+(L/67108864|0)|0,B=B+I|0,I=B&67108863,O=O+(B>>>26)|0,k+=O>>>26,O&=67108863}m.words[S]=I,_=O,O=k}return _!==0?m.words[S]=_:m.length--,m._strip()}function R(T,f,m){return x(T,f,m)}o.prototype.mulTo=function(f,m){var _,k=this.length+f.length;return this.length===10&&f.length===10?_=b(this,f,m):k<63?_=w(this,f,m):k<1024?_=x(this,f,m):_=R(this,f,m),_},o.prototype.mul=function(f){var m=new o(null);return m.words=new Array(this.length+f.length),this.mulTo(f,m)},o.prototype.mulf=function(f){var m=new o(null);return m.words=new Array(this.length+f.length),R(this,f,m)},o.prototype.imul=function(f){return this.clone().mulTo(f,this)},o.prototype.imuln=function(f){var m=f<0;m&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var _=0,k=0;k<this.length;k++){var S=(this.words[k]|0)*f,O=(S&67108863)+(_&67108863);_>>=26,_+=S/67108864|0,_+=O>>>26,this.words[k]=O&67108863}return _!==0&&(this.words[k]=_,this.length++),m?this.ineg():this},o.prototype.muln=function(f){return this.clone().imuln(f)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(f){var m=C(f);if(m.length===0)return new o(1);for(var _=this,k=0;k<m.length&&m[k]===0;k++,_=_.sqr());if(++k<m.length)for(var S=_.sqr();k<m.length;k++,S=S.sqr())m[k]!==0&&(_=_.mul(S));return _},o.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var m=f%26,_=(f-m)/26,k=67108863>>>26-m<<26-m,S;if(m!==0){var O=0;for(S=0;S<this.length;S++){var I=this.words[S]&k,A=(this.words[S]|0)-I<<m;this.words[S]=A|O,O=I>>>26-m}O&&(this.words[S]=O,this.length++)}if(_!==0){for(S=this.length-1;S>=0;S--)this.words[S+_]=this.words[S];for(S=0;S<_;S++)this.words[S]=0;this.length+=_}return this._strip()},o.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},o.prototype.iushrn=function(f,m,_){n(typeof f=="number"&&f>=0);var k;m?k=(m-m%26)/26:k=0;var S=f%26,O=Math.min((f-S)/26,this.length),I=67108863^67108863>>>S<<S,A=_;if(k-=O,k=Math.max(0,k),A){for(var d=0;d<O;d++)A.words[d]=this.words[d];A.length=O}if(O!==0)if(this.length>O)for(this.length-=O,d=0;d<this.length;d++)this.words[d]=this.words[d+O];else this.words[0]=0,this.length=1;var P=0;for(d=this.length-1;d>=0&&(P!==0||d>=k);d--){var W=this.words[d]|0;this.words[d]=P<<26-S|W>>>S,P=W&I}return A&&P!==0&&(A.words[A.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(f,m,_){return n(this.negative===0),this.iushrn(f,m,_)},o.prototype.shln=function(f){return this.clone().ishln(f)},o.prototype.ushln=function(f){return this.clone().iushln(f)},o.prototype.shrn=function(f){return this.clone().ishrn(f)},o.prototype.ushrn=function(f){return this.clone().iushrn(f)},o.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var m=f%26,_=(f-m)/26,k=1<<m;if(this.length<=_)return!1;var S=this.words[_];return!!(S&k)},o.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var m=f%26,_=(f-m)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(m!==0&&_++,this.length=Math.min(_,this.length),m!==0){var k=67108863^67108863>>>m<<m;this.words[this.length-1]&=k}return this._strip()},o.prototype.maskn=function(f){return this.clone().imaskn(f)},o.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},o.prototype._iaddn=function(f){this.words[0]+=f;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},o.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},o.prototype.addn=function(f){return this.clone().iaddn(f)},o.prototype.subn=function(f){return this.clone().isubn(f)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(f,m,_){var k=f.length+_,S;this._expand(k);var O,I=0;for(S=0;S<f.length;S++){O=(this.words[S+_]|0)+I;var A=(f.words[S]|0)*m;O-=A&67108863,I=(O>>26)-(A/67108864|0),this.words[S+_]=O&67108863}for(;S<this.length-_;S++)O=(this.words[S+_]|0)+I,I=O>>26,this.words[S+_]=O&67108863;if(I===0)return this._strip();for(n(I===-1),I=0,S=0;S<this.length;S++)O=-(this.words[S]|0)+I,I=O>>26,this.words[S]=O&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(f,m){var _=this.length-f.length,k=this.clone(),S=f,O=S.words[S.length-1]|0,I=this._countBits(O);_=26-I,_!==0&&(S=S.ushln(_),k.iushln(_),O=S.words[S.length-1]|0);var A=k.length-S.length,d;if(m!=="mod"){d=new o(null),d.length=A+1,d.words=new Array(d.length);for(var P=0;P<d.length;P++)d.words[P]=0}var W=k.clone()._ishlnsubmul(S,1,A);W.negative===0&&(k=W,d&&(d.words[A]=1));for(var y=A-1;y>=0;y--){var L=(k.words[S.length+y]|0)*67108864+(k.words[S.length+y-1]|0);for(L=Math.min(L/O|0,67108863),k._ishlnsubmul(S,L,y);k.negative!==0;)L--,k.negative=0,k._ishlnsubmul(S,1,y),k.isZero()||(k.negative^=1);d&&(d.words[y]=L)}return d&&d._strip(),k._strip(),m!=="div"&&_!==0&&k.iushrn(_),{div:d||null,mod:k}},o.prototype.divmod=function(f,m,_){if(n(!f.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var k,S,O;return this.negative!==0&&f.negative===0?(O=this.neg().divmod(f,m),m!=="mod"&&(k=O.div.neg()),m!=="div"&&(S=O.mod.neg(),_&&S.negative!==0&&S.iadd(f)),{div:k,mod:S}):this.negative===0&&f.negative!==0?(O=this.divmod(f.neg(),m),m!=="mod"&&(k=O.div.neg()),{div:k,mod:O.mod}):this.negative&f.negative?(O=this.neg().divmod(f.neg(),m),m!=="div"&&(S=O.mod.neg(),_&&S.negative!==0&&S.isub(f)),{div:O.div,mod:S}):f.length>this.length||this.cmp(f)<0?{div:new o(0),mod:this}:f.length===1?m==="div"?{div:this.divn(f.words[0]),mod:null}:m==="mod"?{div:null,mod:new o(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new o(this.modrn(f.words[0]))}:this._wordDiv(f,m)},o.prototype.div=function(f){return this.divmod(f,"div",!1).div},o.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},o.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},o.prototype.divRound=function(f){var m=this.divmod(f);if(m.mod.isZero())return m.div;var _=m.div.negative!==0?m.mod.isub(f):m.mod,k=f.ushrn(1),S=f.andln(1),O=_.cmp(k);return O<0||S===1&&O===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},o.prototype.modrn=function(f){var m=f<0;m&&(f=-f),n(f<=67108863);for(var _=(1<<26)%f,k=0,S=this.length-1;S>=0;S--)k=(_*k+(this.words[S]|0))%f;return m?-k:k},o.prototype.modn=function(f){return this.modrn(f)},o.prototype.idivn=function(f){var m=f<0;m&&(f=-f),n(f<=67108863);for(var _=0,k=this.length-1;k>=0;k--){var S=(this.words[k]|0)+_*67108864;this.words[k]=S/f|0,_=S%f}return this._strip(),m?this.ineg():this},o.prototype.divn=function(f){return this.clone().idivn(f)},o.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var m=this,_=f.clone();m.negative!==0?m=m.umod(f):m=m.clone();for(var k=new o(1),S=new o(0),O=new o(0),I=new o(1),A=0;m.isEven()&&_.isEven();)m.iushrn(1),_.iushrn(1),++A;for(var d=_.clone(),P=m.clone();!m.isZero();){for(var W=0,y=1;!(m.words[0]&y)&&W<26;++W,y<<=1);if(W>0)for(m.iushrn(W);W-- >0;)(k.isOdd()||S.isOdd())&&(k.iadd(d),S.isub(P)),k.iushrn(1),S.iushrn(1);for(var L=0,B=1;!(_.words[0]&B)&&L<26;++L,B<<=1);if(L>0)for(_.iushrn(L);L-- >0;)(O.isOdd()||I.isOdd())&&(O.iadd(d),I.isub(P)),O.iushrn(1),I.iushrn(1);m.cmp(_)>=0?(m.isub(_),k.isub(O),S.isub(I)):(_.isub(m),O.isub(k),I.isub(S))}return{a:O,b:I,gcd:_.iushln(A)}},o.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var m=this,_=f.clone();m.negative!==0?m=m.umod(f):m=m.clone();for(var k=new o(1),S=new o(0),O=_.clone();m.cmpn(1)>0&&_.cmpn(1)>0;){for(var I=0,A=1;!(m.words[0]&A)&&I<26;++I,A<<=1);if(I>0)for(m.iushrn(I);I-- >0;)k.isOdd()&&k.iadd(O),k.iushrn(1);for(var d=0,P=1;!(_.words[0]&P)&&d<26;++d,P<<=1);if(d>0)for(_.iushrn(d);d-- >0;)S.isOdd()&&S.iadd(O),S.iushrn(1);m.cmp(_)>=0?(m.isub(_),k.isub(S)):(_.isub(m),S.isub(k))}var W;return m.cmpn(1)===0?W=k:W=S,W.cmpn(0)<0&&W.iadd(f),W},o.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var m=this.clone(),_=f.clone();m.negative=0,_.negative=0;for(var k=0;m.isEven()&&_.isEven();k++)m.iushrn(1),_.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;_.isEven();)_.iushrn(1);var S=m.cmp(_);if(S<0){var O=m;m=_,_=O}else if(S===0||_.cmpn(1)===0)break;m.isub(_)}while(!0);return _.iushln(k)},o.prototype.invm=function(f){return this.egcd(f).a.umod(f)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(f){return this.words[0]&f},o.prototype.bincn=function(f){n(typeof f=="number");var m=f%26,_=(f-m)/26,k=1<<m;if(this.length<=_)return this._expand(_+1),this.words[_]|=k,this;for(var S=k,O=_;S!==0&&O<this.length;O++){var I=this.words[O]|0;I+=S,S=I>>>26,I&=67108863,this.words[O]=I}return S!==0&&(this.words[O]=S,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(f){var m=f<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var _;if(this.length>1)_=1;else{m&&(f=-f),n(f<=67108863,"Number is too big");var k=this.words[0]|0;_=k===f?0:k<f?-1:1}return this.negative!==0?-_|0:_},o.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var m=this.ucmp(f);return this.negative!==0?-m|0:m},o.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var m=0,_=this.length-1;_>=0;_--){var k=this.words[_]|0,S=f.words[_]|0;if(k!==S){k<S?m=-1:k>S&&(m=1);break}}return m},o.prototype.gtn=function(f){return this.cmpn(f)===1},o.prototype.gt=function(f){return this.cmp(f)===1},o.prototype.gten=function(f){return this.cmpn(f)>=0},o.prototype.gte=function(f){return this.cmp(f)>=0},o.prototype.ltn=function(f){return this.cmpn(f)===-1},o.prototype.lt=function(f){return this.cmp(f)===-1},o.prototype.lten=function(f){return this.cmpn(f)<=0},o.prototype.lte=function(f){return this.cmp(f)<=0},o.prototype.eqn=function(f){return this.cmpn(f)===0},o.prototype.eq=function(f){return this.cmp(f)===0},o.red=function(f){return new ie(f)},o.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(f){return this.red=f,this},o.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},o.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},o.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},o.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},o.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},o.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},o.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},o.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var D={k256:null,p224:null,p192:null,p25519:null};function j(T,f){this.name=T,this.p=new o(f,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var f=new o(null);return f.words=new Array(Math.ceil(this.n/13)),f},j.prototype.ireduce=function(f){var m=f,_;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),_=m.bitLength();while(_>this.n);var k=_<this.n?-1:m.ucmp(this.p);return k===0?(m.words[0]=0,m.length=1):k>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},j.prototype.split=function(f,m){f.iushrn(this.n,0,m)},j.prototype.imulK=function(f){return f.imul(this.k)};function H(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(H,j),H.prototype.split=function(f,m){for(var _=4194303,k=Math.min(f.length,9),S=0;S<k;S++)m.words[S]=f.words[S];if(m.length=k,f.length<=9){f.words[0]=0,f.length=1;return}var O=f.words[9];for(m.words[m.length++]=O&_,S=10;S<f.length;S++){var I=f.words[S]|0;f.words[S-10]=(I&_)<<4|O>>>22,O=I}O>>>=22,f.words[S-10]=O,O===0&&f.length>10?f.length-=10:f.length-=9},H.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var m=0,_=0;_<f.length;_++){var k=f.words[_]|0;m+=k*977,f.words[_]=m&67108863,m=k*64+(m/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function $(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i($,j);function Y(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Y,j);function te(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(te,j),te.prototype.imulK=function(f){for(var m=0,_=0;_<f.length;_++){var k=(f.words[_]|0)*19+m,S=k&67108863;k>>>=26,f.words[_]=S,m=k}return m!==0&&(f.words[f.length++]=m),f},o._prime=function(f){if(D[f])return D[f];var m;if(f==="k256")m=new H;else if(f==="p224")m=new $;else if(f==="p192")m=new Y;else if(f==="p25519")m=new te;else throw new Error("Unknown prime "+f);return D[f]=m,m};function ie(T){if(typeof T=="string"){var f=o._prime(T);this.m=f.p,this.prime=f}else n(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}ie.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},ie.prototype._verify2=function(f,m){n((f.negative|m.negative)===0,"red works only with positives"),n(f.red&&f.red===m.red,"red works only with red numbers")},ie.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(c(f,f.umod(this.m)._forceRed(this)),f)},ie.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},ie.prototype.add=function(f,m){this._verify2(f,m);var _=f.add(m);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},ie.prototype.iadd=function(f,m){this._verify2(f,m);var _=f.iadd(m);return _.cmp(this.m)>=0&&_.isub(this.m),_},ie.prototype.sub=function(f,m){this._verify2(f,m);var _=f.sub(m);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},ie.prototype.isub=function(f,m){this._verify2(f,m);var _=f.isub(m);return _.cmpn(0)<0&&_.iadd(this.m),_},ie.prototype.shl=function(f,m){return this._verify1(f),this.imod(f.ushln(m))},ie.prototype.imul=function(f,m){return this._verify2(f,m),this.imod(f.imul(m))},ie.prototype.mul=function(f,m){return this._verify2(f,m),this.imod(f.mul(m))},ie.prototype.isqr=function(f){return this.imul(f,f.clone())},ie.prototype.sqr=function(f){return this.mul(f,f)},ie.prototype.sqrt=function(f){if(f.isZero())return f.clone();var m=this.m.andln(3);if(n(m%2===1),m===3){var _=this.m.add(new o(1)).iushrn(2);return this.pow(f,_)}for(var k=this.m.subn(1),S=0;!k.isZero()&&k.andln(1)===0;)S++,k.iushrn(1);n(!k.isZero());var O=new o(1).toRed(this),I=O.redNeg(),A=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new o(2*d*d).toRed(this);this.pow(d,A).cmp(I)!==0;)d.redIAdd(I);for(var P=this.pow(d,k),W=this.pow(f,k.addn(1).iushrn(1)),y=this.pow(f,k),L=S;y.cmp(O)!==0;){for(var B=y,F=0;B.cmp(O)!==0;F++)B=B.redSqr();n(F<L);var G=this.pow(P,new o(1).iushln(L-F-1));W=W.redMul(G),P=G.redSqr(),y=y.redMul(P),L=F}return W},ie.prototype.invm=function(f){var m=f._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},ie.prototype.pow=function(f,m){if(m.isZero())return new o(1).toRed(this);if(m.cmpn(1)===0)return f.clone();var _=4,k=new Array(1<<_);k[0]=new o(1).toRed(this),k[1]=f;for(var S=2;S<k.length;S++)k[S]=this.mul(k[S-1],f);var O=k[0],I=0,A=0,d=m.bitLength()%26;for(d===0&&(d=26),S=m.length-1;S>=0;S--){for(var P=m.words[S],W=d-1;W>=0;W--){var y=P>>W&1;if(O!==k[0]&&(O=this.sqr(O)),y===0&&I===0){A=0;continue}I<<=1,I|=y,A++,!(A!==_&&(S!==0||W!==0))&&(O=this.mul(O,k[I]),A=0,I=0)}d=26}return O},ie.prototype.convertTo=function(f){var m=f.umod(this.m);return m===f?m.clone():m},ie.prototype.convertFrom=function(f){var m=f.clone();return m.red=null,m},o.mont=function(f){return new Ae(f)};function Ae(T){ie.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Ae,ie),Ae.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},Ae.prototype.convertFrom=function(f){var m=this.imod(f.mul(this.rinv));return m.red=null,m},Ae.prototype.imul=function(f,m){if(f.isZero()||m.isZero())return f.words[0]=0,f.length=1,f;var _=f.imul(m),k=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(k).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},Ae.prototype.mul=function(f,m){if(f.isZero()||m.isZero())return new o(0)._forceRed(this);var _=f.mul(m),k=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=_.isub(k).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},Ae.prototype.invm=function(f){var m=this.imod(f._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,me)})(Cd);var AE=Cd.exports;const ce=Jo(AE),kE="logger/5.7.0";let lp=!1,up=!1;const xl={debug:1,default:2,info:2,warning:3,error:4,off:5};let cp=xl.default,Uc=null;function CE(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const fp=CE();var dh;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(dh||(dh={}));var Hr;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Hr||(Hr={}));const hp="0123456789abcdef";class M{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();xl[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(cp>xl[n])&&console.log.apply(console,r)}debug(...e){this._log(M.levels.DEBUG,e)}info(...e){this._log(M.levels.INFO,e)}warn(...e){this._log(M.levels.WARNING,e)}makeError(e,r,n){if(up)return this.makeError("censored error",r,{});r||(r=M.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(l=>{const u=n[l];try{if(u instanceof Uint8Array){let c="";for(let h=0;h<u.length;h++)c+=hp[u[h]>>4],c+=hp[u[h]&15];i.push(l+"=Uint8Array(0x"+c+")")}else i.push(l+"="+JSON.stringify(u))}catch{i.push(l+"="+JSON.stringify(n[l].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const o=e;let s="";switch(r){case Hr.NUMERIC_FAULT:{s="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":s+="-"+l;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result";break}break}case Hr.CALL_EXCEPTION:case Hr.INSUFFICIENT_FUNDS:case Hr.MISSING_NEW:case Hr.NONCE_EXPIRED:case Hr.REPLACEMENT_UNDERPRICED:case Hr.TRANSACTION_REPLACED:case Hr.UNPREDICTABLE_GAS_LIMIT:s=r;break}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=r,Object.keys(n).forEach(function(l){a[l]=n[l]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,M.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){fp&&this.throwError("platform missing String.prototype.normalize",M.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:fp})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,M.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,M.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,M.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,M.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",M.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",M.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",M.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Uc||(Uc=new M(kE)),Uc}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",M.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),lp){if(!e)return;this.globalLogger().throwError("error censorship permanent",M.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}up=!!e,lp=!!r}static setLogLevel(e){const r=xl[e.toLowerCase()];if(r==null){M.globalLogger().warn("invalid log level - "+e);return}cp=r}static from(e){return new M(e)}}M.errors=Hr;M.levels=dh;const NE="bytes/5.7.0",ft=new M(NE);function d1(t){return!!t.toHexString}function Ro(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ro(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Nd(t){return ge(t)&&!(t.length%2)||Du(t)}function dp(t){return typeof t=="number"&&t==t&&t%1===0}function Du(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!dp(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!dp(r)||r<0||r>=256)return!1}return!0}function ne(t,e){if(e||(e={}),typeof t=="number"){ft.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Ro(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),d1(t)&&(t=t.toHexString()),ge(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":ft.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Ro(new Uint8Array(n))}return Du(t)?Ro(new Uint8Array(t)):ft.throwArgumentError("invalid arrayify value","value",t)}function Zt(t){const e=t.map(i=>ne(i)),r=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(r);return e.reduce((i,o)=>(n.set(o,i),i+o.length),0),Ro(n)}function Wo(t){let e=ne(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function PE(t,e){t=ne(t),t.length>e&&ft.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Ro(r)}function ge(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const zc="0123456789abcdef";function re(t,e){if(e||(e={}),typeof t=="number"){ft.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=zc[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),d1(t))return t.toHexString();if(ge(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":ft.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Du(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=zc[(i&240)>>4]+zc[i&15]}return r}return ft.throwArgumentError("invalid hexlify value","value",t)}function Fn(t){if(typeof t!="string")t=re(t);else if(!ge(t)||t.length%2)return null;return(t.length-2)/2}function It(t,e,r){return typeof t!="string"?t=re(t):(!ge(t)||t.length%2)&&ft.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Yt(t){let e="0x";return t.forEach(r=>{e+=re(r).substring(2)}),e}function Lu(t){const e=TE(re(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function TE(t){typeof t!="string"&&(t=re(t)),ge(t)||ft.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function dt(t,e){for(typeof t!="string"?t=re(t):ge(t)||ft.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&ft.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function gn(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Nd(t)){let r=ne(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=re(r.slice(0,32)),e.s=re(r.slice(32,64))):r.length===65?(e.r=re(r.slice(0,32)),e.s=re(r.slice(32,64)),e.v=r[64]):ft.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:ft.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=re(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=PE(ne(e._vs),32);e._vs=re(i);const o=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=o:e.recoveryParam!==o&&ft.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const s=re(i);e.s==null?e.s=s:e.s!==s&&ft.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?ft.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&ft.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!ge(e.r)?ft.throwArgumentError("signature missing or invalid r","signature",t):e.r=dt(e.r,32),e.s==null||!ge(e.s)?ft.throwArgumentError("signature missing or invalid s","signature",t):e.s=dt(e.s,32);const r=ne(e.s);r[0]>=128&&ft.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=re(r);e._vs&&(ge(e._vs)||ft.throwArgumentError("signature invalid _vs","signature",t),e._vs=dt(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&ft.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const OE="bignumber/5.7.0";var sa=ce.BN;const An=new M(OE),Hc={},pp=9007199254740991;let gp=!1;class K{constructor(e,r){e!==Hc&&An.throwError("cannot call constructor directly; use BigNumber.from",M.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Vt(ve(this).fromTwos(e))}toTwos(e){return Vt(ve(this).toTwos(e))}abs(){return this._hex[0]==="-"?K.from(this._hex.substring(1)):this}add(e){return Vt(ve(this).add(ve(e)))}sub(e){return Vt(ve(this).sub(ve(e)))}div(e){return K.from(e).isZero()&&br("division-by-zero","div"),Vt(ve(this).div(ve(e)))}mul(e){return Vt(ve(this).mul(ve(e)))}mod(e){const r=ve(e);return r.isNeg()&&br("division-by-zero","mod"),Vt(ve(this).umod(r))}pow(e){const r=ve(e);return r.isNeg()&&br("negative-power","pow"),Vt(ve(this).pow(r))}and(e){const r=ve(e);return(this.isNegative()||r.isNeg())&&br("unbound-bitwise-result","and"),Vt(ve(this).and(r))}or(e){const r=ve(e);return(this.isNegative()||r.isNeg())&&br("unbound-bitwise-result","or"),Vt(ve(this).or(r))}xor(e){const r=ve(e);return(this.isNegative()||r.isNeg())&&br("unbound-bitwise-result","xor"),Vt(ve(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&br("negative-width","mask"),Vt(ve(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&br("negative-width","shl"),Vt(ve(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&br("negative-width","shr"),Vt(ve(this).shrn(e))}eq(e){return ve(this).eq(ve(e))}lt(e){return ve(this).lt(ve(e))}lte(e){return ve(this).lte(ve(e))}gt(e){return ve(this).gt(ve(e))}gte(e){return ve(this).gte(ve(e))}isNegative(){return this._hex[0]==="-"}isZero(){return ve(this).isZero()}toNumber(){try{return ve(this).toNumber()}catch{br("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return An.throwError("this platform does not support BigInt",M.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?gp||(gp=!0,An.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?An.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",M.errors.UNEXPECTED_ARGUMENT,{}):An.throwError("BigNumber.toString does not accept parameters",M.errors.UNEXPECTED_ARGUMENT,{})),ve(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof K)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new K(Hc,aa(e)):e.match(/^-?[0-9]+$/)?new K(Hc,aa(new sa(e))):An.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&br("underflow","BigNumber.from",e),(e>=pp||e<=-pp)&&br("overflow","BigNumber.from",e),K.from(String(e));const r=e;if(typeof r=="bigint")return K.from(r.toString());if(Du(r))return K.from(re(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return K.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(ge(n)||n[0]==="-"&&ge(n.substring(1))))return K.from(n)}return An.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function aa(t){if(typeof t!="string")return aa(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&An.throwArgumentError("invalid hex","value",t),t=aa(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Vt(t){return K.from(aa(t))}function ve(t){const e=K.from(t).toHexString();return e[0]==="-"?new sa("-"+e.substring(3),16):new sa(e.substring(2),16)}function br(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),An.throwError(t,M.errors.NUMERIC_FAULT,n)}function IE(t){return new sa(t,36).toString(16)}function ME(t){return new sa(t,16).toString(36)}const RE="properties/5.7.0";var DE=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const ou=new M(RE);function U(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function fr(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function vt(t){return DE(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(o=>({key:n,value:o}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function LE(t,e){(!t||typeof t!="object")&&ou.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||ou.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function ot(t){const e={};for(const r in t)e[r]=t[r];return e}const jE={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function p1(t){if(t==null||jE[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!p1(n))return!1}return!0}return ou.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function BE(t){if(p1(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>nr(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&U(e,r,nr(n))}return e}return ou.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function nr(t){return BE(t)}class Sa{constructor(e){for(const r in e)this[r]=nr(e[r])}}const Aa="abi/5.7.0",Ee=new M(Aa),Vi={};let mp={calldata:!0,memory:!0,storage:!0},FE={calldata:!0,memory:!0};function Qa(t,e){if(t==="bytes"||t==="string"){if(mp[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&FE[e])return!0;return(mp[e]||e==="payable")&&Ee.throwArgumentError("invalid modifier","name",e),!1}function UE(t,e){let r=t;function n(a){Ee.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let l={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(l.indexed=!1),l}let o={type:"",name:"",state:{allowType:!0}},s=o;for(let a=0;a<t.length;a++){let l=t[a];switch(l){case"(":s.state.allowType&&s.type===""?s.type="tuple":s.state.allowParams||n(a),s.state.allowType=!1,s.type=uo(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),Qa(s.type,s.name)&&(s.name=""),s.type=uo(s.type);let u=s;s=s.parent,s||n(a),delete u.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,s.name==="indexed"&&(e||n(a),s.indexed=!0,s.name=""),Qa(s.type,s.name)&&(s.name=""),s.type=uo(s.type);let c=i(s.parent);s.parent.components.push(c),delete s.parent,s=c;break;case" ":s.state.allowType&&s.type!==""&&(s.type=uo(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&s.name!==""&&(s.name==="indexed"?(e||n(a),s.indexed&&n(a),s.indexed=!0,s.name=""):Qa(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(a),s.type+=l,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(a),s.type+=l,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=l,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=l,delete s.state.allowArray):s.state.readArray?s.type+=l:n(a)}}return s.parent&&Ee.throwArgumentError("unexpected eof","param",t),delete o.state,s.name==="indexed"?(e||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):Qa(s.type,s.name)&&(s.name=""),o.type=uo(o.type),o}function _l(t,e){for(let r in e)U(t,r,e[r])}const Se=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),zE=new RegExp(/^(.*)\[([0-9]*)\]$/);class Nt{constructor(e,r){e!==Vi&&Ee.throwError("use fromString",M.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),_l(this,r);let n=this.type.match(zE);n?_l(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Nt.fromObject({type:n[1],components:this.components}),baseType:"array"}):_l(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Se.sighash),Se[e]||Ee.throwArgumentError("invalid format type","format",e),e===Se.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Se.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===Se.full?", ":",")+")"):r+=this.type,e!==Se.sighash&&(this.indexed===!0&&(r+=" indexed"),e===Se.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Nt.fromString(e,r):Nt.fromObject(e)}static fromObject(e){return Nt.isParamType(e)?e:new Nt(Vi,{name:e.name||null,type:uo(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Nt.fromObject):null})}static fromString(e,r){function n(i){return Nt.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(UE(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function la(t,e){return qE(t).map(r=>Nt.fromString(r,e))}class In{constructor(e,r){e!==Vi&&Ee.throwError("use a static from method",M.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),_l(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return In.isFragment(e)?e:typeof e=="string"?In.fromString(e):In.fromObject(e)}static fromObject(e){if(In.isFragment(e))return e;switch(e.type){case"function":return on.fromObject(e);case"event":return Pn.fromObject(e);case"constructor":return nn.fromObject(e);case"error":return ui.fromObject(e);case"fallback":case"receive":return null}return Ee.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Pn.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?on.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?nn.fromString(e.trim()):e.split(" ")[0]==="error"?ui.fromString(e.substring(5).trim()):Ee.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Pn extends In{format(e){if(e||(e=Se.sighash),Se[e]||Ee.throwArgumentError("invalid format type","format",e),e===Se.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Se.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Se.full?", ":",")+") ",e!==Se.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Pn.fromString(e):Pn.fromObject(e)}static fromObject(e){if(Pn.isEventFragment(e))return e;e.type!=="event"&&Ee.throwArgumentError("invalid event object","value",e);const r={name:ua(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Nt.fromObject):[],type:"event"};return new Pn(Vi,r)}static fromString(e){let r=e.match(ca);r||Ee.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Ee.warn("unknown modifier: "+i)}}),Pn.fromObject({name:r[1].trim(),anonymous:n,inputs:la(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function g1(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Ee.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Ee.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=K.from(r[1]),r[0]):t}function m1(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function v1(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Ee.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Ee.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Ee.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Ee.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Ee.throwArgumentError("unable to determine stateMutability","value",t),e}class nn extends In{format(e){if(e||(e=Se.sighash),Se[e]||Ee.throwArgumentError("invalid format type","format",e),e===Se.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Se.sighash&&Ee.throwError("cannot format a constructor for sighash",M.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===Se.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?nn.fromString(e):nn.fromObject(e)}static fromObject(e){if(nn.isConstructorFragment(e))return e;e.type!=="constructor"&&Ee.throwArgumentError("invalid constructor object","value",e);let r=v1(e);r.constant&&Ee.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Nt.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?K.from(e.gas):null};return new nn(Vi,n)}static fromString(e){let r={type:"constructor"};e=g1(e,r);let n=e.match(ca);return(!n||n[1].trim()!=="constructor")&&Ee.throwArgumentError("invalid constructor string","value",e),r.inputs=la(n[2].trim(),!1),m1(n[3].trim(),r),nn.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class on extends nn{format(e){if(e||(e=Se.sighash),Se[e]||Ee.throwArgumentError("invalid format type","format",e),e===Se.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Se.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Se.full?", ":",")+") ",e!==Se.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?on.fromString(e):on.fromObject(e)}static fromObject(e){if(on.isFunctionFragment(e))return e;e.type!=="function"&&Ee.throwArgumentError("invalid function object","value",e);let r=v1(e);const n={type:e.type,name:ua(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Nt.fromObject):[],outputs:e.outputs?e.outputs.map(Nt.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?K.from(e.gas):null};return new on(Vi,n)}static fromString(e){let r={type:"function"};e=g1(e,r);let n=e.split(" returns ");n.length>2&&Ee.throwArgumentError("invalid function string","value",e);let i=n[0].match(ca);if(i||Ee.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&ua(r.name),r.inputs=la(i[2],!1),m1(i[3].trim(),r),n.length>1){let o=n[1].match(ca);(o[1].trim()!=""||o[3].trim()!="")&&Ee.throwArgumentError("unexpected tokens","value",e),r.outputs=la(o[2],!1)}else r.outputs=[];return on.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function vp(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Ee.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class ui extends In{format(e){if(e||(e=Se.sighash),Se[e]||Ee.throwArgumentError("invalid format type","format",e),e===Se.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Se.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Se.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?ui.fromString(e):ui.fromObject(e)}static fromObject(e){if(ui.isErrorFragment(e))return e;e.type!=="error"&&Ee.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:ua(e.name),inputs:e.inputs?e.inputs.map(Nt.fromObject):[]};return vp(new ui(Vi,r))}static fromString(e){let r={type:"error"},n=e.match(ca);return n||Ee.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&ua(r.name),r.inputs=la(n[2],!1),vp(ui.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function uo(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const HE=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function ua(t){return(!t||!t.match(HE))&&Ee.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const ca=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function qE(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let o=t[i];o===","&&n===0?(e.push(r),r=""):(r+=o,o==="("?n++:o===")"&&(n--,n===-1&&Ee.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const Pd=new M(Aa);function $E(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let o in i){const s=n.slice();s.push(o);try{r(s,i[o])}catch(a){e.push({path:s,error:a})}}};return r([],t),e}class $n{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){Pd.throwArgumentError(e,this.localName,r)}}class ph{constructor(e){U(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Yt(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Zt(e._data))}writeBytes(e){let r=ne(e);const n=r.length%this.wordSize;return n&&(r=Zt([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=ne(K.from(e));return r.length>this.wordSize&&Pd.throwError("value out-of-bounds",M.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Zt([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class su{constructor(e,r,n,i){U(this,"_data",ne(e)),U(this,"wordSize",r||32),U(this,"_coerceFunc",n),U(this,"allowLoose",i),this._offset=0}get data(){return re(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):su.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:Pd.throwError("data out-of-bounds",M.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new su(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return K.from(this.readBytes(this.wordSize))}}var y1={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&typeof self=="object",s=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=me:o&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),c=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],p=[1,256,65536,16777216],g=[6,1536,393216,100663296],v=[0,8,16,24],E=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],C=[224,256,384,512],w=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],x={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(y){return Object.prototype.toString.call(y)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(y){return typeof y=="object"&&y.buffer&&y.buffer.constructor===ArrayBuffer});for(var R=function(y,L,B){return function(F){return new d(y,L,y).update(F)[B]()}},D=function(y,L,B){return function(F,G){return new d(y,L,G).update(F)[B]()}},j=function(y,L,B){return function(F,G,ee,Q){return f["cshake"+y].update(F,G,ee,Q)[B]()}},H=function(y,L,B){return function(F,G,ee,Q){return f["kmac"+y].update(F,G,ee,Q)[B]()}},$=function(y,L,B,F){for(var G=0;G<b.length;++G){var ee=b[G];y[ee]=L(B,F,ee)}return y},Y=function(y,L){var B=R(y,L,"hex");return B.create=function(){return new d(y,L,y)},B.update=function(F){return B.create().update(F)},$(B,R,y,L)},te=function(y,L){var B=D(y,L,"hex");return B.create=function(F){return new d(y,L,F)},B.update=function(F,G){return B.create(G).update(F)},$(B,D,y,L)},ie=function(y,L){var B=x[y],F=j(y,L,"hex");return F.create=function(G,ee,Q){return!ee&&!Q?f["shake"+y].create(G):new d(y,L,G).bytepad([ee,Q],B)},F.update=function(G,ee,Q,V){return F.create(ee,Q,V).update(G)},$(F,j,y,L)},Ae=function(y,L){var B=x[y],F=H(y,L,"hex");return F.create=function(G,ee,Q){return new P(y,L,ee).bytepad(["KMAC",Q],B).bytepad([G],B)},F.update=function(G,ee,Q,V){return F.create(G,Q,V).update(ee)},$(F,H,y,L)},T=[{name:"keccak",padding:p,bits:C,createMethod:Y},{name:"sha3",padding:g,bits:C,createMethod:Y},{name:"shake",padding:c,bits:w,createMethod:te},{name:"cshake",padding:h,bits:w,createMethod:ie},{name:"kmac",padding:h,bits:w,createMethod:Ae}],f={},m=[],_=0;_<T.length;++_)for(var k=T[_],S=k.bits,O=0;O<S.length;++O){var I=k.name+"_"+S[O];if(m.push(I),f[I]=k.createMethod(S[O],k.padding),k.name!=="sha3"){var A=k.name+S[O];m.push(A),f[A]=f[I]}}function d(y,L,B){this.blocks=[],this.s=[],this.padding=L,this.outputBits=B,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(y<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=B>>5,this.extraBytes=(B&31)>>3;for(var F=0;F<50;++F)this.s[F]=0}d.prototype.update=function(y){if(this.finalized)throw new Error(r);var L,B=typeof y;if(B!=="string"){if(B==="object"){if(y===null)throw new Error(e);if(l&&y.constructor===ArrayBuffer)y=new Uint8Array(y);else if(!Array.isArray(y)&&(!l||!ArrayBuffer.isView(y)))throw new Error(e)}else throw new Error(e);L=!0}for(var F=this.blocks,G=this.byteCount,ee=y.length,Q=this.blockCount,V=0,Be=this.s,J,se;V<ee;){if(this.reset)for(this.reset=!1,F[0]=this.block,J=1;J<Q+1;++J)F[J]=0;if(L)for(J=this.start;V<ee&&J<G;++V)F[J>>2]|=y[V]<<v[J++&3];else for(J=this.start;V<ee&&J<G;++V)se=y.charCodeAt(V),se<128?F[J>>2]|=se<<v[J++&3]:se<2048?(F[J>>2]|=(192|se>>6)<<v[J++&3],F[J>>2]|=(128|se&63)<<v[J++&3]):se<55296||se>=57344?(F[J>>2]|=(224|se>>12)<<v[J++&3],F[J>>2]|=(128|se>>6&63)<<v[J++&3],F[J>>2]|=(128|se&63)<<v[J++&3]):(se=65536+((se&1023)<<10|y.charCodeAt(++V)&1023),F[J>>2]|=(240|se>>18)<<v[J++&3],F[J>>2]|=(128|se>>12&63)<<v[J++&3],F[J>>2]|=(128|se>>6&63)<<v[J++&3],F[J>>2]|=(128|se&63)<<v[J++&3]);if(this.lastByteIndex=J,J>=G){for(this.start=J-G,this.block=F[Q],J=0;J<Q;++J)Be[J]^=F[J];W(Be),this.reset=!0}else this.start=J}return this},d.prototype.encode=function(y,L){var B=y&255,F=1,G=[B];for(y=y>>8,B=y&255;B>0;)G.unshift(B),y=y>>8,B=y&255,++F;return L?G.push(F):G.unshift(F),this.update(G),G.length},d.prototype.encodeString=function(y){var L,B=typeof y;if(B!=="string"){if(B==="object"){if(y===null)throw new Error(e);if(l&&y.constructor===ArrayBuffer)y=new Uint8Array(y);else if(!Array.isArray(y)&&(!l||!ArrayBuffer.isView(y)))throw new Error(e)}else throw new Error(e);L=!0}var F=0,G=y.length;if(L)F=G;else for(var ee=0;ee<y.length;++ee){var Q=y.charCodeAt(ee);Q<128?F+=1:Q<2048?F+=2:Q<55296||Q>=57344?F+=3:(Q=65536+((Q&1023)<<10|y.charCodeAt(++ee)&1023),F+=4)}return F+=this.encode(F*8),this.update(y),F},d.prototype.bytepad=function(y,L){for(var B=this.encode(L),F=0;F<y.length;++F)B+=this.encodeString(y[F]);var G=L-B%L,ee=[];return ee.length=G,this.update(ee),this},d.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var y=this.blocks,L=this.lastByteIndex,B=this.blockCount,F=this.s;if(y[L>>2]|=this.padding[L&3],this.lastByteIndex===this.byteCount)for(y[0]=y[B],L=1;L<B+1;++L)y[L]=0;for(y[B-1]|=2147483648,L=0;L<B;++L)F[L]^=y[L];W(F)}},d.prototype.toString=d.prototype.hex=function(){this.finalize();for(var y=this.blockCount,L=this.s,B=this.outputBlocks,F=this.extraBytes,G=0,ee=0,Q="",V;ee<B;){for(G=0;G<y&&ee<B;++G,++ee)V=L[G],Q+=u[V>>4&15]+u[V&15]+u[V>>12&15]+u[V>>8&15]+u[V>>20&15]+u[V>>16&15]+u[V>>28&15]+u[V>>24&15];ee%y===0&&(W(L),G=0)}return F&&(V=L[G],Q+=u[V>>4&15]+u[V&15],F>1&&(Q+=u[V>>12&15]+u[V>>8&15]),F>2&&(Q+=u[V>>20&15]+u[V>>16&15])),Q},d.prototype.arrayBuffer=function(){this.finalize();var y=this.blockCount,L=this.s,B=this.outputBlocks,F=this.extraBytes,G=0,ee=0,Q=this.outputBits>>3,V;F?V=new ArrayBuffer(B+1<<2):V=new ArrayBuffer(Q);for(var Be=new Uint32Array(V);ee<B;){for(G=0;G<y&&ee<B;++G,++ee)Be[ee]=L[G];ee%y===0&&W(L)}return F&&(Be[G]=L[G],V=V.slice(0,Q)),V},d.prototype.buffer=d.prototype.arrayBuffer,d.prototype.digest=d.prototype.array=function(){this.finalize();for(var y=this.blockCount,L=this.s,B=this.outputBlocks,F=this.extraBytes,G=0,ee=0,Q=[],V,Be;ee<B;){for(G=0;G<y&&ee<B;++G,++ee)V=ee<<2,Be=L[G],Q[V]=Be&255,Q[V+1]=Be>>8&255,Q[V+2]=Be>>16&255,Q[V+3]=Be>>24&255;ee%y===0&&W(L)}return F&&(V=ee<<2,Be=L[G],Q[V]=Be&255,F>1&&(Q[V+1]=Be>>8&255),F>2&&(Q[V+2]=Be>>16&255)),Q};function P(y,L,B){d.call(this,y,L,B)}P.prototype=new d,P.prototype.finalize=function(){return this.encode(this.outputBits,!0),d.prototype.finalize.call(this)};var W=function(y){var L,B,F,G,ee,Q,V,Be,J,se,Rr,Fe,Le,vn,Te,je,Dr,xe,Oe,yr,Ue,ze,yn,ke,Ie,wn,Ce,Ne,bn,He,Me,En,qe,$e,Lr,Pe,Re,xn,We,Ge,_n,oe,fe,Et,de,be,xt,Ke,Qe,Ti,Je,Ye,Oi,Xe,Ze,Ii,et,tt,Vn,Qn,Jn,Yn,Xn;for(F=0;F<48;F+=2)G=y[0]^y[10]^y[20]^y[30]^y[40],ee=y[1]^y[11]^y[21]^y[31]^y[41],Q=y[2]^y[12]^y[22]^y[32]^y[42],V=y[3]^y[13]^y[23]^y[33]^y[43],Be=y[4]^y[14]^y[24]^y[34]^y[44],J=y[5]^y[15]^y[25]^y[35]^y[45],se=y[6]^y[16]^y[26]^y[36]^y[46],Rr=y[7]^y[17]^y[27]^y[37]^y[47],Fe=y[8]^y[18]^y[28]^y[38]^y[48],Le=y[9]^y[19]^y[29]^y[39]^y[49],L=Fe^(Q<<1|V>>>31),B=Le^(V<<1|Q>>>31),y[0]^=L,y[1]^=B,y[10]^=L,y[11]^=B,y[20]^=L,y[21]^=B,y[30]^=L,y[31]^=B,y[40]^=L,y[41]^=B,L=G^(Be<<1|J>>>31),B=ee^(J<<1|Be>>>31),y[2]^=L,y[3]^=B,y[12]^=L,y[13]^=B,y[22]^=L,y[23]^=B,y[32]^=L,y[33]^=B,y[42]^=L,y[43]^=B,L=Q^(se<<1|Rr>>>31),B=V^(Rr<<1|se>>>31),y[4]^=L,y[5]^=B,y[14]^=L,y[15]^=B,y[24]^=L,y[25]^=B,y[34]^=L,y[35]^=B,y[44]^=L,y[45]^=B,L=Be^(Fe<<1|Le>>>31),B=J^(Le<<1|Fe>>>31),y[6]^=L,y[7]^=B,y[16]^=L,y[17]^=B,y[26]^=L,y[27]^=B,y[36]^=L,y[37]^=B,y[46]^=L,y[47]^=B,L=se^(G<<1|ee>>>31),B=Rr^(ee<<1|G>>>31),y[8]^=L,y[9]^=B,y[18]^=L,y[19]^=B,y[28]^=L,y[29]^=B,y[38]^=L,y[39]^=B,y[48]^=L,y[49]^=B,vn=y[0],Te=y[1],be=y[11]<<4|y[10]>>>28,xt=y[10]<<4|y[11]>>>28,Ne=y[20]<<3|y[21]>>>29,bn=y[21]<<3|y[20]>>>29,Qn=y[31]<<9|y[30]>>>23,Jn=y[30]<<9|y[31]>>>23,oe=y[40]<<18|y[41]>>>14,fe=y[41]<<18|y[40]>>>14,$e=y[2]<<1|y[3]>>>31,Lr=y[3]<<1|y[2]>>>31,je=y[13]<<12|y[12]>>>20,Dr=y[12]<<12|y[13]>>>20,Ke=y[22]<<10|y[23]>>>22,Qe=y[23]<<10|y[22]>>>22,He=y[33]<<13|y[32]>>>19,Me=y[32]<<13|y[33]>>>19,Yn=y[42]<<2|y[43]>>>30,Xn=y[43]<<2|y[42]>>>30,Xe=y[5]<<30|y[4]>>>2,Ze=y[4]<<30|y[5]>>>2,Pe=y[14]<<6|y[15]>>>26,Re=y[15]<<6|y[14]>>>26,xe=y[25]<<11|y[24]>>>21,Oe=y[24]<<11|y[25]>>>21,Ti=y[34]<<15|y[35]>>>17,Je=y[35]<<15|y[34]>>>17,En=y[45]<<29|y[44]>>>3,qe=y[44]<<29|y[45]>>>3,ke=y[6]<<28|y[7]>>>4,Ie=y[7]<<28|y[6]>>>4,Ii=y[17]<<23|y[16]>>>9,et=y[16]<<23|y[17]>>>9,xn=y[26]<<25|y[27]>>>7,We=y[27]<<25|y[26]>>>7,yr=y[36]<<21|y[37]>>>11,Ue=y[37]<<21|y[36]>>>11,Ye=y[47]<<24|y[46]>>>8,Oi=y[46]<<24|y[47]>>>8,Et=y[8]<<27|y[9]>>>5,de=y[9]<<27|y[8]>>>5,wn=y[18]<<20|y[19]>>>12,Ce=y[19]<<20|y[18]>>>12,tt=y[29]<<7|y[28]>>>25,Vn=y[28]<<7|y[29]>>>25,Ge=y[38]<<8|y[39]>>>24,_n=y[39]<<8|y[38]>>>24,ze=y[48]<<14|y[49]>>>18,yn=y[49]<<14|y[48]>>>18,y[0]=vn^~je&xe,y[1]=Te^~Dr&Oe,y[10]=ke^~wn&Ne,y[11]=Ie^~Ce&bn,y[20]=$e^~Pe&xn,y[21]=Lr^~Re&We,y[30]=Et^~be&Ke,y[31]=de^~xt&Qe,y[40]=Xe^~Ii&tt,y[41]=Ze^~et&Vn,y[2]=je^~xe&yr,y[3]=Dr^~Oe&Ue,y[12]=wn^~Ne&He,y[13]=Ce^~bn&Me,y[22]=Pe^~xn&Ge,y[23]=Re^~We&_n,y[32]=be^~Ke&Ti,y[33]=xt^~Qe&Je,y[42]=Ii^~tt&Qn,y[43]=et^~Vn&Jn,y[4]=xe^~yr&ze,y[5]=Oe^~Ue&yn,y[14]=Ne^~He&En,y[15]=bn^~Me&qe,y[24]=xn^~Ge&oe,y[25]=We^~_n&fe,y[34]=Ke^~Ti&Ye,y[35]=Qe^~Je&Oi,y[44]=tt^~Qn&Yn,y[45]=Vn^~Jn&Xn,y[6]=yr^~ze&vn,y[7]=Ue^~yn&Te,y[16]=He^~En&ke,y[17]=Me^~qe&Ie,y[26]=Ge^~oe&$e,y[27]=_n^~fe&Lr,y[36]=Ti^~Ye&Et,y[37]=Je^~Oi&de,y[46]=Qn^~Yn&Xe,y[47]=Jn^~Xn&Ze,y[8]=ze^~vn&je,y[9]=yn^~Te&Dr,y[18]=En^~ke&wn,y[19]=qe^~Ie&Ce,y[28]=oe^~$e&Pe,y[29]=fe^~Lr&Re,y[38]=Ye^~Et&be,y[39]=Oi^~de&xt,y[48]=Yn^~Xe&Ii,y[49]=Xn^~Ze&et,y[0]^=E[F],y[1]^=E[F+1]};if(a)t.exports=f;else for(_=0;_<m.length;++_)i[m[_]]=f[m[_]]})()})(y1);var WE=y1.exports;const GE=Jo(WE);function bt(t){return"0x"+GE.keccak_256(ne(t))}const KE="rlp/5.7.0",Zr=new M(KE);function yp(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function wp(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function w1(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(o){n=n.concat(w1(o))}),n.length<=55)return n.unshift(192+n.length),n;const i=yp(n.length);return i.unshift(247+i.length),i.concat(n)}Nd(t)||Zr.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(ne(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=yp(e.length);return r.unshift(183+r.length),r.concat(e)}function ju(t){return re(w1(t))}function bp(t,e,r,n){const i=[];for(;r<e+1+n;){const o=b1(t,r);i.push(o.result),r+=o.consumed,r>e+1+n&&Zr.throwError("child data too short",M.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function b1(t,e){if(t.length===0&&Zr.throwError("data too short",M.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Zr.throwError("data short segment too short",M.errors.BUFFER_OVERRUN,{});const n=wp(t,e+1,r);return e+1+r+n>t.length&&Zr.throwError("data long segment too short",M.errors.BUFFER_OVERRUN,{}),bp(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Zr.throwError("data array too short",M.errors.BUFFER_OVERRUN,{}),bp(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Zr.throwError("data array too short",M.errors.BUFFER_OVERRUN,{});const n=wp(t,e+1,r);e+1+r+n>t.length&&Zr.throwError("data array too short",M.errors.BUFFER_OVERRUN,{});const i=re(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Zr.throwError("data too short",M.errors.BUFFER_OVERRUN,{});const n=re(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:re(t[e])}}function Td(t){const e=ne(t),r=b1(e,0);return r.consumed!==e.length&&Zr.throwArgumentError("invalid rlp data","data",t),r.result}const VE="address/5.7.0",di=new M(VE);function Ep(t){ge(t,20)||di.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=ne(bt(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const QE=9007199254740991;function JE(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const Od={};for(let t=0;t<10;t++)Od[String(t)]=String(t);for(let t=0;t<26;t++)Od[String.fromCharCode(65+t)]=String(10+t);const xp=Math.floor(JE(QE));function E1(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>Od[n]).join("");for(;e.length>=xp;){let n=e.substring(0,xp);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function pt(t){let e=null;if(typeof t!="string"&&di.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=Ep(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&di.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==E1(t)&&di.throwArgumentError("bad icap checksum","address",t),e=IE(t.substring(4));e.length<40;)e="0"+e;e=Ep("0x"+e)}else di.throwArgumentError("invalid address","address",t);return e}function YE(t){try{return pt(t),!0}catch{}return!1}function XE(t){let e=ME(pt(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+E1("XE00"+e)+e}function Id(t){let e=null;try{e=pt(t.from)}catch{di.throwArgumentError("missing from address","transaction",t)}const r=Wo(ne(K.from(t.nonce).toHexString()));return pt(It(bt(ju([e,r])),12))}function ZE(t,e,r){return Fn(e)!==32&&di.throwArgumentError("salt must be 32 bytes","salt",e),Fn(r)!==32&&di.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),pt(It(bt(Zt(["0xff",pt(t),e,r])),12))}const ex=Object.freeze(Object.defineProperty({__proto__:null,getAddress:pt,getContractAddress:Id,getCreate2Address:ZE,getIcapAddress:XE,isAddress:YE},Symbol.toStringTag,{value:"Module"}));class tx extends $n{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=pt(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return pt(dt(e.readValue().toHexString(),20))}}class rx extends $n{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const _o=new M(Aa);function x1(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let l={};n=e.map(u=>{const c=u.localName;return c||_o.throwError("cannot encode object for signature with missing names",M.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:r}),l[c]&&_o.throwError("cannot encode object for signature with duplicate names",M.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:r}),l[c]=!0,r[c]})}else _o.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&_o.throwArgumentError("types/value length mismatch","tuple",r);let i=new ph(t.wordSize),o=new ph(t.wordSize),s=[];e.forEach((l,u)=>{let c=n[u];if(l.dynamic){let h=o.length;l.encode(o,c);let p=i.writeUpdatableValue();s.push(g=>{p(g+h)})}else l.encode(i,c)}),s.forEach(l=>{l(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(o),a}function _1(t,e){let r=[],n=t.subReader(0);e.forEach(o=>{let s=null;if(o.dynamic){let a=t.readValue(),l=n.subReader(a.toNumber());try{s=o.decode(l)}catch(u){if(u.code===M.errors.BUFFER_OVERRUN)throw u;s=u,s.baseType=o.name,s.name=o.localName,s.type=o.type}}else try{s=o.decode(t)}catch(a){if(a.code===M.errors.BUFFER_OVERRUN)throw a;s=a,s.baseType=o.name,s.name=o.localName,s.type=o.type}s!=null&&r.push(s)});const i=e.reduce((o,s)=>{const a=s.localName;return a&&(o[a]||(o[a]=0),o[a]++),o},{});e.forEach((o,s)=>{let a=o.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const l=r[s];l instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw l}}):r[a]=l});for(let o=0;o<r.length;o++){const s=r[o];s instanceof Error&&Object.defineProperty(r,o,{enumerable:!0,get:()=>{throw s}})}return Object.freeze(r)}class nx extends $n{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",o=r===-1||e.dynamic;super("array",i,n,o),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),_o.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let o=0;o<r.length;o++)i.push(this.coder);return x1(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&_o.throwError("insufficient data length",M.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new rx(this.coder));return e.coerce(this.name,_1(e,n))}}class ix extends $n{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class S1 extends $n{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=ne(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class ox extends S1{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,re(super.decode(e)))}}class sx extends $n{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=ne(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,re(e.readBytes(this.size)))}}class ax extends $n{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const lx="0x0000000000000000000000000000000000000000",ux=K.from(-1),A1=K.from(0),cx=K.from(1),fx=K.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),hx="0x0000000000000000000000000000000000000000000000000000000000000000";class dx extends $n{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=K.from(r),i=fx.mask(e.wordSize*8);if(this.signed){let o=i.mask(this.size*8-1);(n.gt(o)||n.lt(o.add(cx).mul(ux)))&&this._throwError("value out-of-bounds",r)}else(n.lt(A1)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const px="strings/5.7.0",k1=new M(px);var fa;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(fa||(fa={}));var lr;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(lr||(lr={}));function gx(t,e,r,n,i){return k1.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function C1(t,e,r,n,i){if(t===lr.BAD_PREFIX||t===lr.UNEXPECTED_CONTINUE){let o=0;for(let s=e+1;s<r.length&&r[s]>>6===2;s++)o++;return o}return t===lr.OVERRUN?r.length-e-1:0}function mx(t,e,r,n,i){return t===lr.OVERLONG?(n.push(i),0):(n.push(65533),C1(t,e,r))}const vx=Object.freeze({error:gx,ignore:C1,replace:mx});function N1(t,e){e==null&&(e=vx.error),t=ne(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let o=null,s=null;if((i&224)===192)o=1,s=127;else if((i&240)===224)o=2,s=2047;else if((i&248)===240)o=3,s=65535;else{(i&192)===128?n+=e(lr.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(lr.BAD_PREFIX,n-1,t,r);continue}if(n-1+o>=t.length){n+=e(lr.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let l=0;l<o;l++){let u=t[n];if((u&192)!=128){n+=e(lr.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|u&63,n++}if(a!==null){if(a>1114111){n+=e(lr.OUT_OF_RANGE,n-1-o,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(lr.UTF16_SURROGATE,n-1-o,t,r,a);continue}if(a<=s){n+=e(lr.OVERLONG,n-1-o,t,r,a);continue}r.push(a)}}return r}function fn(t,e=fa.current){e!=fa.current&&(k1.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const o=t.charCodeAt(n);if(n>=t.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");const s=65536+((i&1023)<<10)+(o&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return ne(r)}function yx(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function ka(t,e){return yx(N1(t,e))}function wx(t,e=fa.current){return N1(fn(t,e))}class bx extends S1{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,fn(r))}decode(e){return ka(super.decode(e))}}class Ja extends $n{constructor(e,r){let n=!1;const i=[];e.forEach(s=>{s.dynamic&&(n=!0),i.push(s.type)});const o="tuple("+i.join(",")+")";super("tuple",o,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const o=i.localName;return o&&(n[o]||(n[o]=0),n[o]++),n},{});return this.coders.forEach((n,i)=>{let o=n.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[i]))}),Object.freeze(e)}encode(e,r){return x1(e,this.coders,r)}decode(e){return e.coerce(this.name,_1(e,this.coders))}}const Ya=new M(Aa),Ex=new RegExp(/^bytes([0-9]*)$/),xx=new RegExp(/^(u?int)([0-9]*)$/);class _x{constructor(e){U(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new tx(e.name);case"bool":return new ix(e.name);case"string":return new bx(e.name);case"bytes":return new ox(e.name);case"array":return new nx(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Ja((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new ax(e.name)}let r=e.type.match(xx);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Ya.throwArgumentError("invalid "+r[1]+" bit length","param",e),new dx(n/8,r[1]==="int",e.name)}if(r=e.type.match(Ex),r){let n=parseInt(r[1]);return(n===0||n>32)&&Ya.throwArgumentError("invalid bytes length","param",e),new sx(n,e.name)}return Ya.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new su(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new ph(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(Nt.from(i)));return new Ja(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Ya.throwError("types/values length mismatch",M.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(s=>this._getCoder(Nt.from(s))),i=new Ja(n,"_"),o=this._getWriter();return i.encode(o,r),o.data}decode(e,r,n){const i=e.map(s=>this._getCoder(Nt.from(s)));return new Ja(i,"_").decode(this._getReader(ne(r),n))}}const Sx=new _x;function So(t){return bt(fn(t))}const P1="hash/5.7.0";function T1(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return ne(e)}function O1(t){t=ne(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function I1(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(o,s){n.call(o,function(a){s>0&&Array.isArray(a)?i(a,s-1):r.push(a)})};return i(t,e),r}function Ax(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function kx(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,o=[0,1];for(let D=1;D<n;D++)o.push(i+=r());let s=r(),a=e;e+=s;let l=0,u=0;function c(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const h=31,p=Math.pow(2,h),g=p>>>1,v=g>>1,E=p-1;let C=0;for(let D=0;D<h;D++)C=C<<1|c();let w=[],b=0,x=p;for(;;){let D=Math.floor(((C-b+1)*i-1)/x),j=0,H=n;for(;H-j>1;){let te=j+H>>>1;D<o[te]?H=te:j=te}if(j==0)break;w.push(j);let $=b+Math.floor(x*o[j]/i),Y=b+Math.floor(x*o[j+1]/i)-1;for(;!(($^Y)&g);)C=C<<1&E|c(),$=$<<1&E,Y=Y<<1&E|1;for(;$&~Y&v;)C=C&g|C<<1&E>>>1|c(),$=$<<1^g,Y=(Y^g)<<1|g|1;b=$,x=1+Y-$}let R=n-4;return w.map(D=>{switch(D-R){case 3:return R+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return R+256+(t[a++]<<8|t[a++]);case 1:return R+t[a++];default:return D-1}})}function Cx(t){let e=0;return()=>t[e++]}function Nx(t){return Cx(kx(t))}function Px(t){return t&1?~t>>1:t>>1}function Tx(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function _p(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function Ox(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Px(e());return r}function au(t,e){let r=_p(t(),t),n=t(),i=_p(n,t),o=Tx(n,t);for(let s=0;s<n;s++)for(let a=0;a<o[s];a++)r.push(i[s]+a);return e?r.map(s=>e[s]):r}function Ix(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(Rx(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Dx(r,t))}return Ax(I1(e))}function Mx(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function M1(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)Ox(t,r).forEach((o,s)=>n[s].push(o));return n}function Rx(t,e){let r=1+e(),n=e(),i=Mx(e),o=M1(i.length,1+t,e);return I1(o.map((s,a)=>{const l=s[0],u=s.slice(1);return Array(i[a]).fill(void 0).map((c,h)=>{let p=h*n;return[l+h*r,u.map(g=>g+p)]})}))}function Dx(t,e){let r=1+e();return M1(r,1+t,e).map(i=>[i[0],i.slice(1)])}function Lx(t){let e=au(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let u=au(t,e);if(u.length==0)break;n.push({set:new Set(u),node:r()})}n.sort((u,c)=>c.set.size-u.set.size);let i=t(),o=i%3;i=i/3|0;let s=!!(i&1);i>>=1;let a=i==1,l=i==2;return{branches:n,valid:o,fe0f:s,save:a,check:l}}}function jx(){return Nx(T1("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Bu=jx(),Bx=new Set(au(Bu)),Fx=new Set(au(Bu)),Ux=Ix(Bu),zx=Lx(Bu),Sp=45,Ap=95;function R1(t){return wx(t)}function Hx(t){return t.filter(e=>e!=65039)}function D1(t){for(let e of t.split(".")){let r=R1(e);try{for(let n=r.lastIndexOf(Ap)-1;n>=0;n--)if(r[n]!==Ap)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===Sp&&r[3]===Sp)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function qx(t){return D1($x(t,Hx))}function $x(t,e){let r=R1(t).reverse(),n=[];for(;r.length;){let i=Gx(r);if(i){n.push(...e(i));continue}let o=r.pop();if(Bx.has(o)){n.push(o);continue}if(Fx.has(o))continue;let s=Ux[o];if(s){n.push(...s);continue}throw new Error(`Disallowed codepoint: 0x${o.toString(16).toUpperCase()}`)}return D1(Wx(String.fromCodePoint(...n)))}function Wx(t){return t.normalize("NFC")}function Gx(t,e){var r;let n=zx,i,o,s=[],a=t.length;for(e&&(e.length=0);a;){let l=t[--a];if(n=(r=n.branches.find(u=>u.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)o=l;else if(n.check&&l===o)break;s.push(l),n.fe0f&&(s.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=s.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(a).reverse()),t.length=a)}return i}const Kx=new M(P1),L1=new Uint8Array(32);L1.fill(0);function kp(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function j1(t){const e=fn(qx(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(kp(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(kp(e.slice(n))),r}function Sl(t){typeof t!="string"&&Kx.throwArgumentError("invalid ENS name; not a string","name",t);let e=L1;const r=j1(t);for(;r.length;)e=bt(Zt([e,bt(r.pop())]));return re(e)}function Vx(t){return re(Zt(j1(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}var Qx=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const at=new M(P1),B1=new Uint8Array(32);B1.fill(0);const Jx=K.from(-1),F1=K.from(0),U1=K.from(1),Yx=K.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Xx(t){const e=ne(t),r=e.length%32;return r?Yt([e,B1.slice(r)]):re(e)}const Zx=dt(U1.toHexString(),32),e_=dt(F1.toHexString(),32),Cp={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},qc=["name","version","chainId","verifyingContract","salt"];function Np(t){return function(e){return typeof e!="string"&&at.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const t_={name:Np("name"),version:Np("version"),chainId:function(t){try{return K.from(t).toString()}catch{}return at.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return pt(t).toLowerCase()}catch{}return at.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=ne(t);if(e.length!==32)throw new Error("bad length");return re(e)}catch{}return at.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function $c(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&at.throwArgumentError("invalid numeric width","type",t);const i=Yx.mask(r?n-1:n),o=r?i.add(U1).mul(Jx):F1;return function(s){const a=K.from(s);return(a.lt(o)||a.gt(i))&&at.throwArgumentError(`value out-of-bounds for ${t}`,"value",s),dt(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&at.throwArgumentError("invalid bytes width","type",t),function(n){return ne(n).length!==r&&at.throwArgumentError(`invalid length for ${t}`,"value",n),Xx(n)}}}switch(t){case"address":return function(e){return dt(pt(e),32)};case"bool":return function(e){return e?Zx:e_};case"bytes":return function(e){return bt(e)};case"string":return function(e){return So(e)}}return null}function Pp(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class or{constructor(e){U(this,"types",Object.freeze(nr(e))),U(this,"_encoderCache",{}),U(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const l={};e[a].forEach(u=>{l[u.name]&&at.throwArgumentError(`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(a)}`,"types",e),l[u.name]=!0;const c=u.type.match(/^([^\x5b]*)(\x5b|$)/)[1];c===a&&at.throwArgumentError(`circular type reference to ${JSON.stringify(c)}`,"types",e),!$c(c)&&(n[c]||at.throwArgumentError(`unknown type ${JSON.stringify(c)}`,"types",e),n[c].push(a),r[a][c]=!0)})}const o=Object.keys(n).filter(a=>n[a].length===0);o.length===0?at.throwArgumentError("missing primary type","types",e):o.length>1&&at.throwArgumentError(`ambiguous primary types or unused types: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),U(this,"primaryType",o[0]);function s(a,l){l[a]&&at.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(r[a]).forEach(u=>{n[u]&&(s(u,l),Object.keys(l).forEach(c=>{i[c][u]=!0}))}),delete l[a]}s(this.primaryType,{});for(const a in i){const l=Object.keys(i[a]);l.sort(),this._types[a]=Pp(a,e[a])+l.map(u=>Pp(u,e[u])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=$c(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],o=this.getEncoder(i),s=parseInt(r[3]);return a=>{s>=0&&a.length!==s&&at.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(o);return this._types[i]&&(l=l.map(bt)),bt(Yt(l))}}const n=this.types[e];if(n){const i=So(this._types[e]);return o=>{const s=n.map(({name:a,type:l})=>{const u=this.getEncoder(l)(o[a]);return this._types[l]?bt(u):u});return s.unshift(i),Yt(s)}}return at.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||at.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return bt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if($c(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const s=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&at.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(s,l,n))}const o=this.types[e];return o?o.reduce((s,{name:a,type:l})=>(s[a]=this._visit(l,r[a],n),s),{}):at.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new or(e)}static getPrimaryType(e){return or.from(e).primaryType}static hashStruct(e,r,n){return or.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=Cp[n];i||at.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>qc.indexOf(n.name)-qc.indexOf(i.name)),or.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Yt(["0x1901",or.hashDomain(e),or.from(r).hash(n)])}static hash(e,r,n){return bt(or.encode(e,r,n))}static resolveNames(e,r,n,i){return Qx(this,void 0,void 0,function*(){e=ot(e);const o={};e.verifyingContract&&!ge(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");const s=or.from(r);s.visit(n,(a,l)=>(a==="address"&&!ge(l,20)&&(o[l]="0x"),l));for(const a in o)o[a]=yield i(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=s.visit(n,(a,l)=>a==="address"&&o[l]?o[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){or.hashDomain(e);const i={},o=[];qc.forEach(l=>{const u=e[l];u!=null&&(i[l]=t_[l](u),o.push({name:l,type:Cp[l]}))});const s=or.from(r),a=ot(r);return a.EIP712Domain?at.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=o,s.encode(n),{types:a,domain:i,primaryType:s.primaryType,message:s.visit(n,(l,u)=>{if(l.match(/^bytes(\d*)/))return re(ne(u));if(l.match(/^u?int/))return K.from(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return typeof u!="string"&&at.throwArgumentError("invalid string","value",u),u}return at.throwArgumentError("unsupported type","type",l)})}}}const st=new M(Aa);class r_ extends Sa{}class n_ extends Sa{}class i_ extends Sa{}class gh extends Sa{static isIndexed(e){return!!(e&&e._isIndexed)}}const o_={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Tp(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class Op{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,U(this,"fragments",r.map(n=>In.from(n)).filter(n=>n!=null)),U(this,"_abiCoder",fr(new.target,"getAbiCoder")()),U(this,"functions",{}),U(this,"errors",{}),U(this,"events",{}),U(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){st.warn("duplicate definition - constructor");return}U(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let o=n.format();if(i[o]){st.warn("duplicate definition - "+o);return}i[o]=n}),this.deploy||U(this,"deploy",nn.from({payable:!1,type:"constructor"})),U(this,"_isInterface",!0)}format(e){e||(e=Se.full),e===Se.sighash&&st.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===Se.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return Sx}static getAddress(e){return pt(e)}static getSighash(e){return It(So(e.format()),0,4)}static getEventTopic(e){return So(e.format())}getFunction(e){if(ge(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];st.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(o=>o.split("(")[0]===n);return i.length===0?st.throwArgumentError("no matching function","name",n):i.length>1&&st.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[on.fromString(e).format()];return r||st.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(ge(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];st.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(o=>o.split("(")[0]===n);return i.length===0?st.throwArgumentError("no matching event","name",n):i.length>1&&st.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[Pn.fromString(e).format()];return r||st.throwArgumentError("no matching event","signature",e),r}getError(e){if(ge(e)){const n=fr(this.constructor,"getSighash");for(const i in this.errors){const o=this.errors[i];if(e===n(o))return this.errors[i]}st.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(o=>o.split("(")[0]===n);return i.length===0?st.throwArgumentError("no matching error","name",n):i.length>1&&st.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[on.fromString(e).format()];return r||st.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return fr(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),fr(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=ne(r);return re(n.slice(0,4))!==this.getSighash(e)&&st.throwArgumentError(`data signature does not match error ${e.name}.`,"data",re(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),re(Zt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=ne(r);return re(n.slice(0,4))!==this.getSighash(e)&&st.throwArgumentError(`data signature does not match function ${e.name}.`,"data",re(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),re(Zt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=ne(r),i=null,o="",s=null,a=null,l=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const u=re(n.slice(0,4)),c=o_[u];if(c)s=this._abiCoder.decode(c.inputs,n.slice(4)),a=c.name,l=c.signature,c.reason&&(i=s[0]),a==="Error"?o=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:a==="Panic"&&(o=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{const h=this.getError(u);s=this._abiCoder.decode(h.inputs,n.slice(4)),a=h.name,l=h.format()}catch{}break}}return st.throwError("call revert exception"+o,M.errors.CALL_EXCEPTION,{method:e.format(),data:re(r),errorArgs:s,errorName:a,errorSignature:l,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),re(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&st.throwError("too many arguments for "+e.format(),M.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(o,s)=>o.type==="string"?So(s):o.type==="bytes"?bt(re(s)):(o.type==="bool"&&typeof s=="boolean"&&(s=s?"0x01":"0x00"),o.type.match(/^u?int/)&&(s=K.from(s).toHexString()),o.type==="address"&&this._abiCoder.encode(["address"],[s]),dt(re(s),32));for(r.forEach((o,s)=>{let a=e.inputs[s];if(!a.indexed){o!=null&&st.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?st.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?n.push(o.map(l=>i(a,l))):n.push(i(a,o))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],o=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&st.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((s,a)=>{const l=r[a];if(s.indexed)if(s.type==="string")n.push(So(l));else if(s.type==="bytes")n.push(bt(l));else{if(s.baseType==="tuple"||s.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([s.type],[l]))}else i.push(s),o.push(l)}),{data:this._abiCoder.encode(i,o),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let p=this.getEventTopic(e);(!ge(n[0],32)||n[0].toLowerCase()!==p)&&st.throwError("fragment/topic mismatch",M.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:p,value:n[0]}),n=n.slice(1)}let i=[],o=[],s=[];e.inputs.forEach((p,g)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(Nt.fromObject({type:"bytes32",name:p.name})),s.push(!0)):(i.push(p),s.push(!1)):(o.push(p),s.push(!1))});let a=n!=null?this._abiCoder.decode(i,Zt(n)):null,l=this._abiCoder.decode(o,r,!0),u=[],c=0,h=0;e.inputs.forEach((p,g)=>{if(p.indexed)if(a==null)u[g]=new gh({_isIndexed:!0,hash:null});else if(s[g])u[g]=new gh({_isIndexed:!0,hash:a[h++]});else try{u[g]=a[h++]}catch(v){u[g]=v}else try{u[g]=l[c++]}catch(v){u[g]=v}if(p.name&&u[p.name]==null){const v=u[g];v instanceof Error?Object.defineProperty(u,p.name,{enumerable:!0,get:()=>{throw Tp(`property ${JSON.stringify(p.name)}`,v)}}):u[p.name]=v}});for(let p=0;p<u.length;p++){const g=u[p];g instanceof Error&&Object.defineProperty(u,p,{enumerable:!0,get:()=>{throw Tp(`index ${p}`,g)}})}return Object.freeze(u)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new n_({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:K.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new r_({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=re(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new i_({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const s_="abstract-provider/5.7.0";var a_=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const l_=new M(s_);class u_ extends Sa{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class ts{constructor(){l_.checkAbstract(new.target,ts),U(this,"_isProvider",!0)}getFeeData(){return a_(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield vt({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)});let n=null,i=null,o=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,o=K.from("1500000000"),i=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const c_="abstract-signer/5.7.0";var Br=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const xr=new M(c_),f_=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],h_=[M.errors.INSUFFICIENT_FUNDS,M.errors.NONCE_EXPIRED,M.errors.REPLACEMENT_UNDERPRICED];class Ca{constructor(){xr.checkAbstract(new.target,Ca),U(this,"_isSigner",!0)}getBalance(e){return Br(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Br(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Br(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield vt(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Br(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield vt(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Br(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Br(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Br(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Br(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Br(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)f_.indexOf(n)===-1&&xr.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=ot(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&xr.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Br(this,void 0,void 0,function*(){const r=yield vt(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Br(this,void 0,void 0,function*(){if(i==null)return null;const o=yield this.resolveName(i);return o==null&&xr.throwArgumentError("provided ENS name resolves to null","tx.to",i),o})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?xr.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&xr.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const o=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&xr.throwError("network does not support EIP-1559",M.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):xr.throwError("failed to get consistent fee data",M.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(h_.indexOf(i.code)>=0)throw i;return xr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",M.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&xr.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield vt(r)})}_checkProvider(e){this.provider||xr.throwError("missing provider",M.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Md extends Ca{constructor(e,r){super(),U(this,"address",e),U(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{xr.throwError(e,M.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Md(this.address,e)}}var z1={},we={},Na=H1;function H1(t,e){if(!t)throw new Error(e||"Assertion failed")}H1.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var mh={exports:{}};typeof Object.create=="function"?mh.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:mh.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var d_=mh.exports,p_=Na,g_=d_;we.inherits=g_;function m_(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function v_(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):m_(t,i)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}we.toArray=v_;function y_(t){for(var e="",r=0;r<t.length;r++)e+=$1(t[r].toString(16));return e}we.toHex=y_;function q1(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}we.htonl=q1;function w_(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=q1(i)),r+=W1(i.toString(16))}return r}we.toHex32=w_;function $1(t){return t.length===1?"0"+t:t}we.zero2=$1;function W1(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}we.zero8=W1;function b_(t,e,r,n){var i=r-e;p_(i%4===0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var l;n==="big"?l=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:l=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],o[s]=l>>>0}return o}we.join32=b_;function E_(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];e==="big"?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=o&255):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=o&255)}return r}we.split32=E_;function x_(t,e){return t>>>e|t<<32-e}we.rotr32=x_;function __(t,e){return t<<e|t>>>32-e}we.rotl32=__;function S_(t,e){return t+e>>>0}we.sum32=S_;function A_(t,e,r){return t+e+r>>>0}we.sum32_3=A_;function k_(t,e,r,n){return t+e+r+n>>>0}we.sum32_4=k_;function C_(t,e,r,n,i){return t+e+r+n+i>>>0}we.sum32_5=C_;function N_(t,e,r,n){var i=t[e],o=t[e+1],s=n+o>>>0,a=(s<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=s}we.sum64=N_;function P_(t,e,r,n){var i=e+n>>>0,o=(i<e?1:0)+t+r;return o>>>0}we.sum64_hi=P_;function T_(t,e,r,n){var i=e+n;return i>>>0}we.sum64_lo=T_;function O_(t,e,r,n,i,o,s,a){var l=0,u=e;u=u+n>>>0,l+=u<e?1:0,u=u+o>>>0,l+=u<o?1:0,u=u+a>>>0,l+=u<a?1:0;var c=t+r+i+s+l;return c>>>0}we.sum64_4_hi=O_;function I_(t,e,r,n,i,o,s,a){var l=e+n+o+a;return l>>>0}we.sum64_4_lo=I_;function M_(t,e,r,n,i,o,s,a,l,u){var c=0,h=e;h=h+n>>>0,c+=h<e?1:0,h=h+o>>>0,c+=h<o?1:0,h=h+a>>>0,c+=h<a?1:0,h=h+u>>>0,c+=h<u?1:0;var p=t+r+i+s+l+c;return p>>>0}we.sum64_5_hi=M_;function R_(t,e,r,n,i,o,s,a,l,u){var c=e+n+o+a+u;return c>>>0}we.sum64_5_lo=R_;function D_(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}we.rotr64_hi=D_;function L_(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}we.rotr64_lo=L_;function j_(t,e,r){return t>>>r}we.shr64_hi=j_;function B_(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}we.shr64_lo=B_;var rs={},Ip=we,F_=Na;function Fu(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}rs.BlockHash=Fu;Fu.prototype.update=function(e,r){if(e=Ip.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=Ip.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Fu.prototype.digest=function(e){return this.update(this._pad()),F_(this.pending===null),this._digest(e)};Fu.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var o=1;o<n;o++)i[o]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=e>>>24&255,i[o++]=e>>>16&255,i[o++]=e>>>8&255,i[o++]=e&255}else for(i[o++]=e&255,i[o++]=e>>>8&255,i[o++]=e>>>16&255,i[o++]=e>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,s=8;s<this.padLength;s++)i[o++]=0;return i};var ns={},mn={},U_=we,ln=U_.rotr32;function z_(t,e,r,n){if(t===0)return G1(e,r,n);if(t===1||t===3)return V1(e,r,n);if(t===2)return K1(e,r,n)}mn.ft_1=z_;function G1(t,e,r){return t&e^~t&r}mn.ch32=G1;function K1(t,e,r){return t&e^t&r^e&r}mn.maj32=K1;function V1(t,e,r){return t^e^r}mn.p32=V1;function H_(t){return ln(t,2)^ln(t,13)^ln(t,22)}mn.s0_256=H_;function q_(t){return ln(t,6)^ln(t,11)^ln(t,25)}mn.s1_256=q_;function $_(t){return ln(t,7)^ln(t,18)^t>>>3}mn.g0_256=$_;function W_(t){return ln(t,17)^ln(t,19)^t>>>10}mn.g1_256=W_;var Go=we,G_=rs,K_=mn,Wc=Go.rotl32,ps=Go.sum32,V_=Go.sum32_5,Q_=K_.ft_1,Q1=G_.BlockHash,J_=[1518500249,1859775393,2400959708,3395469782];function hn(){if(!(this instanceof hn))return new hn;Q1.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Go.inherits(hn,Q1);var Y_=hn;hn.blockSize=512;hn.outSize=160;hn.hmacStrength=80;hn.padLength=64;hn.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Wc(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var o=this.h[0],s=this.h[1],a=this.h[2],l=this.h[3],u=this.h[4];for(i=0;i<n.length;i++){var c=~~(i/20),h=V_(Wc(o,5),Q_(c,s,a,l),u,n[i],J_[c]);u=l,l=a,a=Wc(s,30),s=o,o=h}this.h[0]=ps(this.h[0],o),this.h[1]=ps(this.h[1],s),this.h[2]=ps(this.h[2],a),this.h[3]=ps(this.h[3],l),this.h[4]=ps(this.h[4],u)};hn.prototype._digest=function(e){return e==="hex"?Go.toHex32(this.h,"big"):Go.split32(this.h,"big")};var Ko=we,X_=rs,is=mn,Z_=Na,Fr=Ko.sum32,eS=Ko.sum32_4,tS=Ko.sum32_5,rS=is.ch32,nS=is.maj32,iS=is.s0_256,oS=is.s1_256,sS=is.g0_256,aS=is.g1_256,J1=X_.BlockHash,lS=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function dn(){if(!(this instanceof dn))return new dn;J1.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=lS,this.W=new Array(64)}Ko.inherits(dn,J1);var Y1=dn;dn.blockSize=512;dn.outSize=256;dn.hmacStrength=192;dn.padLength=64;dn.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=eS(aS(n[i-2]),n[i-7],sS(n[i-15]),n[i-16]);var o=this.h[0],s=this.h[1],a=this.h[2],l=this.h[3],u=this.h[4],c=this.h[5],h=this.h[6],p=this.h[7];for(Z_(this.k.length===n.length),i=0;i<n.length;i++){var g=tS(p,oS(u),rS(u,c,h),this.k[i],n[i]),v=Fr(iS(o),nS(o,s,a));p=h,h=c,c=u,u=Fr(l,g),l=a,a=s,s=o,o=Fr(g,v)}this.h[0]=Fr(this.h[0],o),this.h[1]=Fr(this.h[1],s),this.h[2]=Fr(this.h[2],a),this.h[3]=Fr(this.h[3],l),this.h[4]=Fr(this.h[4],u),this.h[5]=Fr(this.h[5],c),this.h[6]=Fr(this.h[6],h),this.h[7]=Fr(this.h[7],p)};dn.prototype._digest=function(e){return e==="hex"?Ko.toHex32(this.h,"big"):Ko.split32(this.h,"big")};var vh=we,X1=Y1;function Un(){if(!(this instanceof Un))return new Un;X1.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}vh.inherits(Un,X1);var uS=Un;Un.blockSize=512;Un.outSize=224;Un.hmacStrength=192;Un.padLength=64;Un.prototype._digest=function(e){return e==="hex"?vh.toHex32(this.h.slice(0,7),"big"):vh.split32(this.h.slice(0,7),"big")};var ir=we,cS=rs,fS=Na,un=ir.rotr64_hi,cn=ir.rotr64_lo,Z1=ir.shr64_hi,ey=ir.shr64_lo,ei=ir.sum64,Gc=ir.sum64_hi,Kc=ir.sum64_lo,hS=ir.sum64_4_hi,dS=ir.sum64_4_lo,pS=ir.sum64_5_hi,gS=ir.sum64_5_lo,ty=cS.BlockHash,mS=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Qr(){if(!(this instanceof Qr))return new Qr;ty.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=mS,this.W=new Array(160)}ir.inherits(Qr,ty);var ry=Qr;Qr.blockSize=1024;Qr.outSize=512;Qr.hmacStrength=192;Qr.padLength=128;Qr.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var o=CS(n[i-4],n[i-3]),s=NS(n[i-4],n[i-3]),a=n[i-14],l=n[i-13],u=AS(n[i-30],n[i-29]),c=kS(n[i-30],n[i-29]),h=n[i-32],p=n[i-31];n[i]=hS(o,s,a,l,u,c,h,p),n[i+1]=dS(o,s,a,l,u,c,h,p)}};Qr.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],l=this.h[4],u=this.h[5],c=this.h[6],h=this.h[7],p=this.h[8],g=this.h[9],v=this.h[10],E=this.h[11],C=this.h[12],w=this.h[13],b=this.h[14],x=this.h[15];fS(this.k.length===n.length);for(var R=0;R<n.length;R+=2){var D=b,j=x,H=_S(p,g),$=SS(p,g),Y=vS(p,g,v,E,C),te=yS(p,g,v,E,C,w),ie=this.k[R],Ae=this.k[R+1],T=n[R],f=n[R+1],m=pS(D,j,H,$,Y,te,ie,Ae,T,f),_=gS(D,j,H,$,Y,te,ie,Ae,T,f);D=ES(i,o),j=xS(i,o),H=wS(i,o,s,a,l),$=bS(i,o,s,a,l,u);var k=Gc(D,j,H,$),S=Kc(D,j,H,$);b=C,x=w,C=v,w=E,v=p,E=g,p=Gc(c,h,m,_),g=Kc(h,h,m,_),c=l,h=u,l=s,u=a,s=i,a=o,i=Gc(m,_,k,S),o=Kc(m,_,k,S)}ei(this.h,0,i,o),ei(this.h,2,s,a),ei(this.h,4,l,u),ei(this.h,6,c,h),ei(this.h,8,p,g),ei(this.h,10,v,E),ei(this.h,12,C,w),ei(this.h,14,b,x)};Qr.prototype._digest=function(e){return e==="hex"?ir.toHex32(this.h,"big"):ir.split32(this.h,"big")};function vS(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function yS(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function wS(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function bS(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function ES(t,e){var r=un(t,e,28),n=un(e,t,2),i=un(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function xS(t,e){var r=cn(t,e,28),n=cn(e,t,2),i=cn(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function _S(t,e){var r=un(t,e,14),n=un(t,e,18),i=un(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function SS(t,e){var r=cn(t,e,14),n=cn(t,e,18),i=cn(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function AS(t,e){var r=un(t,e,1),n=un(t,e,8),i=Z1(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function kS(t,e){var r=cn(t,e,1),n=cn(t,e,8),i=ey(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function CS(t,e){var r=un(t,e,19),n=un(e,t,29),i=Z1(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}function NS(t,e){var r=cn(t,e,19),n=cn(e,t,29),i=ey(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}var yh=we,ny=ry;function zn(){if(!(this instanceof zn))return new zn;ny.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}yh.inherits(zn,ny);var PS=zn;zn.blockSize=1024;zn.outSize=384;zn.hmacStrength=192;zn.padLength=128;zn.prototype._digest=function(e){return e==="hex"?yh.toHex32(this.h.slice(0,12),"big"):yh.split32(this.h.slice(0,12),"big")};ns.sha1=Y_;ns.sha224=uS;ns.sha256=Y1;ns.sha384=PS;ns.sha512=ry;var iy={},Qi=we,TS=rs,Xa=Qi.rotl32,Mp=Qi.sum32,gs=Qi.sum32_3,Rp=Qi.sum32_4,oy=TS.BlockHash;function pn(){if(!(this instanceof pn))return new pn;oy.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Qi.inherits(pn,oy);iy.ripemd160=pn;pn.blockSize=512;pn.outSize=160;pn.hmacStrength=192;pn.padLength=64;pn.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],l=n,u=i,c=o,h=s,p=a,g=0;g<80;g++){var v=Mp(Xa(Rp(n,Dp(g,i,o,s),e[MS[g]+r],OS(g)),DS[g]),a);n=a,a=s,s=Xa(o,10),o=i,i=v,v=Mp(Xa(Rp(l,Dp(79-g,u,c,h),e[RS[g]+r],IS(g)),LS[g]),p),l=p,p=h,h=Xa(c,10),c=u,u=v}v=gs(this.h[1],o,h),this.h[1]=gs(this.h[2],s,p),this.h[2]=gs(this.h[3],a,l),this.h[3]=gs(this.h[4],n,u),this.h[4]=gs(this.h[0],i,c),this.h[0]=v};pn.prototype._digest=function(e){return e==="hex"?Qi.toHex32(this.h,"little"):Qi.split32(this.h,"little")};function Dp(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function OS(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function IS(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var MS=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],RS=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],DS=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],LS=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],jS=we,BS=Na;function Vo(t,e,r){if(!(this instanceof Vo))return new Vo(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(jS.toArray(e,r))}var FS=Vo;Vo.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),BS(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Vo.prototype.update=function(e,r){return this.inner.update(e,r),this};Vo.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=we,e.common=rs,e.sha=ns,e.ripemd=iy,e.hmac=FS,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(z1);const Xr=Jo(z1);function os(t,e,r){return r={path:e,exports:{},require:function(n,i){return US(n,i??r.path)}},t(r,r.exports),r.exports}function US(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Rd=sy;function sy(t,e){if(!t)throw new Error(e||"Assertion failed")}sy.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Wr=os(function(t,e){var r=e;function n(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var l=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)l[u]=s[u]|0;return l}if(a==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)l.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var c=s.charCodeAt(u),h=c>>8,p=c&255;h?l.push(h,p):l.push(p)}return l}r.toArray=n;function i(s){return s.length===1?"0"+s:s}r.zero2=i;function o(s){for(var a="",l=0;l<s.length;l++)a+=i(s[l].toString(16));return a}r.toHex=o,r.encode=function(a,l){return l==="hex"?o(a):a}}),mr=os(function(t,e){var r=e;r.assert=Rd,r.toArray=Wr.toArray,r.zero2=Wr.zero2,r.toHex=Wr.toHex,r.encode=Wr.encode;function n(l,u,c){var h=new Array(Math.max(l.bitLength(),c)+1);h.fill(0);for(var p=1<<u+1,g=l.clone(),v=0;v<h.length;v++){var E,C=g.andln(p-1);g.isOdd()?(C>(p>>1)-1?E=(p>>1)-C:E=C,g.isubn(E)):E=0,h[v]=E,g.iushrn(1)}return h}r.getNAF=n;function i(l,u){var c=[[],[]];l=l.clone(),u=u.clone();for(var h=0,p=0,g;l.cmpn(-h)>0||u.cmpn(-p)>0;){var v=l.andln(3)+h&3,E=u.andln(3)+p&3;v===3&&(v=-1),E===3&&(E=-1);var C;v&1?(g=l.andln(7)+h&7,(g===3||g===5)&&E===2?C=-v:C=v):C=0,c[0].push(C);var w;E&1?(g=u.andln(7)+p&7,(g===3||g===5)&&v===2?w=-E:w=E):w=0,c[1].push(w),2*h===C+1&&(h=1-h),2*p===w+1&&(p=1-p),l.iushrn(1),u.iushrn(1)}return c}r.getJSF=i;function o(l,u,c){var h="_"+u;l.prototype[u]=function(){return this[h]!==void 0?this[h]:this[h]=c.call(this)}}r.cachedProperty=o;function s(l){return typeof l=="string"?r.toArray(l,"hex"):l}r.parseBytes=s;function a(l){return new ce(l,"hex","le")}r.intFromLE=a}),lu=mr.getNAF,zS=mr.getJSF,uu=mr.assert;function Pi(t,e){this.type=t,this.p=new ce(e.p,16),this.red=e.prime?ce.red(e.prime):ce.mont(this.p),this.zero=new ce(0).toRed(this.red),this.one=new ce(1).toRed(this.red),this.two=new ce(2).toRed(this.red),this.n=e.n&&new ce(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ro=Pi;Pi.prototype.point=function(){throw new Error("Not implemented")};Pi.prototype.validate=function(){throw new Error("Not implemented")};Pi.prototype._fixedNafMul=function(e,r){uu(e.precomputed);var n=e._getDoubles(),i=lu(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var s=[],a,l;for(a=0;a<i.length;a+=n.step){l=0;for(var u=a+n.step-1;u>=a;u--)l=(l<<1)+i[u];s.push(l)}for(var c=this.jpoint(null,null,null),h=this.jpoint(null,null,null),p=o;p>0;p--){for(a=0;a<s.length;a++)l=s[a],l===p?h=h.mixedAdd(n.points[a]):l===-p&&(h=h.mixedAdd(n.points[a].neg()));c=c.add(h)}return c.toP()};Pi.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,s=lu(r,n,this._bitLength),a=this.jpoint(null,null,null),l=s.length-1;l>=0;l--){for(var u=0;l>=0&&s[l]===0;l--)u++;if(l>=0&&u++,a=a.dblp(u),l<0)break;var c=s[l];uu(c!==0),e.type==="affine"?c>0?a=a.mixedAdd(o[c-1>>1]):a=a.mixedAdd(o[-c-1>>1].neg()):c>0?a=a.add(o[c-1>>1]):a=a.add(o[-c-1>>1].neg())}return e.type==="affine"?a.toP():a};Pi.prototype._wnafMulAdd=function(e,r,n,i,o){var s=this._wnafT1,a=this._wnafT2,l=this._wnafT3,u=0,c,h,p;for(c=0;c<i;c++){p=r[c];var g=p._getNAFPoints(e);s[c]=g.wnd,a[c]=g.points}for(c=i-1;c>=1;c-=2){var v=c-1,E=c;if(s[v]!==1||s[E]!==1){l[v]=lu(n[v],s[v],this._bitLength),l[E]=lu(n[E],s[E],this._bitLength),u=Math.max(l[v].length,u),u=Math.max(l[E].length,u);continue}var C=[r[v],null,null,r[E]];r[v].y.cmp(r[E].y)===0?(C[1]=r[v].add(r[E]),C[2]=r[v].toJ().mixedAdd(r[E].neg())):r[v].y.cmp(r[E].y.redNeg())===0?(C[1]=r[v].toJ().mixedAdd(r[E]),C[2]=r[v].add(r[E].neg())):(C[1]=r[v].toJ().mixedAdd(r[E]),C[2]=r[v].toJ().mixedAdd(r[E].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],b=zS(n[v],n[E]);for(u=Math.max(b[0].length,u),l[v]=new Array(u),l[E]=new Array(u),h=0;h<u;h++){var x=b[0][h]|0,R=b[1][h]|0;l[v][h]=w[(x+1)*3+(R+1)],l[E][h]=0,a[v]=C}}var D=this.jpoint(null,null,null),j=this._wnafT4;for(c=u;c>=0;c--){for(var H=0;c>=0;){var $=!0;for(h=0;h<i;h++)j[h]=l[h][c]|0,j[h]!==0&&($=!1);if(!$)break;H++,c--}if(c>=0&&H++,D=D.dblp(H),c<0)break;for(h=0;h<i;h++){var Y=j[h];Y!==0&&(Y>0?p=a[h][Y-1>>1]:Y<0&&(p=a[h][-Y-1>>1].neg()),p.type==="affine"?D=D.mixedAdd(p):D=D.add(p))}}for(c=0;c<i;c++)a[c]=null;return o?D:D.toP()};function Ir(t,e){this.curve=t,this.type=e,this.precomputed=null}Pi.BasePoint=Ir;Ir.prototype.eq=function(){throw new Error("Not implemented")};Ir.prototype.validate=function(){return this.curve.validate(this)};Pi.prototype.decodePoint=function(e,r){e=mr.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?uu(e[e.length-1]%2===0):e[0]===7&&uu(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ir.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ir.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ir.prototype.encode=function(e,r){return mr.encode(this._encode(r),e)};Ir.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Ir.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Ir.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=e){for(var s=0;s<e;s++)i=i.dbl();n.push(i)}return{step:e,points:n}};Ir.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:e,points:r}};Ir.prototype._getBeta=function(){return null};Ir.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var Dd=os(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),HS=mr.assert;function Mr(t){ro.call(this,"short",t),this.a=new ce(t.a,16).toRed(this.red),this.b=new ce(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Dd(Mr,ro);var qS=Mr;Mr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new ce(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new ce(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],HS(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new ce(a.a,16),b:new ce(a.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};Mr.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:ce.mont(e),n=new ce(2).toRed(r).redInvm(),i=n.redNeg(),o=new ce(3).toRed(r).redNeg().redSqrt().redMul(n),s=i.redAdd(o).fromRed(),a=i.redSub(o).fromRed();return[s,a]};Mr.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new ce(1),s=new ce(0),a=new ce(0),l=new ce(1),u,c,h,p,g,v,E,C=0,w,b;n.cmpn(0)!==0;){var x=i.div(n);w=i.sub(x.mul(n)),b=a.sub(x.mul(o));var R=l.sub(x.mul(s));if(!h&&w.cmp(r)<0)u=E.neg(),c=o,h=w.neg(),p=b;else if(h&&++C===2)break;E=w,i=n,n=w,a=o,o=b,l=s,s=R}g=w.neg(),v=b;var D=h.sqr().add(p.sqr()),j=g.sqr().add(v.sqr());return j.cmp(D)>=0&&(g=u,v=c),h.negative&&(h=h.neg(),p=p.neg()),g.negative&&(g=g.neg(),v=v.neg()),[{a:h,b:p},{a:g,b:v}]};Mr.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),a=o.mul(n.a),l=s.mul(i.a),u=o.mul(n.b),c=s.mul(i.b),h=e.sub(a).sub(l),p=u.add(c).neg();return{k1:h,k2:p}};Mr.prototype.pointFromX=function(e,r){e=new ce(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)};Mr.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};Mr.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(r[s]),l=e[s],u=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),i[s*2]=l,i[s*2+1]=u,o[s*2]=a.k1,o[s*2+1]=a.k2}for(var c=this._wnafMulAdd(1,i,o,s*2,n),h=0;h<s*2;h++)i[h]=null,o[h]=null;return c};function Tt(t,e,r,n){ro.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ce(e,16),this.y=new ce(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Dd(Tt,ro.BasePoint);Mr.prototype.point=function(e,r,n){return new Tt(this,e,r,n)};Mr.prototype.pointFromJSON=function(e,r){return Tt.fromJSON(this,e,r)};Tt.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Tt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Tt.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function o(a){return e.point(a[0],a[1],n)}var s=r[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(o))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(o))}},i};Tt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Tt.prototype.isInfinity=function(){return this.inf};Tt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Tt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),s=o.redSqr().redISub(this.x.redAdd(this.x)),a=o.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};Tt.prototype.getX=function(){return this.x.fromRed()};Tt.prototype.getY=function(){return this.y.fromRed()};Tt.prototype.mul=function(e){return e=new ce(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Tt.prototype.mulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};Tt.prototype.jmulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};Tt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Tt.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Tt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Dt(t,e,r,n){ro.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ce(0)):(this.x=new ce(e,16),this.y=new ce(r,16),this.z=new ce(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Dd(Dt,ro.BasePoint);Mr.prototype.jpoint=function(e,r,n){return new Dt(this,e,r,n)};Dt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Dt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Dt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),l=i.redSub(o),u=s.redSub(a);if(l.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=l.redSqr(),h=c.redMul(l),p=i.redMul(c),g=u.redSqr().redIAdd(h).redISub(p).redISub(p),v=u.redMul(p.redISub(g)).redISub(s.redMul(h)),E=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(g,v,E)};Dt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),o=this.y,s=e.y.redMul(r).redMul(this.z),a=n.redSub(i),l=o.redSub(s);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),p=l.redSqr().redIAdd(c).redISub(h).redISub(h),g=l.redMul(h.redISub(p)).redISub(o.redMul(c)),v=this.z.redMul(a);return this.curve.jpoint(p,g,v)};Dt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,s=this.x,a=this.y,l=this.z,u=l.redSqr().redSqr(),c=a.redAdd(a);for(r=0;r<e;r++){var h=s.redSqr(),p=c.redSqr(),g=p.redSqr(),v=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(u)),E=s.redMul(p),C=v.redSqr().redISub(E.redAdd(E)),w=E.redISub(C),b=v.redMul(w);b=b.redIAdd(b).redISub(g);var x=c.redMul(l);r+1<e&&(u=u.redMul(g)),s=C,l=x,c=b}return this.curve.jpoint(s,c.redMul(o),l)};Dt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Dt.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i),u=l.redSqr().redISub(a).redISub(a),c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),e=u,r=l.redMul(a.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),p=this.y.redSqr(),g=p.redSqr(),v=this.x.redAdd(p).redSqr().redISub(h).redISub(g);v=v.redIAdd(v);var E=h.redAdd(h).redIAdd(h),C=E.redSqr(),w=g.redIAdd(g);w=w.redIAdd(w),w=w.redIAdd(w),e=C.redISub(v).redISub(v),r=E.redMul(v.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Dt.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),s=o.redSqr(),a=this.x.redAdd(o).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=l.redSqr().redISub(a).redISub(a);e=u;var c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),r=l.redMul(a.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),p=this.y.redSqr(),g=this.x.redMul(p),v=this.x.redSub(h).redMul(this.x.redAdd(h));v=v.redAdd(v).redIAdd(v);var E=g.redIAdd(g);E=E.redIAdd(E);var C=E.redAdd(E);e=v.redSqr().redISub(C),n=this.y.redAdd(this.z).redSqr().redISub(p).redISub(h);var w=p.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=v.redMul(E.redISub(e)).redISub(w)}return this.curve.jpoint(e,r,n)};Dt.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),s=r.redSqr(),a=n.redSqr(),l=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(o)),u=r.redAdd(r);u=u.redIAdd(u);var c=u.redMul(a),h=l.redSqr().redISub(c.redAdd(c)),p=c.redISub(h),g=a.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var v=l.redMul(p).redISub(g),E=n.redAdd(n).redMul(i);return this.curve.jpoint(h,v,E)};Dt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=e.redAdd(e).redIAdd(e),s=o.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var l=a.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=o.redIAdd(a).redSqr().redISub(s).redISub(l).redISub(u),h=r.redMul(c);h=h.redIAdd(h),h=h.redIAdd(h);var p=this.x.redMul(l).redISub(h);p=p.redIAdd(p),p=p.redIAdd(p);var g=this.y.redMul(c.redMul(u.redISub(c)).redISub(a.redMul(l)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var v=this.z.redAdd(a).redSqr().redISub(n).redISub(l);return this.curve.jpoint(p,g,v)};Dt.prototype.mul=function(e,r){return e=new ce(e,r),this.curve._wnafMul(this,e)};Dt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};Dt.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Dt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Dt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Al=os(function(t,e){var r=e;r.base=ro,r.short=qS,r.mont=null,r.edwards=null}),kl=os(function(t,e){var r=e,n=mr.assert;function i(a){a.type==="short"?this.curve=new Al.short(a):a.type==="edwards"?this.curve=new Al.edwards(a):this.curve=new Al.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function o(a,l){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var u=new i(l);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:u}),u}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Xr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Xr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Xr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Xr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Xr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Xr.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Xr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Xr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function Ai(t){if(!(this instanceof Ai))return new Ai(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Wr.toArray(t.entropy,t.entropyEnc||"hex"),r=Wr.toArray(t.nonce,t.nonceEnc||"hex"),n=Wr.toArray(t.pers,t.persEnc||"hex");Rd(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var ay=Ai;Ai.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Ai.prototype._hmac=function(){return new Xr.hmac(this.hash,this.K)};Ai.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Ai.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Wr.toArray(e,r),n=Wr.toArray(n,i),Rd(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Ai.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Wr.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(n),this._reseed++,Wr.encode(s,r)};var wh=mr.assert;function zt(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Ld=zt;zt.fromPublic=function(e,r,n){return r instanceof zt?r:new zt(e,{pub:r,pubEnc:n})};zt.fromPrivate=function(e,r,n){return r instanceof zt?r:new zt(e,{priv:r,privEnc:n})};zt.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};zt.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};zt.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};zt.prototype._importPrivate=function(e,r){this.priv=new ce(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};zt.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?wh(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&wh(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};zt.prototype.derive=function(e){return e.validate()||wh(e.validate(),"public point not validated"),e.mul(this.priv).getX()};zt.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};zt.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};zt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var $S=mr.assert;function Uu(t,e){if(t instanceof Uu)return t;this._importDER(t,e)||($S(t.r&&t.s,"Signature without r or s"),this.r=new ce(t.r,16),this.s=new ce(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var zu=Uu;function WS(){this.place=0}function Vc(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return i<=127?!1:(e.place=s,i)}function Lp(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Uu.prototype._importDER=function(e,r){e=mr.toArray(e,r);var n=new WS;if(e[n.place++]!==48)return!1;var i=Vc(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=Vc(e,n);if(o===!1)return!1;var s=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var a=Vc(e,n);if(a===!1||e.length!==a+n.place)return!1;var l=e.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new ce(s),this.s=new ce(l),this.recoveryParam=null,!0};function Qc(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Uu.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Lp(r),n=Lp(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Qc(i,r.length),i=i.concat(r),i.push(2),Qc(i,n.length);var o=i.concat(n),s=[48];return Qc(s,o.length),s=s.concat(o),mr.encode(s,e)};var GS=function(){throw new Error("unsupported")},ly=mr.assert;function Or(t){if(!(this instanceof Or))return new Or(t);typeof t=="string"&&(ly(Object.prototype.hasOwnProperty.call(kl,t),"Unknown curve "+t),t=kl[t]),t instanceof kl.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var KS=Or;Or.prototype.keyPair=function(e){return new Ld(this,e)};Or.prototype.keyFromPrivate=function(e,r){return Ld.fromPrivate(this,e,r)};Or.prototype.keyFromPublic=function(e,r){return Ld.fromPublic(this,e,r)};Or.prototype.genKeyPair=function(e){e||(e={});for(var r=new ay({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||GS(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new ce(2));;){var o=new ce(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};Or.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Or.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new ce(e,16));for(var o=this.n.byteLength(),s=r.getPrivate().toArray("be",o),a=e.toArray("be",o),l=new ay({hash:this.hash,entropy:s,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new ce(1)),c=0;;c++){var h=i.k?i.k(c):new ce(l.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(u)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var g=p.getX(),v=g.umod(this.n);if(v.cmpn(0)!==0){var E=h.invm(this.n).mul(v.mul(r.getPrivate()).iadd(e));if(E=E.umod(this.n),E.cmpn(0)!==0){var C=(p.getY().isOdd()?1:0)|(g.cmp(v)!==0?2:0);return i.canonical&&E.cmp(this.nh)>0&&(E=this.n.sub(E),C^=1),new zu({r:v,s:E,recoveryParam:C})}}}}}};Or.prototype.verify=function(e,r,n,i){e=this._truncateToN(new ce(e,16)),n=this.keyFromPublic(n,i),r=new zu(r,"hex");var o=r.r,s=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),l=a.mul(e).umod(this.n),u=a.mul(o).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(l,n.getPublic(),u),c.isInfinity()?!1:c.eqXToP(o)):(c=this.g.mulAdd(l,n.getPublic(),u),c.isInfinity()?!1:c.getX().umod(this.n).cmp(o)===0)};Or.prototype.recoverPubKey=function(t,e,r,n){ly((3&r)===r,"The recovery param is more than two bits"),e=new zu(e,n);var i=this.n,o=new ce(t),s=e.r,a=e.s,l=r&1,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?s=this.curve.pointFromX(s.add(this.curve.n),l):s=this.curve.pointFromX(s,l);var c=e.r.invm(i),h=i.sub(o).mul(c).umod(i),p=a.mul(c).umod(i);return this.g.mulAdd(h,s,p)};Or.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new zu(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var VS=os(function(t,e){var r=e;r.version="6.5.4",r.utils=mr,r.rand=function(){throw new Error("unsupported")},r.curve=Al,r.curves=kl,r.ec=KS,r.eddsa=null}),QS=VS.ec;const JS="signing-key/5.7.0",bh=new M(JS);let Jc=null;function tn(){return Jc||(Jc=new QS("secp256k1")),Jc}class YS{constructor(e){U(this,"curve","secp256k1"),U(this,"privateKey",re(e)),Fn(this.privateKey)!==32&&bh.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=tn().keyFromPrivate(ne(this.privateKey));U(this,"publicKey","0x"+r.getPublic(!1,"hex")),U(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),U(this,"_isSigningKey",!0)}_addPoint(e){const r=tn().keyFromPublic(ne(this.publicKey)),n=tn().keyFromPublic(ne(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=tn().keyFromPrivate(ne(this.privateKey)),n=ne(e);n.length!==32&&bh.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return gn({recoveryParam:i.recoveryParam,r:dt("0x"+i.r.toString(16),32),s:dt("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=tn().keyFromPrivate(ne(this.privateKey)),n=tn().keyFromPublic(ne(uy(e)));return dt("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function XS(t,e){const r=gn(e),n={r:ne(r.r),s:ne(r.s)};return"0x"+tn().recoverPubKey(ne(t),n,r.recoveryParam).encode("hex",!1)}function uy(t,e){const r=ne(t);if(r.length===32){const n=new YS(r);return e?"0x"+tn().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?re(r):"0x"+tn().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+tn().keyFromPublic(r).getPublic(!0,"hex"):re(r)}return bh.throwArgumentError("invalid public or private key","key","[REDACTED]")}const ZS="transactions/5.7.0",Wn=new M(ZS);var jp;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(jp||(jp={}));function jd(t){return t==="0x"?null:pt(t)}function Ut(t){return t==="0x"?A1:K.from(t)}function e3(t){const e=uy(t);return pt(It(bt(It(e,1)),12))}function cy(t,e){return e3(XS(ne(t),e))}function ur(t,e){const r=Wo(K.from(t).toHexString());return r.length>32&&Wn.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Yc(t,e){return{address:pt(t),storageKeys:(e||[]).map((r,n)=>(Fn(r)!==32&&Wn.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function no(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Wn.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),Yc(r[0],r[1])):Yc(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,o)=>(i[o]=!0,i),{});return Yc(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function fy(t){return no(t).map(e=>[e.address,e.storageKeys])}function t3(t,e){if(t.gasPrice!=null){const n=K.from(t.gasPrice),i=K.from(t.maxFeePerGas||0);n.eq(i)||Wn.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[ur(t.chainId||0,"chainId"),ur(t.nonce||0,"nonce"),ur(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ur(t.maxFeePerGas||0,"maxFeePerGas"),ur(t.gasLimit||0,"gasLimit"),t.to!=null?pt(t.to):"0x",ur(t.value||0,"value"),t.data||"0x",fy(t.accessList||[])];if(e){const n=gn(e);r.push(ur(n.recoveryParam,"recoveryParam")),r.push(Wo(n.r)),r.push(Wo(n.s))}return Yt(["0x02",ju(r)])}function r3(t,e){const r=[ur(t.chainId||0,"chainId"),ur(t.nonce||0,"nonce"),ur(t.gasPrice||0,"gasPrice"),ur(t.gasLimit||0,"gasLimit"),t.to!=null?pt(t.to):"0x",ur(t.value||0,"value"),t.data||"0x",fy(t.accessList||[])];if(e){const n=gn(e);r.push(ur(n.recoveryParam,"recoveryParam")),r.push(Wo(n.r)),r.push(Wo(n.s))}return Yt(["0x01",ju(r)])}function hy(t,e,r){try{const n=Ut(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Wn.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=dt(e[1],32),t.s=dt(e[2],32);try{const n=bt(r(t));t.from=cy(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function n3(t){const e=Td(t.slice(1));e.length!==9&&e.length!==12&&Wn.throwArgumentError("invalid component count for transaction type: 2","payload",re(t));const r=Ut(e[2]),n=Ut(e[3]),i={type:2,chainId:Ut(e[0]).toNumber(),nonce:Ut(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Ut(e[4]),to:jd(e[5]),value:Ut(e[6]),data:e[7],accessList:no(e[8])};return e.length===9||(i.hash=bt(t),hy(i,e.slice(9),t3)),i}function i3(t){const e=Td(t.slice(1));e.length!==8&&e.length!==11&&Wn.throwArgumentError("invalid component count for transaction type: 1","payload",re(t));const r={type:1,chainId:Ut(e[0]).toNumber(),nonce:Ut(e[1]).toNumber(),gasPrice:Ut(e[2]),gasLimit:Ut(e[3]),to:jd(e[4]),value:Ut(e[5]),data:e[6],accessList:no(e[7])};return e.length===8||(r.hash=bt(t),hy(r,e.slice(8),r3)),r}function o3(t){const e=Td(t);e.length!==9&&e.length!==6&&Wn.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Ut(e[0]).toNumber(),gasPrice:Ut(e[1]),gasLimit:Ut(e[2]),to:jd(e[3]),value:Ut(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=K.from(e[6]).toNumber()}catch{return r}if(r.r=dt(e[7],32),r.s=dt(e[8],32),K.from(r.r).isZero()&&K.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(re(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const o=bt(ju(i));try{r.from=cy(o,{r:re(r.r),s:re(r.s),recoveryParam:n})}catch{}r.hash=bt(t)}return r.type=null,r}function s3(t){const e=ne(t);if(e[0]>127)return o3(e);switch(e[0]){case 1:return i3(e);case 2:return n3(e)}return Wn.throwError(`unsupported transaction type: ${e[0]}`,M.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const a3="contracts/5.7.0";var Ji=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const gt=new M(a3);function cu(t,e){return Ji(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&gt.throwArgumentError("invalid address or ENS name","name",r);try{return pt(r)}catch{}t||gt.throwError("a provider or signer is needed to resolve ENS names",M.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&gt.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function Cl(t,e,r){return Ji(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>Cl(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield cu(t,e):r.type==="tuple"?yield Cl(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>Cl(t,n,r.arrayChildren))):Promise.reject(gt.makeError("invalid value for array",M.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Hu(t,e,r){return Ji(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=ot(r.pop())),gt.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=vt({override:cu(t.signer,n.from),signer:t.signer.getAddress()}).then(u=>Ji(this,void 0,void 0,function*(){return pt(u.signer)!==u.override&&gt.throwError("Contract with a Signer cannot override from",M.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),u.override})):n.from=t.signer.getAddress():n.from&&(n.from=cu(t.provider,n.from));const i=yield vt({args:Cl(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:vt(n)||{}}),o=t.interface.encodeFunctionData(e,i.args),s={data:o,to:i.address},a=i.overrides;if(a.nonce!=null&&(s.nonce=K.from(a.nonce).toNumber()),a.gasLimit!=null&&(s.gasLimit=K.from(a.gasLimit)),a.gasPrice!=null&&(s.gasPrice=K.from(a.gasPrice)),a.maxFeePerGas!=null&&(s.maxFeePerGas=K.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(s.maxPriorityFeePerGas=K.from(a.maxPriorityFeePerGas)),a.from!=null&&(s.from=a.from),a.type!=null&&(s.type=a.type),a.accessList!=null&&(s.accessList=no(a.accessList)),s.gasLimit==null&&e.gas!=null){let u=21e3;const c=ne(o);for(let h=0;h<c.length;h++)u+=4,c[h]&&(u+=64);s.gasLimit=K.from(e.gas).add(u)}if(a.value){const u=K.from(a.value);!u.isZero()&&!e.payable&&gt.throwError("non-payable method cannot override value",M.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=u}a.customData&&(s.customData=ot(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const l=Object.keys(n).filter(u=>n[u]!=null);return l.length&&gt.throwError(`cannot override ${l.map(u=>JSON.stringify(u)).join(",")}`,M.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),s})}function l3(t,e){return function(...r){return Hu(t,e,r)}}function u3(t,e){const r=t.signer||t.provider;return function(...n){return Ji(this,void 0,void 0,function*(){r||gt.throwError("estimate require a provider or signer",M.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Hu(t,e,n);return yield r.estimateGas(i)})}}function c3(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(o=>{let s=nr(o),a=null;try{a=t.interface.parseLog(o)}catch{}return a&&(s.args=a.args,s.decode=(l,u)=>t.interface.decodeEventLog(a.eventFragment,l,u),s.event=a.name,s.eventSignature=a.signature),s.removeListener=()=>t.provider,s.getBlock=()=>t.provider.getBlock(i.blockHash),s.getTransaction=()=>t.provider.getTransaction(i.transactionHash),s.getTransactionReceipt=()=>Promise.resolve(i),s}),i))}function dy(t,e,r){const n=t.signer||t.provider;return function(...i){return Ji(this,void 0,void 0,function*(){let o;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const l=ot(i.pop());l.blockTag!=null&&(o=yield l.blockTag),delete l.blockTag,i.push(l)}t.deployTransaction!=null&&(yield t._deployed(o));const s=yield Hu(t,e,i),a=yield n.call(s,o);try{let l=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===M.errors.CALL_EXCEPTION&&(l.address=t.address,l.args=i,l.transaction=s),l}})}}function f3(t,e){return function(...r){return Ji(this,void 0,void 0,function*(){t.signer||gt.throwError("sending a transaction requires a signer",M.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield Hu(t,e,r),i=yield t.signer.sendTransaction(n);return c3(t,i),i})}}function Bp(t,e,r){return e.constant?dy(t,e,r):f3(t,e)}function py(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class ha{constructor(e,r){U(this,"tag",e),U(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class h3 extends ha{constructor(){super("error",null)}}class Fp extends ha{constructor(e,r,n,i){const o={address:e};let s=r.getEventTopic(n);i?(s!==i[0]&&gt.throwArgumentError("topic mismatch","topics",i),o.topics=i.slice()):o.topics=[s],super(py(o),o),U(this,"address",e),U(this,"interface",r),U(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=$E(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Up extends ha{constructor(e,r){super("*",{address:e}),U(this,"address",e),U(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class d3{constructor(e,r,n){U(this,"interface",fr(new.target,"getInterface")(r)),n==null?(U(this,"provider",null),U(this,"signer",null)):Ca.isSigner(n)?(U(this,"provider",n.provider||null),U(this,"signer",n)):ts.isProvider(n)?(U(this,"provider",n),U(this,"signer",null)):gt.throwArgumentError("invalid signer or provider","signerOrProvider",n),U(this,"callStatic",{}),U(this,"estimateGas",{}),U(this,"functions",{}),U(this,"populateTransaction",{}),U(this,"filters",{});{const s={};Object.keys(this.interface.events).forEach(a=>{const l=this.interface.events[a];U(this.filters,a,(...u)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,u)})),s[l.name]||(s[l.name]=[]),s[l.name].push(a)}),Object.keys(s).forEach(a=>{const l=s[a];l.length===1?U(this.filters,a,this.filters[l[0]]):gt.warn(`Duplicate definition of ${a} (${l.join(", ")})`)})}if(U(this,"_runningEvents",{}),U(this,"_wrappedEmits",{}),e==null&&gt.throwArgumentError("invalid contract address or ENS name","addressOrName",e),U(this,"address",e),this.provider)U(this,"resolvedAddress",cu(this.provider,e));else try{U(this,"resolvedAddress",Promise.resolve(pt(e)))}catch{gt.throwError("provider is required to use ENS name as contract address",M.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(s=>{});const i={},o={};Object.keys(this.interface.functions).forEach(s=>{const a=this.interface.functions[s];if(o[s]){gt.warn(`Duplicate ABI entry for ${JSON.stringify(s)}`);return}o[s]=!0;{const l=a.name;i[`%${l}`]||(i[`%${l}`]=[]),i[`%${l}`].push(s)}this[s]==null&&U(this,s,Bp(this,a,!0)),this.functions[s]==null&&U(this.functions,s,Bp(this,a,!1)),this.callStatic[s]==null&&U(this.callStatic,s,dy(this,a,!0)),this.populateTransaction[s]==null&&U(this.populateTransaction,s,l3(this,a)),this.estimateGas[s]==null&&U(this.estimateGas,s,u3(this,a))}),Object.keys(i).forEach(s=>{const a=i[s];if(a.length>1)return;s=s.substring(1);const l=a[0];try{this[s]==null&&U(this,s,this[l])}catch{}this.functions[s]==null&&U(this.functions,s,this.functions[l]),this.callStatic[s]==null&&U(this.callStatic,s,this.callStatic[l]),this.populateTransaction[s]==null&&U(this.populateTransaction,s,this.populateTransaction[l]),this.estimateGas[s]==null&&U(this.estimateGas,s,this.estimateGas[l])})}static getContractAddress(e){return Id(e)}static getInterface(e){return Op.isInterface(e)?e:new Op(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&gt.throwError("contract not deployed",M.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||gt.throwError("sending a transactions require a signer",M.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=ot(e||{});return["from","to"].forEach(function(n){r[n]!=null&&gt.throwError("cannot override "+n,M.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new Md(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&U(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return gh.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new h3);if(e==="event")return this._normalizeRunningEvent(new ha("event",null));if(e==="*")return this._normalizeRunningEvent(new Up(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Fp(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Fp(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new ha(py(r),r))}return this._normalizeRunningEvent(new Up(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=nr(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||gt.throwError("events require a provider or a signer with a provider",M.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=o=>{let s=this._wrapEvent(e,o,r);if(s.decodeError==null)try{const a=e.getEmit(s);this.emit(e.filter,...a)}catch(a){s.decodeError=a.error}e.filter!=null&&this.emit("event",s),s.decodeError!=null&&this.emit("error",s.decodeError,s)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),o=ot(i.filter);return typeof r=="string"&&ge(r,32)?(n!=null&&gt.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),o.blockHash=r):(o.fromBlock=r??0,o.toBlock=n??"latest"),this.provider.getLogs(o).then(s=>s.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class gy extends d3{}class my{constructor(e){U(this,"alphabet",e),U(this,"base",e.length),U(this,"_alphabetMap",{}),U(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=ne(e);if(r.length===0)return"";let n=[0];for(let o=0;o<r.length;++o){let s=r[o];for(let a=0;a<n.length;++a)s+=n[a]<<8,n[a]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let i="";for(let o=0;r[o]===0&&o<r.length-1;++o)i+=this._leader;for(let o=n.length-1;o>=0;--o)i+=this.alphabet[n[o]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let o=i;for(let s=0;s<r.length;++s)o+=r[s]*this.base,r[s]=o&255,o>>=8;for(;o>0;)r.push(o&255),o>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return ne(new Uint8Array(r.reverse()))}}new my("abcdefghijklmnopqrstuvwxyz234567");const Eh=new my("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function zp(t){return"0x"+Xr.sha256().update(ne(t)).digest("hex")}function p3(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}const g3="networks/5.7.1",Hp=new M(g3);function m3(t){return t&&typeof t.renetwork=="function"}function Nn(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const o=["goerli","ropsten","rinkeby","sepolia"];try{const s=new r.PocketProvider(t,n.pocket);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const o=["ropsten"],s=new r.AnkrProvider(t,n.ankr);s.network&&o.indexOf(s.network.name)===-1&&i.push(s)}catch{}if(i.length===0)return null;if(r.FallbackProvider){let o=1;return n.quorum!=null?o=n.quorum:t==="homestead"&&(o=2),new r.FallbackProvider(i,o)}return i[0]};return e.renetwork=function(r){return Nn(r)},e}function fu(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return fu(t,n)},r}const qp={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Nn("homestead")},$p={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Nn("ropsten")},Wp={chainId:63,name:"classicMordor",_defaultProvider:fu("https://www.ethercluster.com/mordor","classicMordor")},Za={unspecified:{chainId:0,name:"unspecified"},homestead:qp,mainnet:qp,morden:{chainId:2,name:"morden"},ropsten:$p,testnet:$p,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Nn("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Nn("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Nn("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Nn("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:fu("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Wp,classicTestnet:Wp,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:fu("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Nn("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Nn("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Bd(t){if(t==null)return null;if(typeof t=="number"){for(const n in Za){const i=Za[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Za[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Za[t.name];if(!e)return typeof t.chainId!="number"&&Hp.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&Hp.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(m3(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const v3="web/5.7.1";var y3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};function w3(t,e){return y3(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const s=e.fetchOptions;s.mode&&(r.mode=s.mode),s.cache&&(r.cache=s.cache),s.credentials&&(r.credentials=s.credentials),s.redirect&&(r.redirect=s.redirect),s.referrer&&(r.referrer=s.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach((s,a)=>{o[a.toLowerCase()]=s}):n.headers.keys().forEach(s=>{o[s.toLowerCase()]=n.headers.get(s)}),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:ne(new Uint8Array(i))}})}var b3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Ur=new M(v3);function Gp(t){return new Promise(e=>{setTimeout(e,t)})}function ti(t,e){if(t==null)return null;if(typeof t=="string")return t;if(Nd(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return ka(t)}catch{}return re(t)}return t}function E3(t){return fn(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function x3(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Ur.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,o=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Ur.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s=typeof t=="object"?!!t.errorPassThrough:!1,a={};let l=null;const u={method:"GET"};let c=!1,h=2*60*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Ur.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(h=t.timeout),t.headers)for(const w in t.headers)a[w.toLowerCase()]={key:w,value:String(t.headers[w])},["if-none-match","if-modified-since"].indexOf(w.toLowerCase())>=0&&(c=!0);if(u.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Ur.throwError("basic authentication requires a secure https url",M.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const w=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+O1(fn(w))}}t.skipFetchSetup!=null&&(u.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(u.fetchOptions=ot(t.fetchOptions))}const p=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),g=l?l.match(p):null;if(g)try{const w={statusCode:200,statusMessage:"OK",headers:{"content-type":g[1]||"text/plain"},body:g[2]?T1(g[3]):E3(g[3])};let b=w.body;return r&&(b=r(w.body,w)),Promise.resolve(b)}catch(w){Ur.throwError("processing response error",M.errors.SERVER_ERROR,{body:ti(g[1],g[2]),error:w,requestBody:null,requestMethod:"GET",url:l})}e&&(u.method="POST",u.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const v={};Object.keys(a).forEach(w=>{const b=a[w];v[b.key]=b.value}),u.headers=v;const E=function(){let w=null;return{promise:new Promise(function(R,D){h&&(w=setTimeout(()=>{w!=null&&(w=null,D(Ur.makeError("timeout",M.errors.TIMEOUT,{requestBody:ti(u.body,v["content-type"]),requestMethod:u.method,timeout:h,url:l})))},h))}),cancel:function(){w!=null&&(clearTimeout(w),w=null)}}}(),C=function(){return b3(this,void 0,void 0,function*(){for(let w=0;w<n;w++){let b=null;try{if(b=yield w3(l,u),w<n){if(b.statusCode===301||b.statusCode===302){const R=b.headers.location||"";if(u.method==="GET"&&R.match(/^https:/)){l=b.headers.location;continue}}else if(b.statusCode===429){let R=!0;if(i&&(R=yield i(w,l)),R){let D=0;const j=b.headers["retry-after"];typeof j=="string"&&j.match(/^[1-9][0-9]*$/)?D=parseInt(j)*1e3:D=o*parseInt(String(Math.random()*Math.pow(2,w))),yield Gp(D);continue}}}}catch(R){b=R.response,b==null&&(E.cancel(),Ur.throwError("missing response",M.errors.SERVER_ERROR,{requestBody:ti(u.body,v["content-type"]),requestMethod:u.method,serverError:R,url:l}))}let x=b.body;if(c&&b.statusCode===304?x=null:!s&&(b.statusCode<200||b.statusCode>=300)&&(E.cancel(),Ur.throwError("bad response",M.errors.SERVER_ERROR,{status:b.statusCode,headers:b.headers,body:ti(x,b.headers?b.headers["content-type"]:null),requestBody:ti(u.body,v["content-type"]),requestMethod:u.method,url:l})),r)try{const R=yield r(x,b);return E.cancel(),R}catch(R){if(R.throttleRetry&&w<n){let D=!0;if(i&&(D=yield i(w,l)),D){const j=o*parseInt(String(Math.random()*Math.pow(2,w)));yield Gp(j);continue}}E.cancel(),Ur.throwError("processing response error",M.errors.SERVER_ERROR,{body:ti(x,b.headers?b.headers["content-type"]:null),error:R,requestBody:ti(u.body,v["content-type"]),requestMethod:u.method,url:l})}return E.cancel(),x}return Ur.throwError("failed response",M.errors.SERVER_ERROR,{requestBody:ti(u.body,v["content-type"]),requestMethod:u.method,url:l})})}();return Promise.race([E.promise,C])}function Pa(t,e,r){let n=(o,s)=>{let a=null;if(o!=null)try{a=JSON.parse(ka(o))}catch(l){Ur.throwError("invalid JSON",M.errors.SERVER_ERROR,{body:o,error:l})}return r&&(a=r(a,s)),a},i=null;if(e!=null){i=fn(e);const o=typeof t=="string"?{url:t}:ot(t);o.headers?Object.keys(o.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(o.headers=ot(o.headers),o.headers["content-type"]="application/json"):o.headers={"content-type":"application/json"},t=o}return x3(t,i,n)}function Ao(t,e){return e||(e={}),e=ot(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,o=!1;const s=()=>o?!1:(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{s()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function u(){return t().then(function(c){if(c!==void 0)s()&&r(c);else if(e.oncePoll)e.oncePoll.once("poll",u);else if(e.onceBlock)e.onceBlock.once("block",u);else if(!o){if(l++,l>a){s()&&n(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(u,h)}return null},function(c){s()&&n(c)})}u()})}var hu="qpzry9x8gf2tvdw0s3jn54khce6mua7l",xh={};for(var el=0;el<hu.length;el++){var Xc=hu.charAt(el);if(xh[Xc]!==void 0)throw new TypeError(Xc+" is ambiguous");xh[Xc]=el}function Do(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function vy(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Do(e)^n>>5}for(e=Do(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=Do(e)^i&31}return e}function _3(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=vy(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",o=0;o<e.length;++o){var s=e[o];if(s>>5)throw new Error("Non 5-bit word");n=Do(n)^s,i+=hu.charAt(s)}for(o=0;o<6;++o)n=Do(n);for(n^=1,o=0;o<6;++o){var a=n>>(5-o)*5&31;i+=hu.charAt(a)}return i}function yy(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var o=t.slice(0,i),s=t.slice(i+1);if(s.length<6)return"Data too short";var a=vy(o);if(typeof a=="string")return a;for(var l=[],u=0;u<s.length;++u){var c=s.charAt(u),h=xh[c];if(h===void 0)return"Unknown character "+c;a=Do(a)^h,!(u+6>=s.length)&&l.push(h)}return a!==1?"Invalid checksum for "+t:{prefix:o,words:l}}function S3(){var t=yy.apply(null,arguments);if(typeof t=="object")return t}function A3(t){var e=yy.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function qu(t,e,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],l=0;l<t.length;++l)for(i=i<<e|t[l],o+=e;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=e)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function k3(t){var e=qu(t,8,5,!0);if(Array.isArray(e))return e}function C3(t){var e=qu(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function N3(t){var e=qu(t,5,8,!1);if(Array.isArray(e))return e}function P3(t){var e=qu(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var T3={decodeUnsafe:S3,decode:A3,encode:_3,toWordsUnsafe:k3,toWords:C3,fromWordsUnsafe:N3,fromWords:P3};const Kp=Jo(T3),qt="providers/5.7.2",ms=new M(qt);class Z{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),o=this.data.bind(this),s=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),u=this.type.bind(this),c=h=>this.data(h,!0);return e.transaction={hash:s,type:u,accessList:Z.allowNull(this.accessList.bind(this),null),blockHash:Z.allowNull(s,null),blockNumber:Z.allowNull(l,null),transactionIndex:Z.allowNull(l,null),confirmations:Z.allowNull(l,null),from:r,gasPrice:Z.allowNull(n),maxPriorityFeePerGas:Z.allowNull(n),maxFeePerGas:Z.allowNull(n),gasLimit:n,to:Z.allowNull(r,null),value:n,nonce:l,data:o,r:Z.allowNull(this.uint256),s:Z.allowNull(this.uint256),v:Z.allowNull(l),creates:Z.allowNull(r,null),raw:Z.allowNull(o)},e.transactionRequest={from:Z.allowNull(r),nonce:Z.allowNull(l),gasLimit:Z.allowNull(n),gasPrice:Z.allowNull(n),maxPriorityFeePerGas:Z.allowNull(n),maxFeePerGas:Z.allowNull(n),to:Z.allowNull(r),value:Z.allowNull(n),data:Z.allowNull(c),type:Z.allowNull(l),accessList:Z.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:s,address:r,topics:Z.arrayOf(s),data:o,logIndex:l,blockHash:s},e.receipt={to:Z.allowNull(this.address,null),from:Z.allowNull(this.address,null),contractAddress:Z.allowNull(r,null),transactionIndex:l,root:Z.allowNull(a),gasUsed:n,logsBloom:Z.allowNull(o),blockHash:s,transactionHash:s,logs:Z.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:Z.allowNull(l,null),cumulativeGasUsed:n,effectiveGasPrice:Z.allowNull(n),status:Z.allowNull(l),type:u},e.block={hash:Z.allowNull(s),parentHash:s,number:l,timestamp:l,nonce:Z.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Z.allowNull(r),extraData:o,transactions:Z.allowNull(Z.arrayOf(s)),baseFeePerGas:Z.allowNull(n)},e.blockWithTransactions=ot(e.block),e.blockWithTransactions.transactions=Z.allowNull(Z.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Z.allowNull(i,void 0),toBlock:Z.allowNull(i,void 0),blockHash:Z.allowNull(s,void 0),address:Z.allowNull(r,void 0),topics:Z.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Z.allowNull(l),blockHash:Z.allowNull(s),transactionIndex:l,removed:Z.allowNull(this.boolean.bind(this)),address:r,data:Z.allowFalsish(o,"0x"),topics:Z.arrayOf(s),transactionHash:s,logIndex:l},e}accessList(e){return no(e||[])}number(e){return e==="0x"?0:K.from(e).toNumber()}type(e){return e==="0x"||e==null?0:K.from(e).toNumber()}bigNumber(e){return K.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),ge(e))?e.toLowerCase():ms.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return pt(e)}callAddress(e){if(!ge(e,32))return null;const r=pt(It(e,12));return r===lx?null:r}contractAddress(e){return Id(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||ge(e))return Lu(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Fn(n)!==32?ms.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=K.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!ge(e))throw new Error("invalid uint256");return dt(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Z.check(r,e);return i._difficulty=n==null?null:K.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Z.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&K.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=Z.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;ge(n)&&(n=K.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),ge(n)&&(n=K.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return s3(e)}receiptLog(e){return Z.check(this.formats.receiptLog,e)}receipt(e){const r=Z.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=K.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&ms.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):ms.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&ms.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return Z.check(this.formats.filter,e)}filterLog(e){return Z.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const o=e[i](r[i]);o!==void 0&&(n[i]=o)}catch(o){throw o.checkKey=i,o.checkValue=r[i],o}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}function wy(t){return t&&typeof t.isCommunityResource=="function"}function _h(t){return wy(t)&&t.isCommunityResource()}let Vp=!1;function Ta(){Vp||(Vp=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var le=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const pe=new M(qt),O3=10;function Qp(t){return t==null?"null":(Fn(t)!==32&&pe.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function Jp(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[Qp(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return Qp(e)}).join("&")}function I3(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function so(t){if(typeof t=="string"){if(t=t.toLowerCase(),Fn(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+Jp(t);if(u_.isForkEvent(t))throw pe.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+Jp(t.topics||[])}throw new Error("invalid event - "+t)}function vs(){return new Date().getTime()}function Yp(t){return new Promise(e=>{setTimeout(e,t)})}const M3=["block","network","pending","poll"];class R3{constructor(e,r,n){U(this,"tag",e),U(this,"listener",r),U(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=I3(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||M3.indexOf(this.tag)>=0}}const D3={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Zc(t){return dt(K.from(t).toHexString(),32)}function Xp(t){return Eh.encode(Zt([t,It(zp(zp(t)),0,4)]))}const by=new RegExp("^(ipfs)://(.*)$","i"),Zp=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),by,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Nl(t,e){try{return ka(da(t,e))}catch{}return null}function da(t,e){if(t==="0x")return null;const r=K.from(It(t,e,e+32)).toNumber(),n=K.from(It(t,r,r+32)).toNumber();return It(t,r+32,r+32+n)}function ef(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):pe.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function eg(t){const e=ne(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function L3(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function Ey(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=ne(t[n]);e[n]=eg(r),e.push(eg(i.length)),e.push(L3(i)),r+=32+Math.ceil(i.length/32)*32}return Yt(e)}class Sh{constructor(e,r,n,i){U(this,"provider",e),U(this,"name",n),U(this,"address",e.formatter.address(r)),U(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>K.from(e).eq(1)).catch(e=>{if(e.code===M.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return le(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Yt([e,Sl(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Yt(["0x9061b923",Ey([Vx(this.name),n.data])]));try{let o=yield this.provider.call(n);return ne(o).length%32===4&&pe.throwError("resolver threw error",M.errors.CALL_EXCEPTION,{transaction:n,data:o}),i&&(o=da(o,0)),o}catch(o){if(o.code===M.errors.CALL_EXCEPTION)return null;throw o}})}_fetchBytes(e,r){return le(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?da(n,0):null})}_getAddress(e,r){const n=D3[String(e)];if(n==null&&pe.throwError(`unsupported coin type: ${e}`,M.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=ne(r);if(n.p2pkh!=null){const o=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(o){const s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return Xp(Zt([[n.p2pkh],"0x"+o[2]]))}}if(n.p2sh!=null){const o=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(o){const s=parseInt(o[1],16);if(o[2].length===s*2&&s>=1&&s<=75)return Xp(Zt([[n.p2sh],"0x"+o[2]]))}}if(n.prefix!=null){const o=i[1];let s=i[0];if(s===0?o!==20&&o!==32&&(s=-1):s=-1,s>=0&&i.length===2+o&&o>=1&&o<=75){const a=Kp.toWords(i.slice(2));return a.unshift(s),Kp.encode(n.prefix,a)}}return null}getAddress(e){return le(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===hx?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===M.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",Zc(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&pe.throwError("invalid or unsupported coin data",M.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return le(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<Zp.length;n++){const i=r.match(Zp[n]);if(i==null)continue;const o=i[1].toLowerCase();switch(o){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:ef(r)};case"erc721":case"erc1155":{const s=o==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:o,content:r});const a=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const u=yield this.provider.formatter.address(l[0]),c=dt(K.from(l[1]).toHexString(),32);if(o==="erc721"){const E=this.provider.formatter.callAddress(yield this.provider.call({to:u,data:Yt(["0x6352211e",c])}));if(a!==E)return null;e.push({type:"owner",content:E})}else if(o==="erc1155"){const E=K.from(yield this.provider.call({to:u,data:Yt(["0x00fdd58e",dt(a,32),c])}));if(E.isZero())return null;e.push({type:"balance",content:E.toString()})}const h={to:this.provider.formatter.address(l[0]),data:Yt([s,c])};let p=Nl(yield this.provider.call(h),0);if(p==null)return null;e.push({type:"metadata-url-base",content:p}),o==="erc1155"&&(p=p.replace("{id}",c.substring(2)),e.push({type:"metadata-url-expanded",content:p})),p.match(/^ipfs:/i)&&(p=ef(p)),e.push({type:"metadata-url",content:p});const g=yield Pa(p);if(!g)return null;e.push({type:"metadata",content:JSON.stringify(g)});let v=g.image;if(typeof v!="string")return null;if(!v.match(/^(https:\/\/|data:)/i)){if(v.match(by)==null)return null;e.push({type:"url-ipfs",content:v}),v=ef(v)}return e.push({type:"url",content:v}),{linkage:e,url:v}}}}}catch{}return null})}getContentHash(){return le(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=parseInt(r[3],16);if(r[4].length===s*2)return"ipfs://"+Eh.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=parseInt(n[3],16);if(n[4].length===s*2)return"ipns://"+Eh.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const o=e.match(/^0x90b2c605([0-9a-f]*)$/);if(o&&o[1].length===34*2){const s={"=":"","+":"-","/":"_"};return"sia://"+O1("0x"+o[1]).replace(/[=+\/]/g,l=>s[l])}return pe.throwError("invalid or unsupported content hash data",M.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return le(this,void 0,void 0,function*(){let r=fn(e);r=Zt([Zc(64),Zc(r.length),r]),r.length%32!==0&&(r=Zt([r,dt("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",re(r));return n==null||n==="0x"?null:ka(n)})}}let tf=null,j3=1;class $u extends ts{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),U(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=fr(new.target,"getNetwork")(e);r?(U(this,"_network",r),this.emit("network",r,null)):pe.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return le(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||pe.throwError("no network detected",M.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:U(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Ao(()=>this._ready().then(e=>e,e=>{if(!(e.code===M.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return tf==null&&(tf=new Z),tf}static getNetwork(e){return Bd(e??"homestead")}ccipReadFetch(e,r,n){return le(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),o=r.toLowerCase(),s=[];for(let a=0;a<n.length;a++){const l=n[a],u=l.replace("{sender}",i).replace("{data}",o),c=l.indexOf("{data}")>=0?null:JSON.stringify({data:o,sender:i}),h=yield Pa({url:u,errorPassThrough:!0},c,(g,v)=>(g.status=v.statusCode,g));if(h.data)return h.data;const p=h.message||"unknown error";if(h.status>=400&&h.status<500)return pe.throwError(`response not found during CCIP fetch: ${p}`,M.errors.SERVER_ERROR,{url:l,errorMessage:p});s.push(p)}return pe.throwError(`error encountered during CCIP fetch: ${s.map(a=>JSON.stringify(a)).join(", ")}`,M.errors.SERVER_ERROR,{urls:n,errorMessages:s})})}_getInternalBlockNumber(e){return le(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const o=yield i;if(vs()-o.respTime<=e)return o.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=vs(),n=vt({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:o})=>{if(o)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),o;const s=vs();return i=K.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:s}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return le(this,void 0,void 0,function*(){const e=j3++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)pe.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",pe.makeError("network block skew detected",M.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const o=this._emitted[i];o!=="pending"&&n-o>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const o=i.hash;let s=this.getTransactionReceipt(o).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+o]=a.blockNumber,this.emit(o,a)),null)).catch(a=>{this.emit("error",a)});r.push(s);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const o=i.filter;o.fromBlock=i._lastBlockNumber+1,o.toBlock=n;const s=o.toBlock-this._maxFilterBlockRange;s>o.fromBlock&&(o.fromBlock=s),o.fromBlock<0&&(o.fromBlock=0);const a=this.getLogs(o).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(u=>{u.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=u.blockNumber),this._emitted["b:"+u.blockHash]=u.blockNumber,this._emitted["t:"+u.transactionHash]=u.blockNumber,this.emit(o,u)})}).catch(l=>{this.emit("error",l),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return le(this,void 0,void 0,function*(){return pe.throwError("provider does not support network detection",M.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return le(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield Yp(0),this._network;const n=pe.makeError("underlying network changed",M.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=vs();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=vs(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return le(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return le(this,void 0,void 0,function*(){const o=yield this.getTransactionReceipt(e);return(o?o.confirmations:0)>=r?o:new Promise((s,a)=>{const l=[];let u=!1;const c=function(){return u?!0:(u=!0,l.forEach(p=>{p()}),!1)},h=p=>{p.confirmations<r||c()||s(p)};if(this.on(e,h),l.push(()=>{this.removeListener(e,h)}),i){let p=i.startBlock,g=null;const v=E=>le(this,void 0,void 0,function*(){u||(yield Yp(1e3),this.getTransactionCount(i.from).then(C=>le(this,void 0,void 0,function*(){if(!u){if(C<=i.nonce)p=E;else{{const w=yield this.getTransaction(e);if(w&&w.blockNumber!=null)return}for(g==null&&(g=p-3,g<i.startBlock&&(g=i.startBlock));g<=E;){if(u)return;const w=yield this.getBlockWithTransactions(g);for(let b=0;b<w.transactions.length;b++){const x=w.transactions[b];if(x.hash===e)return;if(x.from===i.from&&x.nonce===i.nonce){if(u)return;const R=yield this.waitForTransaction(x.hash,r);if(c())return;let D="replaced";x.data===i.data&&x.to===i.to&&x.value.eq(i.value)?D="repriced":x.data==="0x"&&x.from===x.to&&x.value.isZero()&&(D="cancelled"),a(pe.makeError("transaction was replaced",M.errors.TRANSACTION_REPLACED,{cancelled:D==="replaced"||D==="cancelled",reason:D,replacement:this._wrapTransaction(x),hash:e,receipt:R}));return}}g++}}u||this.once("block",v)}}),C=>{u||this.once("block",v)}))});if(u)return;this.once("block",v),l.push(()=>{this.removeListener("block",v)})}if(typeof n=="number"&&n>0){const p=setTimeout(()=>{c()||a(pe.makeError("timeout exceeded",M.errors.TIMEOUT,{timeout:n}))},n);p.unref&&p.unref(),l.push(()=>{clearTimeout(p)})}})})}getBlockNumber(){return le(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return le(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return K.from(e)}catch(r){return pe.throwError("bad result from backend",M.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return le(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield vt({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return K.from(i)}catch(o){return pe.throwError("bad result from backend",M.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:o})}})}getTransactionCount(e,r){return le(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield vt({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return K.from(i).toNumber()}catch(o){return pe.throwError("bad result from backend",M.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:o})}})}getCode(e,r){return le(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield vt({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return re(i)}catch(o){return pe.throwError("bad result from backend",M.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:o})}})}getStorageAt(e,r,n){return le(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield vt({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(s=>Lu(s))}),o=yield this.perform("getStorageAt",i);try{return re(o)}catch(s){return pe.throwError("bad result from backend",M.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:o,error:s})}})}_wrapTransaction(e,r,n){if(r!=null&&Fn(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&pe.throwError("Transaction hash mismatch from Provider.sendTransaction.",M.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(o,s)=>le(this,void 0,void 0,function*(){o==null&&(o=1),s==null&&(s=0);let a;o!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const l=yield this._waitForTransaction(e.hash,o,s,a);return l==null&&o===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&pe.throwError("transaction failed",M.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return le(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(o=>re(o)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const o=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,o,i)}catch(o){throw o.transaction=n,o.transactionHash=n.hash,o}})}_getTransactionRequest(e){return le(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?this._getAddress(o):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?K.from(o):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(o=>o?re(o):null))}),this.formatter.transactionRequest(yield vt(n))})}_getFilter(e){return le(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield vt(r))})}_call(e,r,n){return le(this,void 0,void 0,function*(){n>=O3&&pe.throwError("CCIP read exceeded maximum redirections",M.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,o=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&o.substring(0,10)==="0x556f1830"&&Fn(o)%32===4)try{const s=It(o,4),a=It(s,0,32);K.from(a).eq(i)||pe.throwError("CCIP Read sender did not match",M.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const l=[],u=K.from(It(s,32,64)).toNumber(),c=K.from(It(s,u,u+32)).toNumber(),h=It(s,u+32);for(let w=0;w<c;w++){const b=Nl(h,w*32);b==null&&pe.throwError("CCIP Read contained corrupt URL string",M.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o}),l.push(b)}const p=da(s,64);K.from(It(s,100,128)).isZero()||pe.throwError("CCIP Read callback selector included junk",M.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const g=It(s,96,100),v=da(s,128),E=yield this.ccipReadFetch(e,p,l);E==null&&pe.throwError("CCIP Read disabled or provided no URLs",M.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:o});const C={to:i,data:Yt([g,Ey([E,v])])};return this._call(C,r,n+1)}catch(s){if(s.code===M.errors.SERVER_ERROR)throw s}try{return re(o)}catch(s){return pe.throwError("bad result from backend",M.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:o,error:s})}})}call(e,r){return le(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield vt({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return le(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield vt({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return K.from(n)}catch(i){return pe.throwError("bad result from backend",M.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return le(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&pe.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&pe.throwError("ENS name not configured",M.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return le(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(ge(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),ge(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{pe.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Ao(()=>le(this,void 0,void 0,function*(){const o=yield this.perform("getBlock",i);if(o==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let s=null;for(let l=0;l<o.transactions.length;l++){const u=o.transactions[l];if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){s==null&&(s=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let c=s-u.blockNumber+1;c<=0&&(c=1),u.confirmations=c}}const a=this.formatter.blockWithTransactions(o);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(o)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return le(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Ao(()=>le(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return le(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Ao(()=>le(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let s=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;s<=0&&(s=1),i.confirmations=s}return i}),{oncePoll:this})})}getLogs(e){return le(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield vt({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Z.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return le(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return le(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&pe.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return le(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new Sh(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return le(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||pe.throwError("network does not support ENS",M.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Sl(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return le(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(ge(e))throw n}typeof e!="string"&&pe.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return le(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=Nl(yield this.call({to:n,data:"0x691f3431"+Sl(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return le(this,void 0,void 0,function*(){let r=null;if(ge(e)){const o=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(o,"getAvatar");if(!s)return null;r=new Sh(this,s,o);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==M.errors.CALL_EXCEPTION)throw a}try{const a=Nl(yield this.call({to:s,data:"0x691f3431"+Sl(o).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==M.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return pe.throwError(e+" not implemented",M.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new R3(so(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],o=so(e);return this._events=this._events.filter(s=>s.tag!==o?!0:(setTimeout(()=>{s.listener.apply(this,r)},0),n=!0,s.once?(i.push(s),!1):!0)),i.forEach(s=>{this._stopEvent(s)}),n}listenerCount(e){if(!e)return this._events.length;let r=so(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=so(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,o=so(e);return this._events=this._events.filter(s=>s.tag!==o||s.listener!=r||i?!0:(i=!0,n.push(s),!1)),n.forEach(s=>{this._stopEvent(s)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=so(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var kn=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const yt=new M(qt),B3=["call","estimateGas"];function Bs(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=ge(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=Bs(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return Bs(JSON.parse(t),e)}catch{}return null}function xy(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const o=Bs(e,!0);if(o)return o.data;yt.throwError("missing revert data in call exception; Transaction reverted without a reason string",M.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let o=Bs(e.body,!1);o==null&&(o=Bs(e,!1)),o&&yt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",M.errors.UNPREDICTABLE_GAS_LIMIT,{reason:o.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===M.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&yt.throwError("insufficient funds for intrinsic transaction cost",M.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&yt.throwError("nonce has already been used",M.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&yt.throwError("replacement fee too low",M.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&yt.throwError("legacy pre-eip-155 transactions not supported",M.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),B3.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&yt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",M.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function tg(t){return new Promise(function(e){setTimeout(e,t)})}function F3(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function ys(t){return t&&t.toLowerCase()}const Ah={};class Fd extends Ca{constructor(e,r,n){if(super(),e!==Ah)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");U(this,"provider",r),n==null&&(n=0),typeof n=="string"?(U(this,"_address",this.provider.formatter.address(n)),U(this,"_index",null)):typeof n=="number"?(U(this,"_index",n),U(this,"_address",null)):yt.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return yt.throwError("cannot alter JSON-RPC Signer connection",M.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new U3(Ah,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&yt.throwError("unknown account #"+this._index,M.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=ot(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=ot(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>kn(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&yt.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),vt({tx:vt(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&yt.throwArgumentError("from address mismatch","transaction",e):n.from=i;const o=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[o]).then(s=>s,s=>(typeof s.message=="string"&&s.message.match(/user denied/i)&&yt.throwError("user rejected transaction",M.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),xy("sendTransaction",s,o)))})}signTransaction(e){return yt.throwError("signing transactions is unsupported",M.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return kn(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Ao(()=>kn(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return kn(this,void 0,void 0,function*(){const r=typeof e=="string"?fn(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[re(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&yt.throwError("user rejected signing",M.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return kn(this,void 0,void 0,function*(){const r=typeof e=="string"?fn(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),re(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&yt.throwError("user rejected signing",M.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return kn(this,void 0,void 0,function*(){const i=yield or.resolveNames(e,r,n,s=>this.provider.resolveName(s)),o=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(or.getPayload(i.domain,r,i.value))])}catch(s){throw typeof s.message=="string"&&s.message.match(/user denied/i)&&yt.throwError("user rejected signing",M.errors.ACTION_REJECTED,{action:"_signTypedData",from:o,messageData:{domain:i.domain,types:r,value:i.value}}),s}})}unlock(e){return kn(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class U3 extends Fd{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const z3={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Yi extends $u{constructor(e,r){let n=r;n==null&&(n=new Promise((i,o)=>{setTimeout(()=>{this.detectNetwork().then(s=>{i(s)},s=>{o(s)})},0)})),super(n),e||(e=fr(this.constructor,"defaultUrl")()),typeof e=="string"?U(this,"connection",Object.freeze({url:e})):U(this,"connection",Object.freeze(ot(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return kn(this,void 0,void 0,function*(){yield tg(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=fr(this.constructor,"getNetwork");try{return r(K.from(e).toNumber())}catch(n){return yt.throwError("could not detect network",M.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return yt.throwError("could not detect network",M.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Fd(Ah,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:nr(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const o=Pa(this.connection,JSON.stringify(n),F3).then(s=>(this.emit("debug",{action:"response",request:n,response:s,provider:this}),s),s=>{throw this.emit("debug",{action:"response",error:s,request:n,provider:this}),s});return i&&(this._cache[e]=o,setTimeout(()=>{this._cache[e]=null},0)),o}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[ys(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[ys(r.address),r.blockTag]];case"getCode":return["eth_getCode",[ys(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[ys(r.address),dt(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[fr(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[fr(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=ys(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return kn(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&K.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const o=yield this.getFeeData();o.maxFeePerGas==null&&o.maxPriorityFeePerGas==null&&(r=ot(r),r.transaction=ot(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&yt.throwError(e+" not implemented",M.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return xy(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(o){if(e._pendingFilter!=r)return null;let s=Promise.resolve();return o.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",s=s.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),s.then(function(){return tg(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(o=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=ot(z3);if(r)for(const o in r)r[o]&&(n[o]=!0);LE(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(o){if(e[o]==null)return;const s=Lu(K.from(e[o]));o==="gasLimit"&&(o="gas"),i[o]=s}),["from","to","data"].forEach(function(o){e[o]!=null&&(i[o]=re(e[o]))}),e.accessList&&(i.accessList=no(e.accessList)),i}}let Fs=null;try{if(Fs=WebSocket,Fs==null)throw new Error("inject please")}catch{const e=new M(qt);Fs=function(){e.throwError("WebSockets not supported in this environment",M.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var rf=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const tl=new M(qt);let H3=1;class Wu extends Yi{constructor(e,r){r==="any"&&tl.throwError("WebSocketProvider does not support 'any' network yet",M.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,r):super("_websocket",r),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?U(this,"_websocket",new Fs(this.connection.url)):U(this,"_websocket",e),U(this,"_requests",{}),U(this,"_subs",{}),U(this,"_subIds",{}),U(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const o=i.data,s=JSON.parse(o);if(s.id!=null){const a=String(s.id),l=this._requests[a];if(delete this._requests[a],s.result!==void 0)l.callback(null,s.result),this.emit("debug",{action:"response",request:JSON.parse(l.payload),response:s.result,provider:this});else{let u=null;s.error?(u=new Error(s.error.message||"unknown error"),U(u,"code",s.error.code||null),U(u,"response",o)):u=new Error("unknown error"),l.callback(u,void 0),this.emit("debug",{action:"response",error:u,request:JSON.parse(l.payload),provider:this})}}else if(s.method==="eth_subscription"){const a=this._subs[s.params.subscription];a&&a.processFunc(s.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){tl.throwError("cannot reset events block on WebSocketProvider",M.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){tl.throwError("cannot set polling interval on WebSocketProvider",M.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return rf(this,void 0,void 0,function*(){return null})}set polling(e){e&&tl.throwError("cannot set polling on WebSocketProvider",M.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,r){const n=H3++;return new Promise((i,o)=>{function s(l,u){return l?o(l):i(u)}const a=JSON.stringify({method:e,params:r,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(n)]={callback:s,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,r,n){return rf(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(r).then(s=>this.send("eth_subscribe",s)),this._subIds[e]=i);const o=yield i;this._subs[o]={tag:e,processFunc:n}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],r=>{const n=K.from(r.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],r=>{this.emit("pending",r)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],r=>{r.removed==null&&(r.removed=!1),this.emit(e.filter,this.formatter.filterLog(r))});break;case"tx":{const r=n=>{const i=n.hash;this.getTransactionReceipt(i).then(o=>{o&&this.emit(i,o)})};r(e),this._subscribe("tx",["newHeads"],n=>{this._events.filter(i=>i.type==="tx").forEach(r)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let r=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;r="tx"}else if(this.listenerCount(e.event))return;const n=this._subIds[r];n&&(delete this._subIds[r],n.then(i=>{this._subs[i]&&(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return rf(this,void 0,void 0,function*(){this.websocket.readyState===Fs.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var q3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const ks=new M(qt);class _y extends Yi{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return q3(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||ks.throwError("no network detected",M.errors.UNKNOWN_ERROR,{}),this._network==null&&(U(this,"_network",r),this.emit("network",r,null))),r})}}class Gn extends _y{constructor(e,r){ks.checkAbstract(new.target,Gn),e=fr(new.target,"getNetwork")(e),r=fr(new.target,"getApiKey")(r);const n=fr(new.target,"getUrl")(e,r);super(n,e),typeof r=="string"?U(this,"apiKey",r):r!=null&&Object.keys(r).forEach(i=>{U(this,i,r[i])})}_startPending(){ks.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return ks.throwError("API provider does not support signing",M.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,r){return ks.throwError("not implemented; sub-classes must override getUrl",M.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const rg=new M(qt),Pl="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class Sy extends Wu{constructor(e,r){const n=new Ud(e,r),i=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,n.network),U(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===Pl}}class Ud extends Gn{static getWebSocketProvider(e,r){return new Sy(e,r)}static getApiKey(e){return e==null?Pl:(e&&typeof e!="string"&&rg.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.g.alchemy.com/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;default:rg.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+r,throttleCallback:(i,o)=>(r===Pl&&Ta(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===Pl}}const $3=new M(qt),rl="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function W3(t){switch(t){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return $3.throwArgumentError("unsupported network","name",t)}class Ay extends Gn{isCommunityResource(){return this.apiKey===rl}static getApiKey(e){return e??rl}static getUrl(e,r){r==null&&(r=rl);const n={allowGzip:!0,url:"https://"+W3(e.name)+r,throttleCallback:(i,o)=>(r.apiKey===rl&&Ta(),Promise.resolve(!0))};return r.projectSecret!=null&&(n.user="",n.password=r.projectSecret),n}}var G3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const ng=new M(qt);class ky extends Gn{static getApiKey(e){return e!=null&&ng.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,r){let n=null;switch(e.name){case"homestead":n="https://cloudflare-eth.com/";break;default:ng.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return G3(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,e,r)})}}var nl=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const ci=new M(qt);function ig(t){const e={};for(let r in t){if(t[r]==null)continue;let n=t[r];r==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?n=Lu(re(n)):r==="accessList"?n="["+no(n).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":n=re(n),e[r]=n)}return e}function K3(t){if(t.status==0&&(t.message==="No records found"||t.message==="No transactions found"))return t.result;if(t.status!=1||typeof t.message!="string"||!t.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(t),(t.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return t.result}function og(t){if(t&&t.status==0&&t.message=="NOTOK"&&(t.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(t),e.throttleRetry=!0,e}if(t.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(t),e}if(t.error){const e=new Error(t.error.message||"unknown error");throw t.error.code&&(e.code=t.error.code),t.error.data&&(e.data=t.error.data),e}return t.result}function sg(t){if(t==="pending")throw new Error("pending not supported");return t==="latest"?t:parseInt(t.substring(2),16)}function nf(t,e,r){if(t==="call"&&e.code===M.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let o=i.data;if(o&&(o="0x"+o.replace(/^.*0x/i,"")),ge(o))return o;ci.throwError("missing revert data in call exception",M.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let n=e.message;throw e.code===M.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&ci.throwError("insufficient funds for intrinsic transaction cost",M.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&ci.throwError("nonce has already been used",M.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),n.match(/another transaction with same nonce/)&&ci.throwError("replacement fee too low",M.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&ci.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",M.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}class Cy extends $u{constructor(e,r){super(e),U(this,"baseUrl",this.getBaseUrl()),U(this,"apiKey",r||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return ci.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,r){const n=Object.keys(r).reduce((o,s)=>{const a=r[s];return a!=null&&(o+=`&${s}=${a}`),o},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${n}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,r){return r.module=e,r.apikey=this.apiKey,r}fetch(e,r,n){return nl(this,void 0,void 0,function*(){const i=n?this.getPostUrl():this.getUrl(e,r),o=n?this.getPostData(e,r):null,s=e==="proxy"?og:K3;this.emit("debug",{action:"request",request:i,provider:this});const a={url:i,throttleSlotInterval:1e3,throttleCallback:(c,h)=>(this.isCommunityResource()&&Ta(),Promise.resolve(!0))};let l=null;o&&(a.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},l=Object.keys(o).map(c=>`${c}=${o[c]}`).join("&"));const u=yield Pa(a,l,s||og);return this.emit("debug",{action:"response",request:i,response:nr(u),provider:this}),u})}detectNetwork(){return nl(this,void 0,void 0,function*(){return this.network})}perform(e,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return nl(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:r.address,tag:r.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:r.address,tag:r.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:r.address,tag:r.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:r.address,position:r.position,tag:r.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:r.signedTransaction},!0).catch(i=>nf("sendTransaction",i,r.signedTransaction));case"getBlock":if(r.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:r.blockTag,boolean:r.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:r.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:r.transactionHash});case"call":{if(r.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=ig(r.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(o){return nf("call",o,r.transaction)}}case"estimateGas":{const i=ig(r.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(o){return nf("estimateGas",o,r.transaction)}}case"getLogs":{const i={action:"getLogs"};if(r.filter.fromBlock&&(i.fromBlock=sg(r.filter.fromBlock)),r.filter.toBlock&&(i.toBlock=sg(r.filter.toBlock)),r.filter.address&&(i.address=r.filter.address),r.filter.topics&&r.filter.topics.length>0&&(r.filter.topics.length>1&&ci.throwError("unsupported topic count",M.errors.UNSUPPORTED_OPERATION,{topics:r.filter.topics}),r.filter.topics.length===1)){const a=r.filter.topics[0];(typeof a!="string"||a.length!==66)&&ci.throwError("unsupported topic format",M.errors.UNSUPPORTED_OPERATION,{topic0:a}),i.topic0=a}const o=yield this.fetch("logs",i);let s={};for(let a=0;a<o.length;a++){const l=o[a];if(l.blockHash==null){if(s[l.blockNumber]==null){const u=yield this.getBlock(l.blockNumber);u&&(s[l.blockNumber]=u.hash)}l.blockHash=s[l.blockNumber]}}return o}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,e,r)})}getHistory(e,r,n){return nl(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:r??0,endblock:n??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(s=>{["contractAddress","to"].forEach(function(l){s[l]==""&&delete s[l]}),s.creates==null&&s.contractAddress!=null&&(s.creates=s.contractAddress);const a=this.formatter.transactionResponse(s);return s.timeStamp&&(a.timestamp=parseInt(s.timeStamp)),a})})}isCommunityResource(){return this.apiKey==null}}var du=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Di=new M(qt);function il(){return new Date().getTime()}function ag(t){let e=null;for(let r=0;r<t.length;r++){const n=t[r];if(n==null)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||e.ensAddress==null&&n.ensAddress==null)||Di.throwArgumentError("provider mismatch","networks",t):e=n}return e}function lg(t,e){t=t.slice().sort();const r=Math.floor(t.length/2);if(t.length%2)return t[r];const n=t[r-1],i=t[r];return e!=null&&Math.abs(n-i)>e?null:(n+i)/2}function ko(t){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return JSON.stringify(t);if(typeof t=="string")return t;if(K.isBigNumber(t))return t.toString();if(Array.isArray(t))return JSON.stringify(t.map(e=>ko(e)));if(typeof t=="object"){const e=Object.keys(t);return e.sort(),"{"+e.map(r=>{let n=t[r];return typeof n=="function"?n="[function]":n=ko(n),JSON.stringify(r)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof t)}let V3=1;function ug(t){let e=null,r=null,n=new Promise(s=>{e=function(){r&&(clearTimeout(r),r=null),s()},r=setTimeout(e,t)});const i=s=>(n=n.then(s),n);function o(){return n}return{cancel:e,getPromise:o,wait:i}}const Q3=[M.errors.CALL_EXCEPTION,M.errors.INSUFFICIENT_FUNDS,M.errors.NONCE_EXPIRED,M.errors.REPLACEMENT_UNDERPRICED,M.errors.UNPREDICTABLE_GAS_LIMIT],J3=["address","args","errorArgs","errorSignature","method","transaction"];function ol(t,e){const r={weight:t.weight};return Object.defineProperty(r,"provider",{get:()=>t.provider}),t.start&&(r.start=t.start),e&&(r.duration=e-t.start),t.done&&(t.error?r.error=t.error:r.result=t.result||null),r}function Y3(t,e){return function(r){const n={};r.forEach(o=>{const s=t(o.result);n[s]||(n[s]={count:0,result:o.result}),n[s].count++});const i=Object.keys(n);for(let o=0;o<i.length;o++){const s=n[i[o]];if(s.count>=e)return s.result}}}function X3(t,e,r){let n=ko;switch(e){case"getBlockNumber":return function(i){const o=i.map(a=>a.result);let s=lg(i.map(a=>a.result),2);if(s!=null)return s=Math.ceil(s),o.indexOf(s+1)>=0&&s++,s>=t._highestBlockNumber&&(t._highestBlockNumber=s),t._highestBlockNumber};case"getGasPrice":return function(i){const o=i.map(s=>s.result);return o.sort(),o[Math.floor(o.length/2)]};case"getEtherPrice":return function(i){return lg(i.map(o=>o.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(i){return i==null?null:(i=ot(i),i.confirmations=-1,ko(i))};break;case"getBlock":r.includeTransactions?n=function(i){return i==null?null:(i=ot(i),i.transactions=i.transactions.map(o=>(o=ot(o),o.confirmations=-1,o)),ko(i))}:n=function(i){return i==null?null:ko(i)};break;default:throw new Error("unknown method: "+e)}return Y3(n,t.quorum)}function ws(t,e){return du(this,void 0,void 0,function*(){const r=t.provider;return r.blockNumber!=null&&r.blockNumber>=e||e===-1?r:Ao(()=>new Promise((n,i)=>{setTimeout(function(){return r.blockNumber>=e?n(r):t.cancelled?n(null):n(void 0)},0)}),{oncePoll:r})})}function Z3(t,e,r,n){return du(this,void 0,void 0,function*(){let i=t.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&ge(n.blockTag)&&(i=yield ws(t,e)),i[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&ge(n.blockTag)&&(i=yield ws(t,e)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&ge(n.blockTag)&&(i=yield ws(t,e)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&ge(n.blockTag)&&(i=yield ws(t,e)),r==="call"&&n.blockTag?i[r](n.transaction,n.blockTag):i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let o=n.filter;return(o.fromBlock&&ge(o.fromBlock)||o.toBlock&&ge(o.toBlock))&&(i=yield ws(t,e)),i.getLogs(o)}}return Di.throwError("unknown method error",M.errors.UNKNOWN_ERROR,{method:r,params:n})})}class Ny extends $u{constructor(e,r){e.length===0&&Di.throwArgumentError("missing providers","providers",e);const n=e.map((s,a)=>{if(ts.isProvider(s)){const c=_h(s)?2e3:750;return Object.freeze({provider:s,weight:1,stallTimeout:c,priority:1})}const l=ot(s);l.priority==null&&(l.priority=1),l.stallTimeout==null&&(l.stallTimeout=_h(s)?2e3:750),l.weight==null&&(l.weight=1);const u=l.weight;return(u%1||u>512||u<1)&&Di.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,u),Object.freeze(l)}),i=n.reduce((s,a)=>s+a.weight,0);r==null?r=i/2:r>i&&Di.throwArgumentError("quorum will always fail; larger than total weight","quorum",r);let o=ag(n.map(s=>s.provider.network));o==null&&(o=new Promise((s,a)=>{setTimeout(()=>{this.detectNetwork().then(s,a)},0)})),super(o),U(this,"providerConfigs",Object.freeze(n)),U(this,"quorum",r),this._highestBlockNumber=-1}detectNetwork(){return du(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(r=>r.provider.getNetwork()));return ag(e)})}perform(e,r){return du(this,void 0,void 0,function*(){if(e==="sendTransaction"){const l=yield Promise.all(this.providerConfigs.map(u=>u.provider.sendTransaction(r.signedTransaction).then(c=>c.hash,c=>c)));for(let u=0;u<l.length;u++){const c=l[u];if(typeof c=="string")return c}throw l[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const n=X3(this,e,r),i=p3(this.providerConfigs.map(ot));i.sort((l,u)=>l.priority-u.priority);const o=this._highestBlockNumber;let s=0,a=!0;for(;;){const l=il();let u=i.filter(g=>g.runner&&l-g.start<g.stallTimeout).reduce((g,v)=>g+v.weight,0);for(;u<this.quorum&&s<i.length;){const g=i[s++],v=V3++;g.start=il(),g.staller=ug(g.stallTimeout),g.staller.wait(()=>{g.staller=null}),g.runner=Z3(g,o,e,r).then(E=>{g.done=!0,g.result=E,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:v,backend:ol(g,il()),request:{method:e,params:nr(r)},provider:this})},E=>{g.done=!0,g.error=E,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:v,backend:ol(g,il()),request:{method:e,params:nr(r)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:v,backend:ol(g,null),request:{method:e,params:nr(r)},provider:this}),u+=g.weight}const c=[];i.forEach(g=>{g.done||!g.runner||(c.push(g.runner),g.staller&&c.push(g.staller.getPromise()))}),c.length&&(yield Promise.race(c));const h=i.filter(g=>g.done&&g.error==null);if(h.length>=this.quorum){const g=n(h);if(g!==void 0)return i.forEach(v=>{v.staller&&v.staller.cancel(),v.cancelled=!0}),g;a||(yield ug(100).getPromise()),a=!1}const p=i.reduce((g,v)=>{if(!v.done||v.error==null)return g;const E=v.error.code;return Q3.indexOf(E)>=0&&(g[E]||(g[E]={error:v.error,weight:0}),g[E].weight+=v.weight),g},{});if(Object.keys(p).forEach(g=>{const v=p[g];if(v.weight<this.quorum)return;i.forEach(w=>{w.staller&&w.staller.cancel(),w.cancelled=!0});const E=v.error,C={};J3.forEach(w=>{E[w]!=null&&(C[w]=E[w])}),Di.throwError(E.reason||E.message,g,C)}),i.filter(g=>!g.done).length===0)break}return i.forEach(l=>{l.staller&&l.staller.cancel(),l.cancelled=!0}),Di.throwError("failed to meet quorum",M.errors.SERVER_ERROR,{method:e,params:r,results:i.map(l=>ol(l)),provider:this})})}}const Py=null,Tl=new M(qt),Cs="84842078b09946638c03157f83405213";class Ty extends Wu{constructor(e,r){const n=new zd(e,r),i=n.connection;i.password&&Tl.throwError("INFURA WebSocket project secrets unsupported",M.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const o=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,e),U(this,"apiKey",n.projectId),U(this,"projectId",n.projectId),U(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===Cs}}class zd extends Gn{static getWebSocketProvider(e,r){return new Ty(e,r)}static getApiKey(e){const r={apiKey:Cs,projectId:Cs,projectSecret:null};return e==null||(typeof e=="string"?r.projectId=e:e.projectSecret!=null?(Tl.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),Tl.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),r.projectId=e.projectId,r.projectSecret=e.projectSecret):e.projectId&&(r.projectId=e.projectId),r.apiKey=r.projectId),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"goerli":n="goerli.infura.io";break;case"sepolia":n="sepolia.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-goerli":n="optimism-goerli.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":n="arbitrum-goerli.infura.io";break;default:Tl.throwError("unsupported network",M.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+n+"/v3/"+r.projectId,throttleCallback:(o,s)=>(r.projectId===Cs&&Ta(),Promise.resolve(!0))};return r.projectSecret!=null&&(i.user="",i.password=r.projectSecret),i}isCommunityResource(){return this.projectId===Cs}}class eA extends Yi{send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const i={request:n,resolve:null,reject:null},o=new Promise((s,a)=>{i.resolve=s,i.reject=a});return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const s=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const a=s.map(l=>l.request);return this.emit("debug",{action:"requestBatch",request:nr(a),provider:this}),Pa(this.connection,JSON.stringify(a)).then(l=>{this.emit("debug",{action:"response",request:a,response:l,provider:this}),s.forEach((u,c)=>{const h=l[c];if(h.error){const p=new Error(h.error.message);p.code=h.error.code,p.data=h.error.data,u.reject(p)}else u.resolve(h.result)})},l=>{this.emit("debug",{action:"response",error:l,request:a,provider:this}),s.forEach(u=>{u.reject(l)})})},10)),o}}const of=new M(qt),tA="ETHERS_JS_SHARED";class Oy extends Gn{static getApiKey(e){return e&&typeof e!="string"&&of.throwArgumentError("invalid apiKey","apiKey",e),e||tA}static getUrl(e,r){of.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(e.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:of.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+r}}const cg=new M(qt),fg="62e1ad51b37b8e00394bda3b";class Iy extends Gn{static getApiKey(e){const r={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?r.applicationId=fg:typeof e=="string"?r.applicationId=e:e.applicationSecretKey!=null?(r.applicationId=e.applicationId,r.applicationSecretKey=e.applicationSecretKey):e.applicationId?r.applicationId=e.applicationId:cg.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),r}static getUrl(e,r){let n=null;switch(e?e.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:cg.throwError("unsupported network",M.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i=`https://${n}/v1/lb/${r.applicationId}`,o={headers:{},url:i};return r.applicationSecretKey!=null&&(o.user="",o.password=r.applicationSecretKey),o}isCommunityResource(){return this.applicationId===fg}}const hg=new M(qt);let rA=1;function dg(t,e){const r="Web3LegacyFetcher";return function(n,i){const o={method:n,params:i,id:rA++,jsonrpc:"2.0"};return new Promise((s,a)=>{this.emit("debug",{action:"request",fetcher:r,request:nr(o),provider:this}),e(o,(l,u)=>{if(l)return this.emit("debug",{action:"response",fetcher:r,error:l,request:o,provider:this}),a(l);if(this.emit("debug",{action:"response",fetcher:r,request:o,response:u,provider:this}),u.error){const c=new Error(u.error.message);return c.code=u.error.code,c.data=u.error.data,a(c)}s(u.result)})})}}function nA(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:nr(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class My extends Yi{constructor(e,r){e==null&&hg.throwArgumentError("missing provider","provider",e);let n=null,i=null,o=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),o=e,e.request?(n===""&&(n="eip-1193:"),i=nA(e)):e.sendAsync?i=dg(e,e.sendAsync.bind(e)):e.send?i=dg(e,e.send.bind(e)):hg.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),U(this,"jsonRpcFetchFunc",i),U(this,"provider",o)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const pg=new M(qt);function iA(t,e){if(t==null&&(t="homestead"),typeof t=="string"){const n=t.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new Yi(t);case"ws":case"wss":return new Wu(t);default:pg.throwArgumentError("unsupported URL scheme","network",t)}}const r=Bd(t);return(!r||!r._defaultProvider)&&pg.throwError("unsupported getDefaultProvider network",M.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:t}),r._defaultProvider({FallbackProvider:Ny,AlchemyProvider:Ud,AnkrProvider:Ay,CloudflareProvider:ky,EtherscanProvider:Cy,InfuraProvider:zd,JsonRpcProvider:Yi,NodesmithProvider:Oy,PocketProvider:Iy,Web3Provider:My,IpcProvider:Py},e)}const oA=Object.freeze(Object.defineProperty({__proto__:null,AlchemyProvider:Ud,AlchemyWebSocketProvider:Sy,AnkrProvider:Ay,BaseProvider:$u,CloudflareProvider:ky,EtherscanProvider:Cy,FallbackProvider:Ny,Formatter:Z,InfuraProvider:zd,InfuraWebSocketProvider:Ty,IpcProvider:Py,JsonRpcBatchProvider:eA,JsonRpcProvider:Yi,JsonRpcSigner:Fd,NodesmithProvider:Oy,PocketProvider:Iy,Provider:ts,Resolver:Sh,StaticJsonRpcProvider:_y,UrlJsonRpcProvider:Gn,Web3Provider:My,WebSocketProvider:Wu,getDefaultProvider:iA,getNetwork:Bd,isCommunityResourcable:wy,isCommunityResource:_h,showThrottleMessage:Ta},Symbol.toStringTag,{value:"Module"}));var vr={},Rn={},Ry={};const sA=Yo(ex),gg=t=>{let e;const r=new Set,n=(l,u)=>{const c=typeof l=="function"?l(e):l;if(!Object.is(c,e)){const h=e;e=u??typeof c!="object"?c:Object.assign({},e,c),r.forEach(p=>p(e,h))}},i=()=>e,a={setState:n,getState:i,subscribe:l=>(r.add(l),()=>r.delete(l)),destroy:()=>{r.clear()}};return e=t(n,i,a),a},Dy=t=>t?gg(t):gg,{useSyncExternalStoreWithSelector:aA}=Ru;function Ly(t,e=t.getState,r){const n=aA(t.subscribe,t.getState,t.getServerState||t.getState,e,r);return z.useDebugValue(n),n}const mg=t=>{const e=typeof t=="function"?Dy(t):t,r=(n,i)=>Ly(e,n,i);return Object.assign(r,e),r},jy=t=>t?mg(t):mg;var lA=t=>jy(t);const uA=Object.freeze(Object.defineProperty({__proto__:null,create:jy,createStore:Dy,default:lA,useStore:Ly},Symbol.toStringTag,{value:"Module"})),cA=Yo(uA);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createWeb3ReactStoreAndActions=t.MAX_SAFE_CHAIN_ID=void 0;const e=sA,r=cA;t.MAX_SAFE_CHAIN_ID=0xfffffffffffec;function n(a){if(!Number.isInteger(a)||a<=0||a>t.MAX_SAFE_CHAIN_ID)throw new Error(`Invalid chainId ${a}`)}function i(a){return(0,e.getAddress)(a)}const o={chainId:void 0,accounts:void 0,activating:!1};function s(){const a=(0,r.createStore)()(()=>o);let l=0;function u(){const p=++l;return a.setState(Object.assign(Object.assign({},o),{activating:!0})),()=>{l===p&&a.setState({activating:!1})}}function c(p){if(p.chainId!==void 0&&n(p.chainId),p.accounts!==void 0)for(let g=0;g<p.accounts.length;g++)p.accounts[g]=i(p.accounts[g]);l++,a.setState(g=>{var v,E;const C=(v=p.chainId)!==null&&v!==void 0?v:g.chainId,w=(E=p.accounts)!==null&&E!==void 0?E:g.accounts;let b=g.activating;return b&&C&&w&&(b=!1),{chainId:C,accounts:w,activating:b}})}function h(){l++,a.setState(o)}return[a,{startActivation:u,update:c,resetState:h}]}t.createWeb3ReactStoreAndActions=s})(Ry);const vg=t=>{let e;const r=new Set,n=(l,u)=>{const c=typeof l=="function"?l(e):l;if(!Object.is(c,e)){const h=e;e=u??typeof c!="object"?c:Object.assign({},e,c),r.forEach(p=>p(e,h))}},i=()=>e,a={setState:n,getState:i,subscribe:l=>(r.add(l),()=>r.delete(l)),destroy:()=>{r.clear()}};return e=t(n,i,a),a},Hd=t=>t?vg(t):vg,{useSyncExternalStoreWithSelector:fA}=Ru;function By(t,e=t.getState,r){const n=fA(t.subscribe,t.getState,t.getServerState||t.getState,e,r);return z.useDebugValue(n),n}const yg=t=>{const e=typeof t=="function"?Hd(t):t,r=(n,i)=>By(e,n,i);return Object.assign(r,e),r},Fy=t=>t?yg(t):yg;var hA=t=>Fy(t);const dA=Object.freeze(Object.defineProperty({__proto__:null,create:Fy,createStore:Hd,default:hA,useStore:By},Symbol.toStringTag,{value:"Module"})),pA=Yo(dA),{useSyncExternalStoreWithSelector:gA}=Ru;function Uy(t,e=t.getState,r){const n=gA(t.subscribe,t.getState,t.getServerState||t.getState,e,r);return z.useDebugValue(n),n}const wg=(t,e)=>{const r=Hd(t),n=(i,o=e)=>Uy(r,i,o);return Object.assign(n,r),n},mA=(t,e)=>t?wg(t,e):wg,vA=Object.freeze(Object.defineProperty({__proto__:null,createWithEqualityFn:mA,useStoreWithEqualityFn:Uy},Symbol.toStringTag,{value:"Module"})),yA=Yo(vA),zy=Yo(oA);var wA=me&&me.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bA=me&&me.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),EA=me&&me.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wA(e,t,r);return bA(e,t),e},xA=me&&me.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.getPriorityConnector=Rn.getSelectedConnector=Rn.initializeConnector=void 0;const _A=Ry,Co=z,bg=pA,SA=yA;let Lo;function AA(){return xA(this,void 0,void 0,function*(){if(Lo===void 0)try{const{Web3Provider:t}=yield Promise.resolve().then(()=>EA(zy));Lo=t}catch{console.debug("@ethersproject/providers not available"),Lo=null}})}function kA(t){const[e,r]=(0,_A.createWeb3ReactStoreAndActions)(),n=t(r),i=MA(e),o=RA(i),s=DA(n,i,o);return[n,Object.assign(Object.assign(Object.assign({},i),o),s),e]}Rn.initializeConnector=kA;function CA({chainId:t,accounts:e,activating:r}){return!!(t&&e&&!r)}function Hy(...t){function e(h){const p=t.findIndex(([g])=>h===g);if(p===-1)throw new Error("Connector not found");return p}function r(h){const p=t[e(h)][2];if(!p)throw new Error("Stores not passed");return p}function n(h){return t.map(([,{useChainId:g}])=>g())[e(h)]}function i(h){return t.map(([,{useAccounts:g}])=>g())[e(h)]}function o(h){return t.map(([,{useIsActivating:g}])=>g())[e(h)]}function s(h){return t.map(([,{useAccount:g}])=>g())[e(h)]}function a(h){return t.map(([,{useIsActive:g}])=>g())[e(h)]}function l(h,p){const g=e(h);return t.map(([,{useProvider:E}],C)=>E(p,C===g))[g]}function u(h,p){const g=e(h);return t.map(([,{useENSNames:E}],C)=>E(C===g?p:void 0))[g]}function c(h,p){const g=e(h);return t.map(([,{useENSName:E}],C)=>E(C===g?p:void 0))[g]}return{useSelectedStore:r,useSelectedChainId:n,useSelectedAccounts:i,useSelectedIsActivating:o,useSelectedAccount:s,useSelectedIsActive:a,useSelectedProvider:l,useSelectedENSNames:u,useSelectedENSName:c}}Rn.getSelectedConnector=Hy;function NA(...t){const{useSelectedStore:e,useSelectedChainId:r,useSelectedAccounts:n,useSelectedIsActivating:i,useSelectedAccount:o,useSelectedIsActive:s,useSelectedProvider:a,useSelectedENSNames:l,useSelectedENSName:u}=Hy(...t);function c(){const D=t.map(([,{useIsActive:j}])=>j()).findIndex(j=>j);return t[D===-1?0:D][0]}function h(){return e(c())}function p(){return r(c())}function g(){return n(c())}function v(){return i(c())}function E(){return o(c())}function C(){return s(c())}function w(R){return a(c(),R)}function b(R){return l(c(),R)}function x(R){return u(c(),R)}return{useSelectedStore:e,useSelectedChainId:r,useSelectedAccounts:n,useSelectedIsActivating:i,useSelectedAccount:o,useSelectedIsActive:s,useSelectedProvider:a,useSelectedENSNames:l,useSelectedENSName:u,usePriorityConnector:c,usePriorityStore:h,usePriorityChainId:p,usePriorityAccounts:g,usePriorityIsActivating:v,usePriorityAccount:E,usePriorityIsActive:C,usePriorityProvider:w,usePriorityENSNames:b,usePriorityENSName:x}}Rn.getPriorityConnector=NA;const PA=({chainId:t})=>t,TA=({accounts:t})=>t,OA=({activating:t})=>t,IA=(t,e)=>t===void 0&&e===void 0||t!==void 0&&t.length===(e==null?void 0:e.length)&&t.every((r,n)=>r===e[n]);function MA(t){function e(){return(0,bg.useStore)(t,PA)}function r(){return(0,SA.useStoreWithEqualityFn)(t,TA,IA)}function n(){return(0,bg.useStore)(t,OA)}return{useChainId:e,useAccounts:r,useIsActivating:n}}function RA({useChainId:t,useAccounts:e,useIsActivating:r}){function n(){var o;return(o=e())===null||o===void 0?void 0:o[0]}function i(){const o=t(),s=e(),a=r();return CA({chainId:o,accounts:s,activating:a})}return{useAccount:n,useIsActive:i}}function Eg(t,e=[]){const[r,n]=(0,Co.useState)();return(0,Co.useEffect)(()=>{if(t&&e.length){let i=!1;return Promise.all(e.map(o=>t.lookupAddress(o))).then(o=>{i||n(o)}).catch(o=>{i||(console.debug("Could not fetch ENS names",o),n(new Array(e.length).fill(null)))}),()=>{i=!0,n(void 0)}}},[t,e]),r??new Array(e.length).fill(void 0)}function DA(t,{useAccounts:e,useChainId:r},{useAccount:n,useIsActive:i}){function o(l,u=!0){const c=i(),h=r(),[p,g]=(0,Co.useState)(Lo!==void 0);return(0,Co.useEffect)(()=>{if(p)return;let v=!1;return AA().then(()=>{v||g(!0)}),()=>{v=!0}},[p]),(0,Co.useMemo)(()=>{if(u){if(t.customProvider)return t.customProvider;if(Lo&&t.provider)return new Lo(t.provider,l)}},[p,u,c,h,l])}function s(l){const u=e();return Eg(l,u)}function a(l){var u;const c=n(),h=(0,Co.useMemo)(()=>c===void 0?void 0:[c],[c]);return(u=Eg(l,h))===null||u===void 0?void 0:u[0]}return{useProvider:o,useENSNames:s,useENSName:a}}var Gu={},qy={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,h,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,h||l,p),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=r?r+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,v=new Array(g);p<g;p++)v[p]=h[p].fn;return v},a.prototype.listenerCount=function(u){var c=r?r+u:u,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,c,h,p,g,v){var E=r?r+u:u;if(!this._events[E])return!1;var C=this._events[E],w=arguments.length,b,x;if(C.fn){switch(C.once&&this.removeListener(u,C.fn,void 0,!0),w){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,c),!0;case 3:return C.fn.call(C.context,c,h),!0;case 4:return C.fn.call(C.context,c,h,p),!0;case 5:return C.fn.call(C.context,c,h,p,g),!0;case 6:return C.fn.call(C.context,c,h,p,g,v),!0}for(x=1,b=new Array(w-1);x<w;x++)b[x-1]=arguments[x];C.fn.apply(C.context,b)}else{var R=C.length,D;for(x=0;x<R;x++)switch(C[x].once&&this.removeListener(u,C[x].fn,void 0,!0),w){case 1:C[x].fn.call(C[x].context);break;case 2:C[x].fn.call(C[x].context,c);break;case 3:C[x].fn.call(C[x].context,c,h);break;case 4:C[x].fn.call(C[x].context,c,h,p);break;default:if(!b)for(D=1,b=new Array(w-1);D<w;D++)b[D-1]=arguments[D];C[x].fn.apply(C[x].context,b)}}return!0},a.prototype.on=function(u,c,h){return o(this,u,c,h,!1)},a.prototype.once=function(u,c,h){return o(this,u,c,h,!0)},a.prototype.removeListener=function(u,c,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!c)return s(this,g),this;var v=this._events[g];if(v.fn)v.fn===c&&(!p||v.once)&&(!h||v.context===h)&&s(this,g);else{for(var E=0,C=[],w=v.length;E<w;E++)(v[E].fn!==c||p&&!v[E].once||h&&v[E].context!==h)&&C.push(v[E]);C.length?this._events[g]=C.length===1?C[0]:C:s(this,g)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(qy);var LA=qy.exports;Object.defineProperty(Gu,"__esModule",{value:!0});Gu.MockEIP1193Provider=void 0;const jA=LA;class BA extends jA.EventEmitter{constructor(){super(...arguments),this.eth_chainId=jest.fn(e=>e),this.eth_accounts=jest.fn(e=>e),this.eth_requestAccounts=jest.fn(e=>e)}request(e){if(!this.chainId)return Promise.reject(new Error);switch(e.method){case"eth_chainId":return Promise.resolve(this.eth_chainId(this.chainId));case"eth_accounts":return Promise.resolve(this.eth_accounts(this.accounts));case"eth_requestAccounts":return Promise.resolve(this.eth_requestAccounts(this.accounts));default:throw new Error(`Method not supported on mock: ${JSON.stringify(e)}`)}}emitConnect(e){this.emit("connect",{chainId:e})}emitDisconnect(e){this.emit("disconnect",e)}emitChainChanged(e){this.emit("chainChanged",e)}emitAccountsChanged(e){this.emit("accountsChanged",e)}}Gu.MockEIP1193Provider=BA;var Qo={},FA=me&&me.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),UA=me&&me.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zA=me&&me.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&FA(e,t,r);return UA(e,t),e};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.useWeb3React=Qo.Web3ReactProvider=void 0;const pu=zA(z),HA=Rn,$y=(0,pu.createContext)(void 0);function qA({children:t,connectors:e,connectorOverride:r,network:n,lookupENS:i=!0}){const o=(0,pu.useRef)(e);if(e.length!=o.current.length||e.some((te,ie)=>{const Ae=o.current[ie];return te[0]!==Ae[0]}))throw new Error("The connectors prop passed to Web3ReactProvider must be referentially static. If connectors is changing, try providing a key prop to Web3ReactProvider that changes every time connectors changes.");const s=(0,HA.getPriorityConnector)(...e),{usePriorityConnector:a,useSelectedChainId:l,useSelectedAccounts:u,useSelectedIsActivating:c,useSelectedAccount:h,useSelectedIsActive:p,useSelectedProvider:g,useSelectedENSNames:v,useSelectedENSName:E}=s,C=a(),w=r??C,b=l(w),x=u(w),R=c(w),D=h(w),j=p(w),H=g(w,n),$=v(w,i?H:void 0),Y=E(w,i?H:void 0);return pu.default.createElement($y.Provider,{value:{connector:w,chainId:b,accounts:x,isActivating:R,account:D,isActive:j,provider:H,ENSNames:$,ENSName:Y,hooks:s}},t)}Qo.Web3ReactProvider=qA;function $A(){const t=(0,pu.useContext)($y);if(!t)throw Error("useWeb3React can only be used within the Web3ReactProvider component");return t}Qo.useWeb3React=$A;(function(t){var e=me&&me.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=me&&me.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Rn,t),r(Gu,t),r(Qo,t)})(vr);const Wy=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"claimedBitMap",inputs:[{name:"",type:"uint256",internalType:"uint256"},{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"deposit",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"isClaimed",inputs:[{name:"withdrawRootIndex",type:"uint256",internalType:"uint256"},{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"postBatch",inputs:[{name:"_withdrawRoot",type:"bytes32",internalType:"bytes32"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"rug",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"sequencer",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"withdraw",inputs:[{name:"withdrawRootIndex",type:"uint256",internalType:"uint256"},{name:"index",type:"uint256",internalType:"uint256"},{name:"account",type:"address",internalType:"address"},{name:"amount",type:"uint256",internalType:"uint256"},{name:"merkleProof",type:"bytes32[]",internalType:"bytes32[]"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawRoots",inputs:[{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"event",name:"BatchPosted",inputs:[{name:"withdrawRootIndex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"withdrawRoot",type:"bytes32",indexed:!1,internalType:"bytes32"}],anonymous:!1},{type:"event",name:"Deposit",inputs:[{name:"sender",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Withdraw",inputs:[{name:"withdrawRootIndex",type:"uint256",indexed:!1,internalType:"uint256"},{name:"index",type:"uint256",indexed:!1,internalType:"uint256"},{name:"account",type:"address",indexed:!1,internalType:"address"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1},{type:"error",name:"AlreadyClaimed",inputs:[]},{type:"error",name:"InvalidProof",inputs:[]}];var qd=(t=>(t[t.SEPOLIA=0]="SEPOLIA",t[t.MAINNET=1]="MAINNET",t))(qd||{});const zi={chain:1,rpc:{sepolia:"https://sepolia.infura.io/v3/",mainnet:"https://mainnet.infura.io/v3/",optimism:"https://mainnet.optimism.io/v1/"}},Gy=1,Ky=10,Vy=11155111,WA=zi.chain===qd.SEPOLIA?Vy:Gy;zi.chain===qd.SEPOLIA?zi.rpc.sepolia:zi.rpc.mainnet;const GA={[Vy]:zi.rpc.sepolia,[Gy]:zi.rpc.mainnet,[Ky]:zi.rpc.optimism},KA="https://metamask.io/",gu={[Ky]:"0x24E063a827CB134315aC57A380446c8bF5418555"},VA=()=>{let{account:t,provider:e,chainId:r}=vr.useWeb3React();const[n,i]=z.useState(0),o=z.useCallback(async s=>{s.preventDefault();try{if(!t||!e||!r){window.alert("Ethereum wallet is not connected");return}if(!gu[r]){window.alert("Please connect to Optimism mainnet");return}const l=await new gy(gu[r],Wy,e.getSigner()).deposit({value:K.from(n)});console.log("receipt",l)}catch(a){console.error(a)}},[t,e,n,i]);return N.jsxs("div",{children:[N.jsx("h4",{className:"m-2",children:"Bridge ETH (value in WEI) from Optimism"}),N.jsx("div",{className:"flex flex-col overflow-auto",children:N.jsxs("form",{onSubmit:o,className:"flex place-items-center self-stretch",children:[N.jsx("input",{type:"text",className:"grow self-stretch",value:n,onChange:s=>i(Number(s.target.value))}),N.jsx("button",{type:"submit",className:"w-1/2 self-stretch",children:"Bridge"})]})})]})},QA=({baseUrl:t})=>{let{account:e,provider:r}=vr.useWeb3React();const[n,i]=z.useState(0),{nonces:o}=qn(),s=z.useCallback(async a=>{a.preventDefault();try{if(!e||!r){window.alert("Ethereum wallet is not connected");return}let l={data:{WithdrawTokens:K.from(n).toHexString().replace(/^0x0+/,"0x")},nonce:o[e.toLowerCase()]?K.from(o[e.toLowerCase()]++).toHexString().replace(/^0x0+/,"0x"):"0x0"};const u=await r.getSigner().signMessage(JSON.stringify(l)),{v:c,r:h,s:p}=gn(u);let g={pub_key:e,sig:{r:h,s:p,v:c},tx:l};const v=await fetch(`${t}/rpc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});console.log("receipt",v)}catch(l){console.error(l)}},[e,r,n]);return N.jsxs("div",{children:[N.jsx("h4",{className:"m-2",children:"Initiate Withdraw of Tokens from Rollup"}),N.jsx("div",{className:"flex flex-col overflow-auto",children:N.jsxs("form",{onSubmit:s,className:"flex place-items-center self-stretch",children:[N.jsx("input",{type:"text",className:"grow",value:n,onChange:a=>i(Number(a.target.value))}),N.jsx("button",{type:"submit",className:"w-1/2 self-stretch",children:"Initiate Withdraw"})]})})]})},JA=()=>{let{account:t,provider:e,chainId:r}=vr.useWeb3React();const{batches:n}=qn(),i=z.useCallback(async(s,a,l,u)=>{try{if(!t||!e||!r){window.alert("Ethereum wallet is not connected");return}if(!gu[r]){window.alert("Please connect to Optimism mainnet");return}const h=await new gy(gu[r],Wy,e.getSigner()).withdraw(s,a,t,l,u);console.log("receipt",h)}catch(c){console.error(c)}},[t,e,r]);if(!t)return N.jsx(N.Fragment,{});let o={};return n.forEach((s,a)=>{Object.keys(s.claims).forEach(l=>{l===t.toLowerCase()&&(o[a]=s.claims[l])})}),console.log(o),o?N.jsx(N.Fragment,{children:Object.keys(o).map((s,a)=>{const{index:l,amount:u,proof:c}=o[s];return N.jsx("button",{onClick:h=>i(s,l,u,c),children:`Withdraw ${u} tokens`},a)})}):N.jsx(N.Fragment,{})};var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});var Qy=Oa.Connector=void 0;class YA{constructor(e,r){this.actions=e,this.onError=r}resetState(){this.actions.resetState()}}Qy=Oa.Connector=YA;var pa={},sf,xg;function XA(){if(xg)return sf;xg=1;function t({mustBeMetaMask:e=!1,silent:r=!1,timeout:n=3e3}={}){o();let i=!1;return new Promise(s=>{window.ethereum?a():(window.addEventListener("ethereum#initialized",a,{once:!0}),setTimeout(()=>{a()},n));function a(){if(i)return;i=!0,window.removeEventListener("ethereum#initialized",a);const{ethereum:l}=window;l&&(!e||l.isMetaMask)?s(l):(!r&&console.error("@metamask/detect-provider:",e&&l?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum."),s(null))}});function o(){if(typeof e!="boolean")throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if(typeof r!="boolean")throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if(typeof n!="number")throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}return sf=t,sf}var ZA=me&&me.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ek=me&&me.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tk=me&&me.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ZA(e,t,r);return ek(e,t),e},ao=me&&me.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(pa,"__esModule",{value:!0});var Jy=pa.MetaMask=pa.NoMetaMaskError=void 0;const rk=Oa;class ga extends Error{constructor(){super("MetaMask not installed"),this.name=ga.name,Object.setPrototypeOf(this,ga.prototype)}}pa.NoMetaMaskError=ga;function sl(t){return Number.parseInt(t,16)}class nk extends rk.Connector{constructor({actions:e,options:r,onError:n}){super(e,n),this.options=r}isomorphicInitialize(){return ao(this,void 0,void 0,function*(){if(!this.eagerConnection)return this.eagerConnection=Promise.resolve().then(()=>tk(XA())).then(e=>ao(this,void 0,void 0,function*(){var r,n;const i=yield e.default(this.options);i&&(this.provider=i,!((r=this.provider.providers)===null||r===void 0)&&r.length&&(this.provider=(n=this.provider.providers.find(o=>o.isMetaMask))!==null&&n!==void 0?n:this.provider.providers[0]),this.provider.on("connect",({chainId:o})=>{this.actions.update({chainId:sl(o)})}),this.provider.on("disconnect",o=>{var s;if(o.code===1013){console.debug('MetaMask logged connection error 1013: "Try again later"');return}this.actions.resetState(),(s=this.onError)===null||s===void 0||s.call(this,o)}),this.provider.on("chainChanged",o=>{this.actions.update({chainId:sl(o)})}),this.provider.on("accountsChanged",o=>{o.length===0?this.actions.resetState():this.actions.update({accounts:o})}))}))})}connectEagerly(){return ao(this,void 0,void 0,function*(){const e=this.actions.startActivation();try{if(yield this.isomorphicInitialize(),!this.provider)return e();const r=yield this.provider.request({method:"eth_accounts"});if(!r.length)throw new Error("No accounts returned");const n=yield this.provider.request({method:"eth_chainId"});this.actions.update({chainId:sl(n),accounts:r})}catch(r){console.debug("Could not connect eagerly",r),this.actions.resetState()}})}activate(e){var r,n;return ao(this,void 0,void 0,function*(){let i;return!((n=(r=this.provider)===null||r===void 0?void 0:r.isConnected)===null||n===void 0)&&n.call(r)||(i=this.actions.startActivation()),this.isomorphicInitialize().then(()=>ao(this,void 0,void 0,function*(){if(!this.provider)throw new ga;const o=yield this.provider.request({method:"eth_requestAccounts"}),s=yield this.provider.request({method:"eth_chainId"}),a=sl(s),l=typeof e=="number"?e:e==null?void 0:e.chainId;if(!l||a===l)return this.actions.update({chainId:a,accounts:o});const u=`0x${l.toString(16)}`;return this.provider.request({method:"wallet_switchEthereumChain",params:[{chainId:u}]}).catch(c=>{var h,p;if((((p=(h=c.data)===null||h===void 0?void 0:h.originalError)===null||p===void 0?void 0:p.code)||c.code)===4902&&typeof e!="number"){if(!this.provider)throw new Error("No provider");return this.provider.request({method:"wallet_addEthereumChain",params:[Object.assign(Object.assign({},e),{chainId:u})]})}throw c}).then(()=>this.activate(l))})).catch(o=>{throw i==null||i(),o})})}watchAsset({address:e,symbol:r,decimals:n,image:i}){return ao(this,void 0,void 0,function*(){if(!this.provider)throw new Error("No provider");return this.provider.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e,symbol:r,decimals:n,image:i}}}).then(o=>{if(!o)throw new Error("Rejected");return!0})})}}Jy=pa.MetaMask=nk;function ik(){const[t,e]=vr.initializeConnector(n=>new Jy({actions:n,onError:mk}));return{connector:t,hooks:e,type:Xi.INJECTED}}var $d={},Ku={},ok=me&&me.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.getBestProvider=void 0;function sk(t,e=5e3){return ok(this,void 0,void 0,function*(){return t.length===1?t[0]:new Promise(r=>{let n=!1;const i={};t.forEach((o,s)=>{new Promise((l,u)=>{o.getNetwork().then(()=>l()).catch(()=>u()),setTimeout(()=>{u()},e)}).then(()=>!0).catch(()=>!1).then(l=>{if(!n){if(i[s]=l,Object.keys(i).length===t.length){const u=Object.keys(i).findIndex(c=>i[Number(c)]);return r(t[u===-1?0:u])}new Array(t.length).fill(0).forEach((u,c)=>{i[c]&&new Array(c).fill(0).every((h,p)=>i[p]===!1)&&(n=!0,r(t[c]))})}})})})})}Ku.getBestProvider=sk;var ak=me&&me.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lk=me&&me.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uk=me&&me.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ak(e,t,r);return lk(e,t),e},af=me&&me.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty($d,"__esModule",{value:!0});var Yy=$d.Network=void 0;const ck=Oa,fk=Ku;function lf(t){return typeof t=="string"||"url"in t&&!("connection"in t)}class hk extends ck.Connector{constructor({actions:e,urlMap:r,defaultChainId:n=Number(Object.keys(r)[0]),timeout:i=5e3}){super(e),this.providerCache={},this.urlMap=Object.keys(r).reduce((o,s)=>{const a=r[Number(s)];return Array.isArray(a)?o[Number(s)]=a:o[Number(s)]=lf(a)?[a]:[a],o},{}),this.defaultChainId=n,this.timeout=i}isomorphicInitialize(e){return af(this,void 0,void 0,function*(){if(this.providerCache[e])return this.providerCache[e];const r=this.urlMap[e];return r.length===1&&!lf(r[0])?this.providerCache[e]=Promise.resolve(r[0]):this.providerCache[e]=Promise.resolve().then(()=>uk(zy)).then(({JsonRpcProvider:n})=>{const i=r.map(o=>lf(o)?new n(o,e):o);return(0,fk.getBestProvider)(i,this.timeout)})})}activate(e=this.defaultChainId){return af(this,void 0,void 0,function*(){let r;return this.providerCache[e]||(r=this.actions.startActivation()),this.isomorphicInitialize(e).then(n=>af(this,void 0,void 0,function*(){this.customProvider=n;const{chainId:i}=yield this.customProvider.getNetwork();this.actions.update({chainId:i,accounts:[]})})).catch(n=>{throw r==null||r(),n})})}}Yy=$d.Network=hk;function dk(){const[t,e]=vr.initializeConnector(n=>new Yy({actions:n,urlMap:GA,defaultChainId:WA}));return{connector:t,hooks:e,type:Xi.NETWORK}}var Xi=(t=>(t.INJECTED="INJECTED",t.NETWORK="NETWORK",t))(Xi||{});function pk(){var t;return((t=window.ethereum)==null?void 0:t.isBraveWallet)??!1}function gk(){var t;return(((t=window.ethereum)==null?void 0:t.isMetaMask)??!1)&&!pk()}function mk(t){console.debug(`web3-react error: ${t}`)}const Ol={INJECTED:ik(),NETWORK:dk()};function ma(t){if(t instanceof Qy){const e=Object.values(Ol).find(r=>r.connector===t);if(!e)throw Error("Unsupported Connector");return e}else switch(t){case"INJECTED":return Ol.INJECTED;case"NETWORK":return Ol.NETWORK}}const vk=async t=>(await t.activate(),ma(t).type),yk=async t=>{var e;return(e=t.deactivate)==null||e.call(t),t.resetState(),null},wk=({isEnabled:t,isConnected:e,connectionType:r,onActivate:n,onDeactivate:i})=>{const o=async()=>{if(e){const a=await yk(ma(r).connector);if(a===void 0)return;i(a);return}const s=await vk(ma(r).connector);s&&n(s)};return N.jsx("div",{children:N.jsx("button",{onClick:o,disabled:!t,children:e?"Disconnect":"Connect"})})},bk=({activeConnectionType:t,isConnectionActive:e,onActivate:r,onDeactivate:n})=>{function i(o){const s=gk(),a=!o||o&&t===null,l=s?N.jsx(wk,{isEnabled:a||t===Xi.INJECTED,isConnected:e,connectionType:Xi.INJECTED,onActivate:r,onDeactivate:n}):N.jsx("a",{href:KA,children:N.jsx("button",{children:"Install Metamask"})});return N.jsx(N.Fragment,{children:l})}return N.jsx("div",{className:"connectors",children:i(e)})},Ek=()=>{let{account:t,isActive:e}=vr.useWeb3React(),{balances:r}=qn();const[n,i]=z.useState(null);return N.jsx("nav",{className:"flex place-items-center place-content-center grow mx-10",children:N.jsxs("div",{className:"flex justify-between grow",children:[N.jsxs("div",{className:"py-5 px-3 grow flex place-items-center",children:[N.jsxs("h1",{className:"display",children:["Kinode",N.jsx("span",{className:"text-xs self-end",children:""})]}),N.jsx("h1",{className:"mx-auto",children:"ZK Chess"})]}),N.jsx("div",{className:"py-5 px-3",children:N.jsx("code",{children:t})}),t&&N.jsx("div",{className:"py-5 px-3",children:N.jsx("code",{children:r[t.toLowerCase()]&&`${K.from(r[t.toLowerCase()])} WEI`})}),N.jsx("div",{className:"py-5 px-3 flex items-center",children:N.jsx(bk,{activeConnectionType:n,isConnectionActive:e,onActivate:i,onDeactivate:i})})]})})},xk=({baseUrl:t})=>{let{account:e,provider:r}=vr.useWeb3React();const{nonces:n}=qn(),[i,o]=z.useState("0x6de4ff647646d9faaf1e40dcddf6ad231f696af6"),[s,a]=z.useState(4),l=z.useCallback(async u=>{u.preventDefault();try{if(!e||!r){window.alert("Ethereum wallet is not connected");return}let c={data:{Extension:{ProposeGame:{white:e.toLowerCase(),black:i.toLowerCase(),wager:K.from(s).toHexString().replace(/^0x0+/,"0x")}}},nonce:n[e.toLowerCase()]?K.from(n[e.toLowerCase()]++).toHexString().replace(/^0x0+/,"0x"):"0x0"};const h=await r.getSigner().signMessage(JSON.stringify(c)),{v:p,r:g,s:v}=gn(h);let E={pub_key:e,sig:{r:g,s:v,v:p},tx:c};const C=await fetch(`${t}/rpc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});console.log("receipt",C)}catch(c){console.error(c)}},[e,r,i,s]);return N.jsxs("div",{children:[N.jsx("h4",{className:"m-2",children:"Propose Game"}),N.jsx("div",{className:"flex flex-col overflow-auto",children:N.jsxs("form",{onSubmit:l,className:"flex flex-col",children:[N.jsxs("div",{className:"flex",children:[N.jsx("input",{type:"text",placeholder:"opponent",value:i,onChange:u=>o(u.target.value),className:"w-3/4"}),N.jsx("input",{type:"text",value:s,onChange:u=>a(Number(u.target.value)),className:"w-1/4"})]}),N.jsx("button",{type:"submit",className:"mt-2",children:"Propose Game"})]})})]})},_k=({baseUrl:t})=>{let{account:e,provider:r}=vr.useWeb3React();const{nonces:n}=qn(),[i,o]=z.useState("0x6de4ff647646d9faaf1e40dcddf6ad231f696af6"),[s,a]=z.useState(4),l=z.useCallback(async u=>{if(u.preventDefault(),!e||!r){console.log("account",e),console.log("provider",r),console.error("Ethereum wallet is not connected");return}try{let c={data:{Transfer:{from:e.toLowerCase(),to:i.toLowerCase(),amount:K.from(s).toHexString().replace(/^0x0+/,"0x")}},nonce:n[e.toLowerCase()]?K.from(n[e.toLowerCase()]++).toHexString().replace(/^0x0+/,"0x"):"0x0"};const h=await r.getSigner().signMessage(JSON.stringify(c)),{v:p,r:g,s:v}=gn(h);let E={pub_key:e,sig:{r:g,s:v,v:p},tx:c};const C=await fetch(`${t}/rpc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});console.log("receipt",C)}catch(c){console.error(c)}},[e,r,s,i,a,o]);return N.jsxs("div",{children:[N.jsx("h4",{className:"m-2",children:"Transfer"}),N.jsx("div",{className:"flex flex-col overflow-auto",children:N.jsxs("form",{onSubmit:l,className:"flex flex-col",children:[N.jsxs("div",{className:"flex",children:[N.jsx("input",{type:"text",placeholder:"to",value:i,onChange:u=>o(u.target.value),className:"w-3/4"}),N.jsx("input",{type:"text",value:s,className:"w-1/4",onChange:u=>a(Number(u.target.value))})]}),N.jsx("button",{type:"submit",className:"mt-2",children:"Transfer"})]})})]})};function Sk(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}const Xy=z.createContext({dragDropManager:void 0});function Er(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var _g=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),uf=function(){return Math.random().toString(36).substring(7).split("").join(".")},Sg={INIT:"@@redux/INIT"+uf(),REPLACE:"@@redux/REPLACE"+uf(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+uf()}};function Ak(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Zy(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Er(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Er(1));return r(Zy)(t,e)}if(typeof t!="function")throw new Error(Er(2));var i=t,o=e,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(Er(3));return o}function h(E){if(typeof E!="function")throw new Error(Er(4));if(l)throw new Error(Er(5));var C=!0;return u(),a.push(E),function(){if(C){if(l)throw new Error(Er(6));C=!1,u();var b=a.indexOf(E);a.splice(b,1),s=null}}}function p(E){if(!Ak(E))throw new Error(Er(7));if(typeof E.type>"u")throw new Error(Er(8));if(l)throw new Error(Er(9));try{l=!0,o=i(o,E)}finally{l=!1}for(var C=s=a,w=0;w<C.length;w++){var b=C[w];b()}return E}function g(E){if(typeof E!="function")throw new Error(Er(10));i=E,p({type:Sg.REPLACE})}function v(){var E,C=h;return E={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(Er(11));function x(){b.next&&b.next(c())}x();var R=C(x);return{unsubscribe:R}}},E[_g]=function(){return this},E}return p({type:Sg.INIT}),n={dispatch:p,subscribe:h,getState:c,replaceReducer:g},n[_g]=v,n}function ue(t,e,...r){if(kk()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(e.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function kk(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function Ck(t,e,r){return e.split(".").reduce((n,i)=>n&&n[i]?n[i]:r||null,t)}function Nk(t,e){return t.filter(r=>r!==e)}function ew(t){return typeof t=="object"}function Pk(t,e){const r=new Map,n=o=>{r.set(o,r.has(o)?r.get(o)+1:1)};t.forEach(n),e.forEach(n);const i=[];return r.forEach((o,s)=>{o===1&&i.push(s)}),i}function Tk(t,e){return t.filter(r=>e.indexOf(r)>-1)}const Wd="dnd-core/INIT_COORDS",Vu="dnd-core/BEGIN_DRAG",Gd="dnd-core/PUBLISH_DRAG_SOURCE",Qu="dnd-core/HOVER",Ju="dnd-core/DROP",Yu="dnd-core/END_DRAG";function Ag(t,e){return{type:Wd,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const Ok={type:Wd,payload:{clientOffset:null,sourceClientOffset:null}};function Ik(t){return function(r=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:o,getSourceClientOffset:s}=n,a=t.getMonitor(),l=t.getRegistry();t.dispatch(Ag(o)),Mk(r,a,l);const u=Lk(r,a);if(u==null){t.dispatch(Ok);return}let c=null;if(o){if(!s)throw new Error("getSourceClientOffset must be defined");Rk(s),c=s(u)}t.dispatch(Ag(o,c));const p=l.getSource(u).beginDrag(a,u);if(p==null)return;Dk(p),l.pinSource(u);const g=l.getSourceType(u);return{type:Vu,payload:{itemType:g,item:p,sourceId:u,clientOffset:o||null,sourceClientOffset:c||null,isSourcePublic:!!i}}}}function Mk(t,e,r){ue(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){ue(r.getSource(n),"Expected sourceIds to be registered.")})}function Rk(t){ue(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Dk(t){ue(ew(t),"Item must be an object.")}function Lk(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function jk(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){jk(t,i,r[i])})}return t}function Fk(t){return function(r={}){const n=t.getMonitor(),i=t.getRegistry();Uk(n),qk(n).forEach((s,a)=>{const l=zk(s,a,i,n),u={type:Ju,payload:{dropResult:Bk({},r,l)}};t.dispatch(u)})}}function Uk(t){ue(t.isDragging(),"Cannot call drop while not dragging."),ue(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function zk(t,e,r,n){const i=r.getTarget(t);let o=i?i.drop(n,t):void 0;return Hk(o),typeof o>"u"&&(o=e===0?{}:n.getDropResult()),o}function Hk(t){ue(typeof t>"u"||ew(t),"Drop result must either be an object or undefined.")}function qk(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function $k(t){return function(){const r=t.getMonitor(),n=t.getRegistry();Wk(r);const i=r.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(r,i),n.unpinSource()),{type:Yu}}}function Wk(t){ue(t.isDragging(),"Cannot call endDrag while not dragging.")}function kh(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function Gk(t){return function(r,{clientOffset:n}={}){Kk(r);const i=r.slice(0),o=t.getMonitor(),s=t.getRegistry(),a=o.getItemType();return Qk(i,s,a),Vk(i,o,s),Jk(i,o,s),{type:Qu,payload:{targetIds:i,clientOffset:n||null}}}}function Kk(t){ue(Array.isArray(t),"Expected targetIds to be an array.")}function Vk(t,e,r){ue(e.isDragging(),"Cannot call hover while not dragging."),ue(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const i=t[n];ue(t.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const o=r.getTarget(i);ue(o,"Expected targetIds to be registered.")}}function Qk(t,e,r){for(let n=t.length-1;n>=0;n--){const i=t[n],o=e.getTargetType(i);kh(o,r)||t.splice(n,1)}}function Jk(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function Yk(t){return function(){if(t.getMonitor().isDragging())return{type:Gd}}}function Xk(t){return{beginDrag:Ik(t),publishDragSource:Yk(t),hover:Gk(t),drop:Fk(t),endDrag:$k(t)}}class Zk{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(o){return(...s)=>{const a=o.apply(e,s);typeof a<"u"&&r(a)}}const i=Xk(this);return Object.keys(i).reduce((o,s)=>{const a=i[s];return o[s]=n(a),o},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function e5(t,e){return{x:t.x+e.x,y:t.y+e.y}}function tw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function t5(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:tw(e5(e,n),r)}function r5(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:tw(e,r)}const Us=[],Kd=[];Us.__IS_NONE__=!0;Kd.__IS_ALL__=!0;function n5(t,e){return t===Us?!1:t===Kd||typeof e>"u"?!0:Tk(e,t).length>0}class i5{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;ue(typeof e=="function","listener must be a function."),ue(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const o=()=>{const s=this.store.getState(),a=s.stateId;try{a===i||a===i+1&&!n5(s.dirtyHandlerIds,n)||e()}finally{i=a}};return this.store.subscribe(o)}subscribeToOffsetChange(e){ue(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==r&&(r=i,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return ue(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(ue(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();return kh(n,i)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(ue(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),i=this.getItemType();return n!==i?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),o=this.getItemType();if(o&&!kh(i,o))return!1;const s=this.getTargetIds();if(!s.length)return!1;const a=s.indexOf(e);return n?a===s.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return t5(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return r5(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const kg=typeof global<"u"?global:self,rw=kg.MutationObserver||kg.WebKitMutationObserver;function nw(t){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),t()}}}function o5(t){let e=1;const r=new rw(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const s5=typeof rw=="function"?o5:nw;class a5{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=s5(this.flush),this.requestErrorThrow=nw(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class l5{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class u5{create(e){const r=this.freeTasks,n=r.length?r.pop():new l5(this.onError,i=>r[r.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const iw=new a5,c5=new u5(iw.registerPendingError);function f5(t){iw.enqueueTask(c5.create(t))}const Vd="dnd-core/ADD_SOURCE",Qd="dnd-core/ADD_TARGET",Jd="dnd-core/REMOVE_SOURCE",Xu="dnd-core/REMOVE_TARGET";function h5(t){return{type:Vd,payload:{sourceId:t}}}function d5(t){return{type:Qd,payload:{targetId:t}}}function p5(t){return{type:Jd,payload:{sourceId:t}}}function g5(t){return{type:Xu,payload:{targetId:t}}}function m5(t){ue(typeof t.canDrag=="function","Expected canDrag to be a function."),ue(typeof t.beginDrag=="function","Expected beginDrag to be a function."),ue(typeof t.endDrag=="function","Expected endDrag to be a function.")}function v5(t){ue(typeof t.canDrop=="function","Expected canDrop to be a function."),ue(typeof t.hover=="function","Expected hover to be a function."),ue(typeof t.drop=="function","Expected beginDrag to be a function.")}function Ch(t,e){if(e&&Array.isArray(t)){t.forEach(r=>Ch(r,!1));return}ue(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var kr;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(kr||(kr={}));let y5=0;function w5(){return y5++}function b5(t){const e=w5().toString();switch(t){case kr.SOURCE:return`S${e}`;case kr.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Cg(t){switch(t[0]){case"S":return kr.SOURCE;case"T":return kr.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function Ng(t,e){const r=t.entries();let n=!1;do{const{done:i,value:[,o]}=r.next();if(o===e)return!0;n=!!i}while(!n);return!1}class E5{addSource(e,r){Ch(e),m5(r);const n=this.addHandler(kr.SOURCE,e,r);return this.store.dispatch(h5(n)),n}addTarget(e,r){Ch(e,!0),v5(r);const n=this.addHandler(kr.TARGET,e,r);return this.store.dispatch(d5(n)),n}containsHandler(e){return Ng(this.dragSources,e)||Ng(this.dropTargets,e)}getSource(e,r=!1){return ue(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return ue(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return ue(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return ue(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Cg(e)===kr.SOURCE}isTargetId(e){return Cg(e)===kr.TARGET}removeSource(e){ue(this.getSource(e),"Expected an existing source."),this.store.dispatch(p5(e)),f5(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){ue(this.getTarget(e),"Expected an existing target."),this.store.dispatch(g5(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);ue(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){ue(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const i=b5(e);return this.types.set(i,r),e===kr.SOURCE?this.dragSources.set(i,n):e===kr.TARGET&&this.dropTargets.set(i,n),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const x5=(t,e)=>t===e;function _5(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function S5(t,e,r=x5){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function A5(t=Us,e){switch(e.type){case Qu:break;case Vd:case Qd:case Xu:case Jd:return Us;case Vu:case Gd:case Yu:case Ju:default:return Kd}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,i=Pk(r,n);if(!(i.length>0||!S5(r,n)))return Us;const s=n[n.length-1],a=r[r.length-1];return s!==a&&(s&&i.push(s),a&&i.push(a)),i}function k5(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){k5(t,i,r[i])})}return t}const Pg={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function N5(t=Pg,e){const{payload:r}=e;switch(e.type){case Wd:case Vu:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Qu:return _5(t.clientOffset,r.clientOffset)?t:C5({},t,{clientOffset:r.clientOffset});case Yu:case Ju:return Pg;default:return t}}function P5(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){P5(t,i,r[i])})}return t}const T5={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function O5(t=T5,e){const{payload:r}=e;switch(e.type){case Vu:return lo({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Gd:return lo({},t,{isSourcePublic:!0});case Qu:return lo({},t,{targetIds:r.targetIds});case Xu:return t.targetIds.indexOf(r.targetId)===-1?t:lo({},t,{targetIds:Nk(t.targetIds,r.targetId)});case Ju:return lo({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Yu:return lo({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function I5(t=0,e){switch(e.type){case Vd:case Qd:return t+1;case Jd:case Xu:return t-1;default:return t}}function M5(t=0){return t+1}function R5(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){R5(t,i,r[i])})}return t}function L5(t={},e){return{dirtyHandlerIds:A5(t.dirtyHandlerIds,{type:e.type,payload:D5({},e.payload,{prevTargetIds:Ck(t,"dragOperation.targetIds",[])})}),dragOffset:N5(t.dragOffset,e),refCount:I5(t.refCount,e),dragOperation:O5(t.dragOperation,e),stateId:M5(t.stateId)}}function j5(t,e=void 0,r={},n=!1){const i=B5(n),o=new i5(i,new E5(i)),s=new Zk(i,o),a=t(s,e,r);return s.receiveBackend(a),s}function B5(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Zy(L5,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function F5(t,e){if(t==null)return{};var r=U5(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function U5(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}let Tg=0;const Il=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var z5=z.memo(function(e){var{children:r}=e,n=F5(e,["children"]);const[i,o]=H5(n);return z.useEffect(()=>{if(o){const s=ow();return++Tg,()=>{--Tg===0&&(s[Il]=null)}}},[]),N.jsx(Xy.Provider,{value:i,children:r})});function H5(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=q5(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function q5(t,e=ow(),r,n){const i=e;return i[Il]||(i[Il]={dragDropManager:j5(t,e,r,n)}),i[Il]}function ow(){return typeof global<"u"?global:window}var $5=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const Zi=typeof window<"u"?z.useLayoutEffect:z.useEffect;function sw(t,e,r){const[n,i]=z.useState(()=>e(t)),o=z.useCallback(()=>{const s=e(t);$5(n,s)||(i(s),r&&r())},[n,t,r]);return Zi(o),[n,o]}function W5(t,e,r){const[n,i]=sw(t,e,r);return Zi(function(){const s=t.getHandlerId();if(s!=null)return t.subscribeToStateChange(i,{handlerIds:[s]})},[t,i]),n}function aw(t,e,r){return W5(e,t||(()=>({})),()=>r.reconnect())}function lw(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),z.useMemo(()=>typeof t=="function"?t():t,r)}function G5(t){return z.useMemo(()=>t.hooks.dragSource(),[t])}function K5(t){return z.useMemo(()=>t.hooks.dragPreview(),[t])}let cf=!1,ff=!1;class V5{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){ue(!cf,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return cf=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{cf=!1}}isDragging(){if(!this.sourceId)return!1;ue(!ff,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ff=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{ff=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let hf=!1;class Q5{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;ue(!hf,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return hf=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{hf=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function J5(t,e,r){const n=r.getRegistry(),i=n.addTarget(t,e);return[i,()=>n.removeTarget(i)]}function Y5(t,e,r){const n=r.getRegistry(),i=n.addSource(t,e);return[i,()=>n.removeSource(i)]}function Nh(t,e,r,n){let i=r?r.call(n,t,e):void 0;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const o=Object.keys(t),s=Object.keys(e);if(o.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<o.length;l++){const u=o[l];if(!a(u))return!1;const c=t[u],h=e[u];if(i=r?r.call(n,c,h,u):void 0,i===!1||i===void 0&&c!==h)return!1}return!0}function Ph(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function X5(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Z5(t){return(e=null,r=null)=>{if(!z.isValidElement(e)){const o=e;return t(o,r),o}const n=e;return X5(n),eC(n,r?o=>t(o,r):t)}}function uw(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const i=Z5(n);e[r]=()=>i}}),e}function Og(t,e){typeof t=="function"?t(e):t.current=e}function eC(t,e){const r=t.ref;return ue(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?z.cloneElement(t,{ref:n=>{Og(r,n),Og(e,n)}}):z.cloneElement(t,{ref:e})}class tC{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Nh(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Nh(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=uw({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,Ph(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,Ph(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class rC{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Nh(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=uw({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,Ph(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function io(){const{dragDropManager:t}=z.useContext(Xy);return ue(t!=null,"Expected drag drop context"),t}function nC(t,e){const r=io(),n=z.useMemo(()=>new tC(r.getBackend()),[r]);return Zi(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),Zi(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function iC(){const t=io();return z.useMemo(()=>new V5(t),[t])}class oC{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,i=this.monitor,{isDragging:o}=n;return o?o(i):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:i}=e;i&&i(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function sC(t,e,r){const n=z.useMemo(()=>new oC(t,e,r),[e,r]);return z.useEffect(()=>{n.spec=t},[t]),n}function aC(t){return z.useMemo(()=>{const e=t.type;return ue(e!=null,"spec.type must be defined"),e},[t])}function lC(t,e,r){const n=io(),i=sC(t,e,r),o=aC(t);Zi(function(){if(o!=null){const[a,l]=Y5(o,i,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),l}},[n,e,r,i,o])}function uC(t,e){const r=lw(t,e);ue(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=iC(),i=nC(r.options,r.previewOptions);return lC(r,n,i),[aw(r.collect,n,i),G5(i),K5(i)]}function cC(t){const r=io().getMonitor(),[n,i]=sw(r,t);return z.useEffect(()=>r.subscribeToOffsetChange(i)),z.useEffect(()=>r.subscribeToStateChange(i)),n}function fC(t){return z.useMemo(()=>t.hooks.dropTarget(),[t])}function hC(t){const e=io(),r=z.useMemo(()=>new rC(e.getBackend()),[e]);return Zi(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function dC(){const t=io();return z.useMemo(()=>new Q5(t),[t])}function pC(t){const{accept:e}=t;return z.useMemo(()=>(ue(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class gC{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function mC(t,e){const r=z.useMemo(()=>new gC(t,e),[e]);return z.useEffect(()=>{r.spec=t},[t]),r}function vC(t,e,r){const n=io(),i=mC(t,e),o=pC(t);Zi(function(){const[a,l]=J5(o,i,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),l},[n,e,i,r,o.map(s=>s.toString()).join("|")])}function yC(t,e){const r=lw(t,e),n=dC(),i=hC(r.options);return vC(r,n,i),[aw(r.collect,n,i),fC(i)]}function cw(t){let e=null;return()=>(e==null&&(e=t()),e)}function wC(t,e){return t.filter(r=>r!==e)}function bC(t,e){const r=new Set,n=o=>r.add(o);t.forEach(n),e.forEach(n);const i=[];return r.forEach(o=>i.push(o)),i}class EC{enter(e){const r=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=bC(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=wC(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class xC{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(r[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const fw="__NATIVE_FILE__",hw="__NATIVE_URL__",dw="__NATIVE_TEXT__",pw="__NATIVE_HTML__";var Ig=Object.freeze({__proto__:null,FILE:fw,HTML:pw,TEXT:dw,URL:hw});function df(t,e,r){const n=e.reduce((i,o)=>i||t.getData(o),"");return n??r}const Th={[fw]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[pw]:{exposeProperties:{html:(t,e)=>df(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[hw]:{exposeProperties:{urls:(t,e)=>df(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[dw]:{exposeProperties:{text:(t,e)=>df(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function _C(t,e){const r=Th[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new xC(r);return n.loadDataTransfer(e),n}function pf(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Th).filter(r=>{const n=Th[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const SC=cw(()=>/firefox/i.test(navigator.userAgent)),gw=cw(()=>!!window.safari);class Mg{interpolate(e){const{xs:r,ys:n,c1s:i,c2s:o,c3s:s}=this;let a=r.length-1;if(e===r[a])return n[a];let l=0,u=s.length-1,c;for(;l<=u;){c=Math.floor(.5*(l+u));const g=r[c];if(g<e)l=c+1;else if(g>e)u=c-1;else return n[c]}a=Math.max(0,u);const h=e-r[a],p=h*h;return n[a]+i[a]*h+o[a]*p+s[a]*h*p}constructor(e,r){const{length:n}=e,i=[];for(let g=0;g<n;g++)i.push(g);i.sort((g,v)=>e[g]<e[v]?-1:1);const o=[],s=[];let a,l;for(let g=0;g<n-1;g++)a=e[g+1]-e[g],l=r[g+1]-r[g],o.push(a),s.push(l/a);const u=[s[0]];for(let g=0;g<o.length-1;g++){const v=s[g],E=s[g+1];if(v*E<=0)u.push(0);else{a=o[g];const C=o[g+1],w=a+C;u.push(3*w/((w+C)/v+(w+a)/E))}}u.push(s[s.length-1]);const c=[],h=[];let p;for(let g=0;g<u.length-1;g++){p=s[g];const v=u[g],E=1/o[g],C=v+u[g+1]-p-p;c.push((p-v-C)*E),h.push(C*E*E)}this.xs=e,this.ys=r,this.c1s=u,this.c2s=c,this.c3s=h}}const AC=1;function mw(t){const e=t.nodeType===AC?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function al(t){return{x:t.clientX,y:t.clientY}}function kC(t){var e;return t.nodeName==="IMG"&&(SC()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function CC(t,e,r,n){let i=t?e.width:r,o=t?e.height:n;return gw()&&t&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function NC(t,e,r,n,i){const o=kC(e),a=mw(o?t:e),l={x:r.x-a.x,y:r.y-a.y},{offsetWidth:u,offsetHeight:c}=t,{anchorX:h,anchorY:p}=n,{dragPreviewWidth:g,dragPreviewHeight:v}=CC(o,e,u,c),E=()=>{let j=new Mg([0,.5,1],[l.y,l.y/c*v,l.y+v-c]).interpolate(p);return gw()&&o&&(j+=(window.devicePixelRatio-1)*v),j},C=()=>new Mg([0,.5,1],[l.x,l.x/u*g,l.x+g-u]).interpolate(h),{offsetX:w,offsetY:b}=i,x=w===0||w,R=b===0||b;return{x:x?w:C(),y:R?b:E()}}let PC=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}};function TC(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){TC(t,i,r[i])})}return t}class OC{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const i=s=>this.handleDragStart(s,e),o=s=>this.handleSelectStart(s);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",i),r.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",i),r.removeEventListener("selectstart",o),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=s=>this.handleDragEnter(s,e),i=s=>this.handleDragOver(s,e),o=s=>this.handleDrop(s,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",i),r.addEventListener("drop",o),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",i),r.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return Rg({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return Rg({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Ig).some(r=>Ig[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=_C(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const o=this.sourceNodes.get(i);return o&&mw(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const s=al(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:a}=i,l=pf(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const c=this.monitor.getSourceId(),h=this.sourceNodes.get(c),p=this.sourcePreviewNodes.get(c)||h;if(p){const{anchorX:g,anchorY:v,offsetX:E,offsetY:C}=this.getCurrentSourcePreviewNodeOptions(),x=NC(h,p,s,{anchorX:g,anchorY:v},{offsetX:E,offsetY:C});a.setDragImage(p,x.x,x.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(a&&!a.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:a}=i,l=pf(a);l&&this.beginDragNativeItem(l,a)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,o.length>0&&this.actions.hover(o,{clientOffset:al(i)}),o.some(a=>this.monitor.canDropOnTarget(a))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=al(i),this.scheduleHover(o),(o||[]).some(a=>this.monitor.canDropOnTarget(a))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;i.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}else pf(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:al(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const o=i.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(i.preventDefault(),o.dragDrop()))},this.options=new PC(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new EC(this.isNodeInDocument)}}let ll;function IC(){return ll||(ll=new Image,ll.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),ll}const MC=function(e,r,n){return new OC(e,r,n)};var xi;(function(t){t.mouse="mouse",t.touch="touch",t.keyboard="keyboard"})(xi||(xi={}));class RC{get delay(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0?e:!1}get enableHoverOutsideTarget(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0?e:!1}get enableKeyboardEvents(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0?e:!1}get enableMouseEvents(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0?e:!1}get enableTouchEvents(){var e;return(e=this.args.enableTouchEvents)!==null&&e!==void 0?e:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,r,n,i;return(i=(n=(e=this.args)===null||e===void 0?void 0:e.delayTouchStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&i!==void 0?i:0}get delayMouseStart(){var e,r,n,i;return(i=(n=(e=this.args)===null||e===void 0?void 0:e.delayMouseStart)!==null&&n!==void 0?n:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&i!==void 0?i:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var e;if(!((e=this.context)===null||e===void 0)&&e.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}constructor(e,r){this.args=e,this.context=r}}function DC(t,e,r,n){return Math.sqrt(Math.pow(Math.abs(r-t),2)+Math.pow(Math.abs(n-e),2))}function LC(t,e,r,n,i){if(!i)return!1;const o=Math.atan2(n-e,r-t)*180/Math.PI+180;for(let s=0;s<i.length;++s){const a=i[s];if(a&&(a.start==null||o>=a.start)&&(a.end==null||o<=a.end))return!0}return!1}const jC={Left:1,Right:2,Center:4},BC={Left:0,Center:1,Right:2};function gf(t){return t.button===void 0||t.button===BC.Left}function FC(t){return t.buttons===void 0||(t.buttons&jC.Left)===0}function vw(t){return!!t.targetTouches}const UC=1;function zC(t){const e=t.nodeType===UC?t:t.parentElement;if(!e)return;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function HC(t,e){if(t.targetTouches.length===1)return mu(t.targetTouches[0]);if(e&&t.touches.length===1&&t.touches[0].target===e.target)return mu(t.touches[0])}function mu(t,e){return vw(t)?HC(t,e):{x:t.clientX,y:t.clientY}}const Dg=(()=>{let t=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return t=!0,!0}}))}catch{}return t})(),bs={[xi.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[xi.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[xi.keyboard]:{keydown:"keydown"}};class zs{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(ue(!zs.isSetUp,"Cannot have two Touch backends at the same time."),zs.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(zs.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,r,n,i=!1){const o=Dg?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(s){const a=bs[s][r];a&&e.addEventListener(a,n,o)})}removeEventListener(e,r,n,i=!1){const o=Dg?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(s){const a=bs[s][r];a&&e.removeEventListener(a,n,o)})}connectDragSource(e,r){const n=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,r),this.addEventListener(r,"start",n),()=>{this.sourceNodes.delete(e),this.removeEventListener(r,"start",n)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,r){const n=this.options.rootElement;if(!this.document||!n)return()=>{};const i=o=>{if(!this.document||!n||!this.monitor.isDragging())return;let s;switch(o.type){case bs.mouse.move:s={x:o.clientX,y:o.clientY};break;case bs.touch.move:var a,l;s={x:((a=o.touches[0])===null||a===void 0?void 0:a.clientX)||0,y:((l=o.touches[0])===null||l===void 0?void 0:l.clientY)||0};break}const u=s!=null?this.document.elementFromPoint(s.x,s.y):void 0,c=u&&r.contains(u);if(u===r||c)return this.handleMove(o,e)};return this.addEventListener(this.document.body,"move",i),this.targetNodes.set(e,r),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",i))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!e||!e.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,r,n){this.getSourceClientOffset=i=>{const o=this.sourceNodes.get(i);return o&&zC(o)},this.handleTopMoveStartCapture=i=>{gf(i)&&(this.moveStartSourceIds=[])},this.handleMoveStart=i=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(i)},this.handleTopMoveStart=i=>{if(!gf(i))return;const o=mu(i);o&&(vw(i)&&(this.lastTargetTouchFallback=i.targetTouches[0]),this._mouseClientOffset=o),this.waitingForDelay=!1},this.handleTopMoveStartDelay=i=>{if(!gf(i))return;const o=i.type===bs.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,i),o),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(i,o)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(o)},this.handleTopMove=i=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:o,dragOverTargetIds:s}=this,a=this.options.enableHoverOutsideTarget,l=mu(i,this.lastTargetTouchFallback);if(!l)return;if(this._isScrolling||!this.monitor.isDragging()&&LC(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&o&&DC(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(o,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const u=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(u),this.actions.publishDragSource(),i.cancelable&&i.preventDefault();const c=(s||[]).map(v=>this.targetNodes.get(v)).filter(v=>!!v),h=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(l.x,l.y,c):this.document.elementsFromPoint(l.x,l.y),p=[];for(const v in h){if(!h.hasOwnProperty(v))continue;let E=h[v];for(E!=null&&p.push(E);E;)E=E.parentElement,E&&p.indexOf(E)===-1&&p.push(E)}const g=p.filter(v=>c.indexOf(v)>-1).map(v=>this._getDropTargetId(v)).filter(v=>!!v).filter((v,E,C)=>C.indexOf(v)===E);if(a)for(const v in this.targetNodes){const E=this.targetNodes.get(v);if(u&&E&&E.contains(u)&&g.indexOf(v)===-1){g.unshift(v);break}}g.reverse(),this.actions.hover(g,{clientOffset:l})},this._getDropTargetId=i=>{const o=this.targetNodes.keys();let s=o.next();for(;s.done===!1;){const a=s.value;if(i===this.targetNodes.get(a))return a;s=o.next()}},this.handleTopMoveEndCapture=i=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!FC(i)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}i.cancelable&&i.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=i=>{i.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new RC(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(xi.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(xi.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(xi.keyboard)}}const qC=function(e,r={},n={}){return new zs(e,r,n)},va="abcdefgh".split(""),Ml={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},$C={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},WC={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},GC=[7,6,5,4,3,2,1,0],KC=[0,1,2,3,4,5,6,7],Lg={wP:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[N.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),N.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),N.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),N.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),N.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),N.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[N.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),N.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),N.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),N.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[N.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[N.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),N.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),N.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),N.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[N.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),N.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),N.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),N.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),N.jsx("circle",{cx:"6",cy:"12",r:"2"}),N.jsx("circle",{cx:"14",cy:"9",r:"2"}),N.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),N.jsx("circle",{cx:"31",cy:"9",r:"2"}),N.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[N.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),N.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),N.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),N.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[N.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),N.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),N.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),N.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),N.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),N.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[N.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),N.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),N.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),N.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),N.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[N.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[N.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),N.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),N.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),N.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[N.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),N.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),N.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),N.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),N.jsx("circle",{cx:"6",cy:"12",r:"2"}),N.jsx("circle",{cx:"14",cy:"9",r:"2"}),N.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),N.jsx("circle",{cx:"31",cy:"9",r:"2"}),N.jsx("circle",{cx:"39",cy:"12",r:"2"}),N.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),N.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[N.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),N.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),N.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),N.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[N.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),N.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),N.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),N.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function Oh(t,e,r){const n=e/8,i=t==="white"?$C:WC,o=t==="white"?GC:KC,s=i[r[0]]*n+n/2,a=o[parseInt(r[1],10)-1]*n+n/2;return{x:s,y:a}}function jg(t){let e=!1;return Object.keys(Ml).forEach(r=>{t[r]!==Ml[r]&&(e=!0)}),Object.keys(t).forEach(r=>{Ml[r]!==t[r]&&(e=!0)}),e}function VC(t,e){const r={removed:{},added:{}};return Object.keys(t).forEach(n=>{e[n]!==t[n]&&(r.removed[n]=t[n])}),Object.keys(e).forEach(n=>{t[n]!==e[n]&&(r.added[n]=e[n])}),r}function Bg(t){return t==="start"?Ml:typeof t=="string"?QC(t):t}function QC(t){if(!JC(t))return{};t=t.replace(/ .+$/,"");const e=t.split("/"),r={};let n=8;for(let i=0;i<8;i++){const o=e[i].split("");let s=0;for(let a=0;a<o.length;a++)if(o[a].search(/[1-8]/)!==-1){const l=parseInt(o[a],10);s=s+l}else{const l=va[s]+n;r[l]=XC(o[a]),s=s+1}n=n-1}return r}function JC(t){t=t.replace(/ .+$/,""),t=YC(t);const e=t.split("/");if(e.length!==8)return!1;for(let r=0;r<8;r++)if(e[r].length!==8||e[r].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function YC(t){return t.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function XC(t){return t.toLowerCase()===t?"b"+t.toUpperCase():"w"+t.toUpperCase()}const ZC=(t,e=!0,r,n)=>{const[i,o]=z.useState([]),[s,a]=z.useState([]),[l,u]=z.useState();z.useEffect(()=>{Array.isArray(t)&&o(t==null?void 0:t.filter(v=>v[0]!==v[1]))},[t]),z.useEffect(()=>{r==null||r(s)},[s]);function c(){a([]),u(void 0)}const h=(v,E)=>{e&&u([v,E,n])},p=[...s,...i];return{arrows:p,newArrow:l,clearArrows:c,drawNewArrow:h,setArrows:a,onArrowDrawEnd:(v,E)=>{if(v===E||!e)return;let C;const w=[v,E,n];p.every(([x,R])=>!(x===v&&R===E))?C=[...s,w]:C=s.filter(([x,R])=>!(x===v&&R===E)),u(void 0),a(C)}}},yw=z.createContext({}),Kn=()=>z.useContext(yw),e4=z.forwardRef(({allowDragOutsideBoard:t=!0,animationDuration:e=300,areArrowsAllowed:r=!0,arePiecesDraggable:n=!0,arePremovesAllowed:i=!1,autoPromoteToQueen:o=!1,boardOrientation:s="white",boardWidth:a,children:l,clearPremovesOnRightClick:u=!0,customArrows:c,customArrowColor:h="rgb(255,170,0)",customBoardStyle:p,customNotationStyle:g,customDarkSquareStyle:v={backgroundColor:"#B58863"},customDropSquareStyle:E={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:C={backgroundColor:"#F0D9B5"},customPieces:w,customPremoveDarkSquareStyle:b={backgroundColor:"#A42323"},customPremoveLightSquareStyle:x={backgroundColor:"#BD2828"},customSquare:R="div",customSquareStyles:D,dropOffBoardAction:j="snapback",id:H=0,isDraggablePiece:$=()=>!0,getPositionObject:Y=()=>{},onArrowsChange:te=()=>{},onDragOverSquare:ie=()=>{},onMouseOutSquare:Ae=()=>{},onMouseOverSquare:T=()=>{},onPieceClick:f=()=>{},onPieceDragBegin:m=()=>{},onPieceDragEnd:_=()=>{},onPieceDrop:k=()=>!0,onPromotionCheck:S=(G,ee,Q)=>(Q==="wP"&&G[1]==="7"&&ee[1]==="8"||Q==="bP"&&G[1]==="2"&&ee[1]==="1")&&Math.abs(G.charCodeAt(0)-ee.charCodeAt(0))<=1,onPromotionPieceSelect:O,onSquareClick:I=()=>{},onSquareRightClick:A=()=>{},position:d="start",promotionDialogVariant:P="default",promotionToSquare:W=null,showBoardNotation:y=!0,showPromotionDialog:L=!1,snapToCursor:B=!0},F)=>{const[G,ee]=z.useState(Bg(d)),[Q,V]=z.useState({removed:{},added:{}}),[Be,J]=z.useState(void 0),[se,Rr]=z.useState(L&&!o),[Fe,Le]=z.useState(null),[vn,Te]=z.useState(W),[je,Dr]=z.useState([]),xe=z.useRef(je),[Oe,yr]=z.useState(),[Ue,ze]=z.useState(Object.assign(Object.assign({},Lg),w)),[yn,ke]=z.useState(!1),[Ie,wn]=z.useState(),[Ce,Ne]=z.useState(!1);z.useImperativeHandle(F,()=>({clearPremoves(oe=!0){Pe(oe)}})),z.useEffect(()=>{ze(Object.assign(Object.assign({},Lg),w))},[w]),z.useEffect(()=>{Rr(L),Te(W)},[W,L]),z.useEffect(()=>{var oe,fe,Et;Re();const de=Bg(d),be=VC(G,de),xt=((oe=Object.keys(be.added))===null||oe===void 0?void 0:oe.length)<=2?(Et=(fe=Object.entries(be.added))===null||fe===void 0?void 0:fe[0])===null||Et===void 0?void 0:Et[1][0]:void 0;if(Ce)ee(de),Ne(!1),i&&Lr(xt),Ie&&clearTimeout(Ie);else if(yn)ee(de),Ne(!1),i&&Lr(xt);else{jg(de)&&Be!==void 0?J(xt):jg(de)?J(void 0):J("b"),V(be),Ne(!0);const Ke=setTimeout(()=>{ee(de),Ne(!1),i&&Lr(xt)},e);wn(Ke)}return ke(!1),Y(de),Me(),()=>{clearTimeout(Ie)}},[d]);const{arrows:bn,newArrow:He,clearArrows:Me,drawNewArrow:En,onArrowDrawEnd:qe}=ZC(c,r,te,h);function $e(oe,fe,Et,de){if(oe===fe)return;if(Me(),i&&Ce||i&&(Be===Et[0]||xe.current.filter(xt=>xt.piece[0]===Et[0]).length>0)){const xt=[...xe.current];xt.push({sourceSq:oe,targetSq:fe,piece:Et}),xe.current=xt,Dr([...xt]),Re();return}if(!i&&Ce)return;const be=Object.assign({},G);ke(!!de),J(Et[0]),k.length?k(oe,fe,Et)||(Pe(),ke(!1)):(j==="trash"&&!fe&&delete be[oe],delete be[oe],be[fe]=Et,ee(be)),Re(),Y(be)}function Lr(oe){if(xe.current.length===0)return;const fe=xe.current[0];if(fe.piece[0]!==void 0&&fe.piece[0]!==oe&&k.length)if(J(fe.piece[0]),ke(!0),k(fe.sourceSq,fe.targetSq,fe.piece)){const de=[...xe.current];de.shift(),xe.current=de,Dr([...de])}else Pe()}function Pe(oe=!0){oe&&J(void 0),xe.current=[],Dr([])}function Re(){Le(null),Te(null),Rr(!1)}function xn(oe){yr(oe)}function We(oe){if(Oe){if(Oe===oe){yr(void 0),u&&Pe(!1),A(oe);return}}else yr(void 0)}function Ge(){yr(void 0)}const _n={animationDuration:e,arePiecesDraggable:n,arePremovesAllowed:i,boardOrientation:s,boardWidth:a,customArrowColor:h,customBoardStyle:p,customNotationStyle:g,customDarkSquareStyle:v,customDropSquareStyle:E,customLightSquareStyle:C,customPremoveDarkSquareStyle:b,customPremoveLightSquareStyle:x,customSquare:R,customSquareStyles:D,id:H,isDraggablePiece:$,onDragOverSquare:ie,onMouseOutSquare:Ae,onMouseOverSquare:T,onPieceClick:f,onPieceDragBegin:m,onPieceDragEnd:_,onPieceDrop:k,onPromotionCheck:S,onPromotionPieceSelect:O,onSquareClick:I,showBoardNotation:y,snapToCursor:B,promotionDialogVariant:P,allowDragOutsideBoard:t,arrows:bn,newArrow:He,onArrowDrawEnd:qe,chessPieces:Ue,clearArrows:Me,drawNewArrow:En,clearCurrentRightClickDown:Ge,currentPosition:G,handleSetPosition:$e,isWaitingForAnimation:Ce,lastPieceColour:Be,onRightClickDown:xn,onRightClickUp:We,positionDifferences:Q,promoteFromSquare:Fe,promoteToSquare:vn,premoves:je,setPromoteFromSquare:Le,setPromoteToSquare:Te,setShowPromoteDialog:Rr,showPromoteDialog:se,autoPromoteToQueen:o,currentRightClickDown:Oe};return N.jsx(yw.Provider,Object.assign({value:_n},{children:l}))});function t4({row:t,col:e}){const{boardOrientation:r,boardWidth:n,customDarkSquareStyle:i,customLightSquareStyle:o,customNotationStyle:s}=Kn(),a=o.backgroundColor,l=i.backgroundColor,u=e===0,c=t===7,h=u&&c;function p(){return r==="white"?8-t:t+1}function g(){return r==="black"?va[7-e]:va[e]}function v(){return N.jsxs(N.Fragment,{children:[N.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:a}),Ug(n,s))},{children:p()})),N.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:a}),Fg(n,s))},{children:g()}))]})}function E(){return N.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:e%2!==0?l:a}),Fg(n,s))},{children:g()}))}function C(){return N.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},r==="black"?{color:t%2===0?l:a}:{color:t%2===0?l:a}),Ug(n,s))},{children:p()}))}return h?v():c?E():u?C():null}const Fg=(t,e)=>Object.assign({alignSelf:"flex-end",paddingLeft:t/8-t/48,fontSize:t/48},e),Ug=(t,e)=>Object.assign({alignSelf:"flex-start",paddingRight:t/8-t/48,fontSize:t/48},e);function zg({isPremovedPiece:t=!1,piece:e,square:r,squares:n}){const{animationDuration:i,arePiecesDraggable:o,boardWidth:s,boardOrientation:a,chessPieces:l,currentPosition:u,id:c,isDraggablePiece:h,isWaitingForAnimation:p,onPieceClick:g,onPieceDragBegin:v,onPieceDragEnd:E,positionDifferences:C,onPromotionCheck:w}=Kn(),[b,x]=z.useState({opacity:1,zIndex:5,touchAction:"none",cursor:o&&h({piece:e,sourceSquare:r})?"-webkit-grab":"default"}),[{canDrag:R,isDragging:D},j,H]=uC(()=>({type:"piece",item:()=>(v(e,r),{piece:e,square:r,id:c}),end:()=>E(e,r),collect:Y=>({canDrag:h({piece:e,sourceSquare:r}),isDragging:!!Y.isDragging()})}),[e,r,u,c]);H(IC(),{captureDraggingState:!0}),z.useEffect(()=>{x(Y=>Object.assign(Object.assign({},Y),{opacity:D?0:1}))},[D]),z.useEffect(()=>{var Y;const te=(Y=C.removed)===null||Y===void 0?void 0:Y[r];if(!C.added||!te)return;const ie=Object.entries(C.added).find(([Ae,T])=>T===te||w(r,Ae,te));if(p&&te&&ie&&!t){const Ae=r,T=ie[0];if(Ae&&T){const f=s/8;x(m=>Object.assign(Object.assign({},m),{transform:`translate(${(a==="black"?-1:1)*(T.charCodeAt(0)-Ae.charCodeAt(0))*f}px, ${(a==="black"?-1:1)*(Number(Ae[1])-Number(T[1]))*f}px)`,transition:`transform ${i}ms`,zIndex:6}))}}},[C]),z.useEffect(()=>{const{sourceSq:Y}=$();Y&&x(te=>Object.assign(Object.assign({},te),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[u]),z.useEffect(()=>{x(Y=>Object.assign(Object.assign({},Y),{cursor:o&&h({piece:e,sourceSquare:r})?"-webkit-grab":"default"}))},[r,u,o]);function $(){return{sourceSq:n[r]}}return N.jsx("div",Object.assign({ref:o&&R?j:null,onClick:()=>g(e,r),"data-piece":e,style:b},{children:typeof l[e]=="function"?l[e]({squareWidth:s/8,isDragging:D,square:r}):N.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:s/8,height:s/8},{children:N.jsx("g",{children:l[e]})}))}))}function r4({square:t,squareColor:e,setSquares:r,squareHasPremove:n,children:i}){const o=z.useRef(null),{autoPromoteToQueen:s,boardWidth:a,boardOrientation:l,clearArrows:u,currentPosition:c,currentRightClickDown:h,customBoardStyle:p,customDarkSquareStyle:g,customDropSquareStyle:v,customLightSquareStyle:E,customPremoveDarkSquareStyle:C,customPremoveLightSquareStyle:w,customSquare:b,customSquareStyles:x,drawNewArrow:R,handleSetPosition:D,isWaitingForAnimation:j,lastPieceColour:H,onArrowDrawEnd:$,onDragOverSquare:Y,onMouseOutSquare:te,onMouseOverSquare:ie,onPieceDrop:Ae,onPromotionCheck:T,onRightClickDown:f,onRightClickUp:m,onSquareClick:_,setPromoteFromSquare:k,setPromoteToSquare:S,setShowPromoteDialog:O}=Kn(),[{isOver:I},A]=yC(()=>({accept:"piece",drop:d,collect:W=>({isOver:!!W.isOver()})}),[t,c,Ae,j,H]);function d(W){T(W.square,t,W.piece)?s?D(W.square,t,W.piece[0]==="w"?"wQ":"bQ"):(k(W.square),S(t),O(!0)):D(W.square,t,W.piece,!0)}z.useEffect(()=>{if(o.current){const{x:W,y}=o.current.getBoundingClientRect();r(L=>Object.assign(Object.assign({},L),{[t]:{x:W,y}}))}},[a,l]);const P=Object.assign(Object.assign(Object.assign(Object.assign({},n4(t,l,p)),e==="black"?g:E),n&&(e==="black"?C:w)),I&&v);return N.jsx("div",Object.assign({ref:A,style:P,"data-square-color":e,"data-square":t,onMouseOver:W=>{W.buttons===2&&h&&R(h,t),!(W.relatedTarget&&W.currentTarget.contains(W.relatedTarget))&&ie(t)},onMouseOut:W=>{W.relatedTarget&&W.currentTarget.contains(W.relatedTarget)||te(t)},onMouseDown:W=>{W.button===2&&f(t)},onMouseUp:W=>{W.button===2&&(h&&$(h,t),m(t))},onDragEnter:()=>Y(t),onClick:()=>{const W=c[t];_(t,W),u()},onContextMenu:W=>{W.preventDefault()}},{children:typeof b=="string"?N.jsx(b,Object.assign({ref:o,style:Object.assign(Object.assign(Object.assign({},qg(a)),Hg),!n&&(x==null?void 0:x[t]))},{children:i})):N.jsx(b,Object.assign({ref:o,square:t,squareColor:e,style:Object.assign(Object.assign(Object.assign({},qg(a)),Hg),!n&&(x==null?void 0:x[t]))},{children:i}))}))}const Hg={display:"flex",justifyContent:"center"},qg=t=>({width:t/8,height:t/8}),n4=(t,e,r)=>r!=null&&r.borderRadius?t==="a1"?e==="white"?{borderBottomLeftRadius:r.borderRadius}:{borderTopRightRadius:r.borderRadius}:t==="a8"?e==="white"?{borderTopLeftRadius:r.borderRadius}:{borderBottomRightRadius:r.borderRadius}:t==="h1"?e==="white"?{borderBottomRightRadius:r.borderRadius}:{borderTopLeftRadius:r.borderRadius}:t==="h8"?e==="white"?{borderTopRightRadius:r.borderRadius}:{borderBottomLeftRadius:r.borderRadius}:{}:{};function i4(){const[t,e]=z.useState({}),{arePremovesAllowed:r,boardOrientation:n,boardWidth:i,currentPosition:o,id:s,premoves:a,showBoardNotation:l}=Kn(),u=z.useMemo(()=>{const c=[];return r?(a.forEach((h,p)=>{const{sourceSq:g,targetSq:v,piece:E}=h,C=c.find(w=>{var b;return w.piece===E&&((b=w.premovesRoute.at(-1))===null||b===void 0?void 0:b.targetSq)===g});C?C.premovesRoute.push({sourceSq:g,targetSq:v,index:p}):c.push({piece:E,premovesRoute:[{sourceSq:g,targetSq:v,index:p}]})}),c):[]},[a]);return N.jsx("div",Object.assign({"data-boardid":s},{children:[...Array(8)].map((c,h)=>N.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:i}},{children:[...Array(8)].map((p,g)=>{const v=n==="black"?va[7-g]+(h+1):va[g]+(8-h),E=g%2===h%2?"white":"black",C=a.find(b=>b.sourceSq===v||b.targetSq===v),w=u.filter(({premovesRoute:b})=>{var x;return((x=b.at(-1))===null||x===void 0?void 0:x.targetSq)===v}).sort((b,x)=>{var R,D;return((R=x.premovesRoute.at(-1))===null||R===void 0?void 0:R.index)-((D=b.premovesRoute.at(-1))===null||D===void 0?void 0:D.index)}).at(0);return N.jsxs(r4,Object.assign({square:v,squareColor:E,setSquares:e,squareHasPremove:!!C},{children:[!C&&o[v]&&N.jsx(zg,{piece:o[v],square:v,squares:t}),w&&N.jsx(zg,{isPremovedPiece:!0,piece:w.piece,square:v,squares:t}),l&&N.jsx(t4,{row:h,col:g})]}),`${g}${h}`)})}),h.toString()))}))}const o4=()=>{const{arrows:t,newArrow:e,boardOrientation:r,boardWidth:n,customArrowColor:i}=Kn(),o=[...t,e].filter(Boolean);return N.jsx("svg",Object.assign({width:n,height:n,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:o.map((s,a)=>{const[l,u,c]=s;if(l===u)return null;const h=Oh(r,n,l),p=Oh(r,n,u);let g=n/32;const v=a===t.length;t.some(x=>x[0]!==l&&x[1]===u)&&!v&&(g=n/16);const E=p.x-h.x,C=p.y-h.y,w=Math.hypot(C,E),b={x:h.x+E*(w-g)/w,y:h.y+C*(w-g)/w};return N.jsxs(z.Fragment,{children:[N.jsx("marker",Object.assign({id:`arrowhead-${a}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:N.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:c??i})})),N.jsx("line",{x1:h.x,y1:h.y,x2:b.x,y2:b.y,opacity:v?"0.5":"0.65",stroke:c??i,strokeWidth:v?.9*n/40:n/40,markerEnd:`url(#arrowhead-${a})`})]},`${l}-${u}${v?"-active":""}`)})}))};function s4({option:t}){const[e,r]=z.useState(!1),{boardWidth:n,chessPieces:i,customDarkSquareStyle:o,customLightSquareStyle:s,handleSetPosition:a,onPromotionPieceSelect:l,promoteFromSquare:u,promoteToSquare:c,promotionDialogVariant:h}=Kn(),p=()=>{switch(t[1]){case"Q":return o.backgroundColor;case"R":return s.backgroundColor;case"N":return h==="default"?s.backgroundColor:o.backgroundColor;case"B":return h==="default"?o.backgroundColor:s.backgroundColor}};return N.jsx("div",Object.assign({onClick:()=>{l!=null&&l.length?l(t):a(u,c,t,!0)},onMouseOver:()=>r(!0),onMouseOut:()=>r(!1),"data-piece":t,style:{cursor:"pointer",backgroundColor:e?p():`${p()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof i[t]=="function"?N.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:i[t]({squareWidth:n/8,isDragging:!1})})):N.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:n/8,height:n/8,style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:N.jsx("g",{children:i[t]})}))}))}function a4(){const{boardOrientation:t,boardWidth:e,promotionDialogVariant:r,promoteToSquare:n}=Kn(),i=(n==null?void 0:n[1])==="1"?"b":"w",o=[`${i??"w"}Q`,`${i??"w"}R`,`${i??"w"}N`,`${i??"w"}B`],s={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-e/8}px, ${-e/8}px)`},vertical:{transform:`translate(${-e/16}px, ${-e/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*e/8}px)`,width:"100%",height:`${e/4}px`,top:0,backgroundColor:"white",left:0}},a=Oh(t,e,n||"a8");return N.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${a==null?void 0:a.y}px`,left:`${a==null?void 0:a.x}px`,zIndex:1e3},s[r]),title:"Choose promotion piece"},{children:o.map(l=>N.jsx(s4,{option:l},l))}))}const l4={whiteKing:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:N.jsx("g",{children:N.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function u4({children:t}){try{return N.jsx(N.Fragment,{children:t})}catch(e){return console.log(e),N.jsx(ww,{showError:!0})}}function ww({showError:t=!1}){return N.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[N.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:l4.whiteKing})),t&&N.jsx("h1",{children:"Something went wrong"})]}))}function c4(){const t=z.useRef(null),{boardWidth:e,clearCurrentRightClickDown:r,onPromotionPieceSelect:n,setShowPromoteDialog:i,showPromoteDialog:o,customBoardStyle:s}=Kn();return z.useEffect(()=>{function a(l){t.current&&!t.current.contains(l.target)&&r()}return document.addEventListener("mouseup",a),()=>{document.removeEventListener("mouseup",a)}},[]),e?N.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:N.jsxs("div",Object.assign({ref:t,style:Object.assign(Object.assign({position:"relative"},f4(e)),s)},{children:[N.jsx(i4,{}),N.jsx(o4,{}),o&&N.jsxs(N.Fragment,{children:[N.jsx("div",{onClick:()=>{i(!1),n==null||n()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:e,height:e}}),N.jsx(a4,{})]})]}))})):N.jsx(ww,{})}const f4=t=>({cursor:"default",height:t,width:t});function h4({boardContainer:t}){const{boardWidth:e,chessPieces:r,id:n,snapToCursor:i,allowDragOutsideBoard:o}=Kn(),s=cC(p=>({item:p.getItem(),clientOffset:p.getClientOffset(),sourceClientOffset:p.getSourceClientOffset(),isDragging:p.isDragging()})),{isDragging:a,item:l,clientOffset:u,sourceClientOffset:c}=s,h=z.useCallback((p,g)=>{if(!p||!g)return{display:"none"};let{x:v,y:E}=i?p:g;const C=e/8/2;if(i&&(v-=C,E-=C),!o){const{left:b,top:x}=t,R=b-C,D=x-C,j=b+e-C,H=x+e-C;v=Math.max(R,Math.min(v,j)),E=Math.max(D,Math.min(E,H))}const w=`translate(${v}px, ${E}px)`;return{transform:w,WebkitTransform:w,touchAction:"none"}},[e,o,i,t]);return a&&l.id===n?N.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:N.jsx("div",Object.assign({style:h(u,c)},{children:typeof r[l.piece]=="function"?r[l.piece]({squareWidth:e/8,isDragging:!0}):N.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:e/8,height:e/8},{children:N.jsx("g",{children:r[l.piece]})}))}))})):null}const d4=z.forwardRef((t,e)=>{const{customDndBackend:r,customDndBackendOptions:n}=t,i=Sk(t,["customDndBackend","customDndBackendOptions"]),[o,s]=z.useState(),[a,l]=z.useState(!1),[u,c]=z.useState(!1),[h,p]=z.useState(t.boardWidth),g=z.useRef(null),v=z.useRef(null),[E,C]=z.useState({left:0,top:0}),w=z.useMemo(()=>{var x;return(x=g.current)===null||x===void 0?void 0:x.getBoundingClientRect()},[g.current]);z.useEffect(()=>{C({left:w!=null&&w.left?w==null?void 0:w.left:0,top:w!=null&&w.top?w==null?void 0:w.top:0})},[w]),z.useEffect(()=>{c("ontouchstart"in window),l(!0),s(window)},[]),z.useEffect(()=>{var x;if(t.boardWidth===void 0&&(!((x=g.current)===null||x===void 0)&&x.offsetWidth)){const R=new ResizeObserver(()=>{var D;p((D=g.current)===null||D===void 0?void 0:D.offsetWidth)});return R.observe(g.current),()=>{R.disconnect()}}},[g.current,o]);const b=r||(u?qC:MC);return a&&o?N.jsx(u4,{children:N.jsxs("div",Object.assign({ref:v,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[N.jsx("div",{ref:g,style:{width:"100%"}}),N.jsx(z5,Object.assign({backend:b,context:o,options:r?n:void 0},{children:h&&N.jsxs(e4,Object.assign({boardWidth:h},i,{ref:e},{children:[N.jsx(h4,{boardContainer:E}),N.jsx(c4,{})]}))}))]}))}):null});/**
 * @license
 * Copyright (c) 2023, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const Bt="w",_r="b",kt="p",Ih="n",Rl="b",Ns="r",si="q",_t="k",mf="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",Qt=-1,p4={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},ae={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},he={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},vf={b:[16,32,17,15],w:[-16,-32,-17,-15]},$g={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},g4=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],m4=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],v4={p:1,n:2,b:4,r:8,q:16,k:32},y4="pnbrqkPNBRQK",Wg=[Ih,Rl,Ns,si],w4=7,b4=6,E4=1,x4=0,ul={[_t]:ae.KSIDE_CASTLE,[si]:ae.QSIDE_CASTLE},ri={w:[{square:he.a1,flag:ae.QSIDE_CASTLE},{square:he.h1,flag:ae.KSIDE_CASTLE}],b:[{square:he.a8,flag:ae.QSIDE_CASTLE},{square:he.h8,flag:ae.KSIDE_CASTLE}]},_4={b:E4,w:b4},S4=["1-0","0-1","1/2-1/2","*"];function Hi(t){return t>>4}function ya(t){return t&15}function bw(t){return"0123456789".indexOf(t)!==-1}function sr(t){const e=ya(t),r=Hi(t);return"abcdefgh".substring(e,e+1)+"87654321".substring(r,r+1)}function Es(t){return t===Bt?_r:Bt}function A4(t){const e=t.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const r=parseInt(e[5],10);if(isNaN(r)||r<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const n=parseInt(e[4],10);if(isNaN(n)||n<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const i=e[0].split("/");if(i.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let s=0;s<i.length;s++){let a=0,l=!1;for(let u=0;u<i[s].length;u++)if(bw(i[s][u])){if(l)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};a+=parseInt(i[s][u],10),l=!0}else{if(!/^[prnbqkPRNBQK]$/.test(i[s][u]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};a+=1,l=!1}if(a!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const o=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:s,regex:a}of o){if(!a.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${s} king`};if((e[0].match(a)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${s} kings`}}return Array.from(i[0]+i[7]).some(s=>s.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function k4(t,e){const r=t.from,n=t.to,i=t.piece;let o=0,s=0,a=0;for(let l=0,u=e.length;l<u;l++){const c=e[l].from,h=e[l].to,p=e[l].piece;i===p&&r!==c&&n===h&&(o++,Hi(r)===Hi(c)&&s++,ya(r)===ya(c)&&a++)}return o>0?s>0&&a>0?sr(r):a>0?sr(r).charAt(1):sr(r).charAt(0):""}function ni(t,e,r,n,i,o=void 0,s=ae.NORMAL){const a=Hi(n);if(i===kt&&(a===w4||a===x4))for(let l=0;l<Wg.length;l++){const u=Wg[l];t.push({color:e,from:r,to:n,piece:i,captured:o,promotion:u,flags:s|ae.PROMOTION})}else t.push({color:e,from:r,to:n,piece:i,captured:o,flags:s})}function Gg(t){let e=t.charAt(0);return e>="a"&&e<="h"?t.match(/[a-h]\d.*[a-h]\d/)?void 0:kt:(e=e.toLowerCase(),e==="o"?_t:e)}function yf(t){return t.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function wf(t){return t.split(" ").slice(0,4).join(" ")}class C4{constructor(e=mf){wr(this,"_board",new Array(128));wr(this,"_turn",Bt);wr(this,"_header",{});wr(this,"_kings",{w:Qt,b:Qt});wr(this,"_epSquare",-1);wr(this,"_halfMoves",0);wr(this,"_moveNumber",0);wr(this,"_history",[]);wr(this,"_comments",{});wr(this,"_castling",{w:0,b:0});wr(this,"_positionCount",{});this.load(e)}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:Qt,b:Qt},this._turn=Bt,this._castling={w:0,b:0},this._epSquare=Qt,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{},this._positionCount={},delete this._header.SetUp,delete this._header.FEN}removeHeader(e){e in this._header&&delete this._header[e]}load(e,{skipValidation:r=!1,preserveHeaders:n=!1}={}){let i=e.split(/\s+/);if(i.length>=2&&i.length<6){const a=["-","-","0","1"];e=i.concat(a.slice(-(6-i.length))).join(" ")}if(i=e.split(/\s+/),!r){const{ok:a,error:l}=A4(e);if(!a)throw new Error(l)}const o=i[0];let s=0;this.clear({preserveHeaders:n});for(let a=0;a<o.length;a++){const l=o.charAt(a);if(l==="/")s+=8;else if(bw(l))s+=parseInt(l,10);else{const u=l<"a"?Bt:_r;this._put({type:l.toLowerCase(),color:u},sr(s)),s++}}this._turn=i[1],i[2].indexOf("K")>-1&&(this._castling.w|=ae.KSIDE_CASTLE),i[2].indexOf("Q")>-1&&(this._castling.w|=ae.QSIDE_CASTLE),i[2].indexOf("k")>-1&&(this._castling.b|=ae.KSIDE_CASTLE),i[2].indexOf("q")>-1&&(this._castling.b|=ae.QSIDE_CASTLE),this._epSquare=i[3]==="-"?Qt:he[i[3]],this._halfMoves=parseInt(i[4],10),this._moveNumber=parseInt(i[5],10),this._updateSetup(e),this._incPositionCount(e)}fen(){var o,s;let e=0,r="";for(let a=he.a8;a<=he.h1;a++){if(this._board[a]){e>0&&(r+=e,e=0);const{color:l,type:u}=this._board[a];r+=l===Bt?u.toUpperCase():u.toLowerCase()}else e++;a+1&136&&(e>0&&(r+=e),a!==he.h1&&(r+="/"),e=0,a+=8)}let n="";this._castling[Bt]&ae.KSIDE_CASTLE&&(n+="K"),this._castling[Bt]&ae.QSIDE_CASTLE&&(n+="Q"),this._castling[_r]&ae.KSIDE_CASTLE&&(n+="k"),this._castling[_r]&ae.QSIDE_CASTLE&&(n+="q"),n=n||"-";let i="-";if(this._epSquare!==Qt){const a=this._epSquare+(this._turn===Bt?16:-16),l=[a+1,a-1];for(const u of l){if(u&136)continue;const c=this._turn;if(((o=this._board[u])==null?void 0:o.color)===c&&((s=this._board[u])==null?void 0:s.type)===kt){this._makeMove({color:c,from:u,to:this._epSquare,piece:kt,captured:kt,flags:ae.EP_CAPTURE});const h=!this._isKingAttacked(c);if(this._undoMove(),h){i=sr(this._epSquare);break}}}}return[r,this._turn,n,i,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(e){this._history.length>0||(e!==mf?(this._header.SetUp="1",this._header.FEN=e):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(mf)}get(e){return this._board[he[e]]||!1}put({type:e,color:r},n){return this._put({type:e,color:r},n)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_put({type:e,color:r},n){if(y4.indexOf(e.toLowerCase())===-1||!(n in he))return!1;const i=he[n];if(e==_t&&!(this._kings[r]==Qt||this._kings[r]==i))return!1;const o=this._board[i];return o&&o.type===_t&&(this._kings[o.color]=Qt),this._board[i]={type:e,color:r},e===_t&&(this._kings[r]=i),!0}remove(e){const r=this.get(e);return delete this._board[he[e]],r&&r.type===_t&&(this._kings[r.color]=Qt),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),r}_updateCastlingRights(){var n,i,o,s,a,l,u,c,h,p,g,v;const e=((n=this._board[he.e1])==null?void 0:n.type)===_t&&((i=this._board[he.e1])==null?void 0:i.color)===Bt,r=((o=this._board[he.e8])==null?void 0:o.type)===_t&&((s=this._board[he.e8])==null?void 0:s.color)===_r;(!e||((a=this._board[he.a1])==null?void 0:a.type)!==Ns||((l=this._board[he.a1])==null?void 0:l.color)!==Bt)&&(this._castling.w&=~ae.QSIDE_CASTLE),(!e||((u=this._board[he.h1])==null?void 0:u.type)!==Ns||((c=this._board[he.h1])==null?void 0:c.color)!==Bt)&&(this._castling.w&=~ae.KSIDE_CASTLE),(!r||((h=this._board[he.a8])==null?void 0:h.type)!==Ns||((p=this._board[he.a8])==null?void 0:p.color)!==_r)&&(this._castling.b&=~ae.QSIDE_CASTLE),(!r||((g=this._board[he.h8])==null?void 0:g.type)!==Ns||((v=this._board[he.h8])==null?void 0:v.color)!==_r)&&(this._castling.b&=~ae.KSIDE_CASTLE)}_updateEnPassantSquare(){var o,s;if(this._epSquare===Qt)return;const e=this._epSquare+(this._turn===Bt?-16:16),r=this._epSquare+(this._turn===Bt?16:-16),n=[r+1,r-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||((o=this._board[r])==null?void 0:o.color)!==Es(this._turn)||((s=this._board[r])==null?void 0:s.type)!==kt){this._epSquare=Qt;return}const i=a=>{var l,u;return!(a&136)&&((l=this._board[a])==null?void 0:l.color)===this._turn&&((u=this._board[a])==null?void 0:u.type)===kt};n.some(i)||(this._epSquare=Qt)}_attacked(e,r){for(let n=he.a8;n<=he.h1;n++){if(n&136){n+=7;continue}if(this._board[n]===void 0||this._board[n].color!==e)continue;const i=this._board[n],o=n-r;if(o===0)continue;const s=o+119;if(g4[s]&v4[i.type]){if(i.type===kt){if(o>0){if(i.color===Bt)return!0}else if(i.color===_r)return!0;continue}if(i.type==="n"||i.type==="k")return!0;const a=m4[s];let l=n+a,u=!1;for(;l!==r;){if(this._board[l]!=null){u=!0;break}l+=a}if(!u)return!0}}return!1}_isKingAttacked(e){const r=this._kings[e];return r===-1?!1:this._attacked(Es(e),r)}isAttacked(e,r){return this._attacked(r,he[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},r=[];let n=0,i=0;for(let o=he.a8;o<=he.h1;o++){if(i=(i+1)%2,o&136){o+=7;continue}const s=this._board[o];s&&(e[s.type]=s.type in e?e[s.type]+1:1,s.type===Rl&&r.push(i),n++)}if(n===2)return!0;if(n===3&&(e[Rl]===1||e[Ih]===1))return!0;if(n===e[Rl]+2){let o=0;const s=r.length;for(let a=0;a<s;a++)o+=r[a];if(o===0||o===s)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this.fen())>=3}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:e=!1,square:r=void 0,piece:n=void 0}={}){const i=this._moves({square:r,piece:n});return e?i.map(o=>this._makePretty(o)):i.map(o=>this._moveToSan(o,i))}_moves({legal:e=!0,piece:r=void 0,square:n=void 0}={}){var g;const i=n?n.toLowerCase():void 0,o=r==null?void 0:r.toLowerCase(),s=[],a=this._turn,l=Es(a);let u=he.a8,c=he.h1,h=!1;if(i)if(i in he)u=c=he[i],h=!0;else return[];for(let v=u;v<=c;v++){if(v&136){v+=7;continue}if(!this._board[v]||this._board[v].color===l)continue;const{type:E}=this._board[v];let C;if(E===kt){if(o&&o!==E)continue;C=v+vf[a][0],this._board[C]||(ni(s,a,v,C,kt),C=v+vf[a][1],_4[a]===Hi(v)&&!this._board[C]&&ni(s,a,v,C,kt,void 0,ae.BIG_PAWN));for(let w=2;w<4;w++)C=v+vf[a][w],!(C&136)&&(((g=this._board[C])==null?void 0:g.color)===l?ni(s,a,v,C,kt,this._board[C].type,ae.CAPTURE):C===this._epSquare&&ni(s,a,v,C,kt,kt,ae.EP_CAPTURE))}else{if(o&&o!==E)continue;for(let w=0,b=$g[E].length;w<b;w++){const x=$g[E][w];for(C=v;C+=x,!(C&136);){if(!this._board[C])ni(s,a,v,C,E);else{if(this._board[C].color===a)break;ni(s,a,v,C,E,this._board[C].type,ae.CAPTURE);break}if(E===Ih||E===_t)break}}}}if((o===void 0||o===_t)&&(!h||c===this._kings[a])){if(this._castling[a]&ae.KSIDE_CASTLE){const v=this._kings[a],E=v+2;!this._board[v+1]&&!this._board[E]&&!this._attacked(l,this._kings[a])&&!this._attacked(l,v+1)&&!this._attacked(l,E)&&ni(s,a,this._kings[a],E,_t,void 0,ae.KSIDE_CASTLE)}if(this._castling[a]&ae.QSIDE_CASTLE){const v=this._kings[a],E=v-2;!this._board[v-1]&&!this._board[v-2]&&!this._board[v-3]&&!this._attacked(l,this._kings[a])&&!this._attacked(l,v-1)&&!this._attacked(l,E)&&ni(s,a,this._kings[a],E,_t,void 0,ae.QSIDE_CASTLE)}}if(!e||this._kings[a]===-1)return s;const p=[];for(let v=0,E=s.length;v<E;v++)this._makeMove(s[v]),this._isKingAttacked(a)||p.push(s[v]),this._undoMove();return p}move(e,{strict:r=!1}={}){let n=null;if(typeof e=="string")n=this._moveFromSan(e,r);else if(typeof e=="object"){const o=this._moves();for(let s=0,a=o.length;s<a;s++)if(e.from===sr(o[s].from)&&e.to===sr(o[s].to)&&(!("promotion"in o[s])||e.promotion===o[s].promotion)){n=o[s];break}}if(!n)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);const i=this._makePretty(n);return this._makeMove(n),this._incPositionCount(i.after),i}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(e){const r=this._turn,n=Es(r);if(this._push(e),this._board[e.to]=this._board[e.from],delete this._board[e.from],e.flags&ae.EP_CAPTURE&&(this._turn===_r?delete this._board[e.to-16]:delete this._board[e.to+16]),e.promotion&&(this._board[e.to]={type:e.promotion,color:r}),this._board[e.to].type===_t){if(this._kings[r]=e.to,e.flags&ae.KSIDE_CASTLE){const i=e.to-1,o=e.to+1;this._board[i]=this._board[o],delete this._board[o]}else if(e.flags&ae.QSIDE_CASTLE){const i=e.to+1,o=e.to-2;this._board[i]=this._board[o],delete this._board[o]}this._castling[r]=0}if(this._castling[r]){for(let i=0,o=ri[r].length;i<o;i++)if(e.from===ri[r][i].square&&this._castling[r]&ri[r][i].flag){this._castling[r]^=ri[r][i].flag;break}}if(this._castling[n]){for(let i=0,o=ri[n].length;i<o;i++)if(e.to===ri[n][i].square&&this._castling[n]&ri[n][i].flag){this._castling[n]^=ri[n][i].flag;break}}e.flags&ae.BIG_PAWN?r===_r?this._epSquare=e.to-16:this._epSquare=e.to+16:this._epSquare=Qt,e.piece===kt?this._halfMoves=0:e.flags&(ae.CAPTURE|ae.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,r===_r&&this._moveNumber++,this._turn=n}undo(){const e=this._undoMove();if(e){const r=this._makePretty(e);return this._decPositionCount(r.after),r}return null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;const r=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber;const n=this._turn,i=Es(n);if(this._board[r.from]=this._board[r.to],this._board[r.from].type=r.piece,delete this._board[r.to],r.captured)if(r.flags&ae.EP_CAPTURE){let o;n===_r?o=r.to-16:o=r.to+16,this._board[o]={type:kt,color:i}}else this._board[r.to]={type:r.captured,color:i};if(r.flags&(ae.KSIDE_CASTLE|ae.QSIDE_CASTLE)){let o,s;r.flags&ae.KSIDE_CASTLE?(o=r.to+1,s=r.to-1):(o=r.to-2,s=r.to+1),this._board[o]=this._board[s],delete this._board[s]}return r}pgn({newline:e=`
`,maxWidth:r=0}={}){const n=[];let i=!1;for(const p in this._header)n.push("["+p+' "'+this._header[p]+'"]'+e),i=!0;i&&this._history.length&&n.push(e);const o=p=>{const g=this._comments[this.fen()];if(typeof g<"u"){const v=p.length>0?" ":"";p=`${p}${v}{${g}}`}return p},s=[];for(;this._history.length>0;)s.push(this._undoMove());const a=[];let l="";for(s.length===0&&a.push(o(""));s.length>0;){l=o(l);const p=s.pop();if(!p)break;if(!this._history.length&&p.color==="b"){const g=`${this._moveNumber}. ...`;l=l?`${l} ${g}`:g}else p.color==="w"&&(l.length&&a.push(l),l=this._moveNumber+".");l=l+" "+this._moveToSan(p,this._moves({legal:!0})),this._makeMove(p)}if(l.length&&a.push(o(l)),typeof this._header.Result<"u"&&a.push(this._header.Result),r===0)return n.join("")+a.join(" ");const u=function(){return n.length>0&&n[n.length-1]===" "?(n.pop(),!0):!1},c=function(p,g){for(const v of g.split(" "))if(v){if(p+v.length>r){for(;u();)p--;n.push(e),p=0}n.push(v),p+=v.length,n.push(" "),p++}return u()&&p--,p};let h=0;for(let p=0;p<a.length;p++){if(h+a[p].length>r&&a[p].includes("{")){h=c(h,a[p]);continue}h+a[p].length>r&&p!==0?(n[n.length-1]===" "&&n.pop(),n.push(e),h=0):p!==0&&(n.push(" "),h++),n.push(a[p]),h+=a[p].length}return n.join("")}header(...e){for(let r=0;r<e.length;r+=2)typeof e[r]=="string"&&typeof e[r+1]=="string"&&(this._header[e[r]]=e[r+1]);return this._header}loadPgn(e,{strict:r=!1,newlineChar:n=`\r?
`}={}){function i(x){return x.replace(/\\/g,"\\")}function o(x){const R={},D=x.split(new RegExp(i(n)));let j="",H="";for(let $=0;$<D.length;$++){const Y=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;j=D[$].replace(Y,"$1"),H=D[$].replace(Y,"$2"),j.trim().length>0&&(R[j]=H)}return R}e=e.trim();const a=new RegExp("^(\\[((?:"+i(n)+")|.)*\\])((?:\\s*"+i(n)+"){2}|(?:\\s*"+i(n)+")*$)").exec(e),l=a&&a.length>=2?a[1]:"";this.reset();const u=o(l);let c="";for(const x in u)x.toLowerCase()==="fen"&&(c=u[x]),this.header(x,u[x]);if(!r)c&&this.load(c,{preserveHeaders:!0});else if(u.SetUp==="1"){if(!("FEN"in u))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(u.FEN,{preserveHeaders:!0})}function h(x){return Array.from(x).map(function(R){return R.charCodeAt(0)<128?R.charCodeAt(0).toString(16):encodeURIComponent(R).replace(/%/g,"").toLowerCase()}).join("")}function p(x){return x.length==0?"":decodeURIComponent("%"+(x.match(/.{1,2}/g)||[]).join("%"))}const g=function(x){return x=x.replace(new RegExp(i(n),"g")," "),`{${h(x.slice(1,x.length-1))}}`},v=function(x){if(x.startsWith("{")&&x.endsWith("}"))return p(x.slice(1,x.length-1))};let E=e.replace(l,"").replace(new RegExp(`({[^}]*})+?|;([^${i(n)}]*)`,"g"),function(x,R,D){return R!==void 0?g(R):" "+g(`{${D.slice(1)}}`)}).replace(new RegExp(i(n),"g")," ");const C=/(\([^()]+\))+?/g;for(;C.test(E);)E=E.replace(C,"");E=E.replace(/\d+\.(\.\.)?/g,""),E=E.replace(/\.\.\./g,""),E=E.replace(/\$\d+/g,"");let w=E.trim().split(new RegExp(/\s+/));w=w.filter(x=>x!=="");let b="";for(let x=0;x<w.length;x++){const R=v(w[x]);if(R!==void 0){this._comments[this.fen()]=R;continue}const D=this._moveFromSan(w[x],r);if(D==null)if(S4.indexOf(w[x])>-1)b=w[x];else throw new Error(`Invalid move in PGN: ${w[x]}`);else b="",this._makeMove(D),this._incPositionCount(this.fen())}b&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",b)}_moveToSan(e,r){let n="";if(e.flags&ae.KSIDE_CASTLE)n="O-O";else if(e.flags&ae.QSIDE_CASTLE)n="O-O-O";else{if(e.piece!==kt){const i=k4(e,r);n+=e.piece.toUpperCase()+i}e.flags&(ae.CAPTURE|ae.EP_CAPTURE)&&(e.piece===kt&&(n+=sr(e.from)[0]),n+="x"),n+=sr(e.to),e.promotion&&(n+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}_moveFromSan(e,r=!1){const n=yf(e);let i=Gg(n),o=this._moves({legal:!0,piece:i});for(let p=0,g=o.length;p<g;p++)if(n===yf(this._moveToSan(o[p],o)))return o[p];if(r)return null;let s,a,l,u,c,h=!1;if(a=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),a?(s=a[1],l=a[2],u=a[3],c=a[4],l.length==1&&(h=!0)):(a=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),a&&(s=a[1],l=a[2],u=a[3],c=a[4],l.length==1&&(h=!0))),i=Gg(n),o=this._moves({legal:!0,piece:s||i}),!u)return null;for(let p=0,g=o.length;p<g;p++)if(l){if((!s||s.toLowerCase()==o[p].piece)&&he[l]==o[p].from&&he[u]==o[p].to&&(!c||c.toLowerCase()==o[p].promotion))return o[p];if(h){const v=sr(o[p].from);if((!s||s.toLowerCase()==o[p].piece)&&he[u]==o[p].to&&(l==v[0]||l==v[1])&&(!c||c.toLowerCase()==o[p].promotion))return o[p]}}else if(n===yf(this._moveToSan(o[p],o)).replace("x",""))return o[p];return null}ascii(){let e=`   +------------------------+
`;for(let r=he.a8;r<=he.h1;r++){if(ya(r)===0&&(e+=" "+"87654321"[Hi(r)]+" |"),this._board[r]){const n=this._board[r].type,o=this._board[r].color===Bt?n.toUpperCase():n.toLowerCase();e+=" "+o+" "}else e+=" . ";r+1&136&&(e+=`|
`,r+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const r=this._moves({legal:!1});let n=0;const i=this._turn;for(let o=0,s=r.length;o<s;o++)this._makeMove(r[o]),this._isKingAttacked(i)||(e-1>0?n+=this.perft(e-1):n++),this._undoMove();return n}_makePretty(e){const{color:r,piece:n,from:i,to:o,flags:s,captured:a,promotion:l}=e;let u="";for(const g in ae)ae[g]&s&&(u+=p4[g]);const c=sr(i),h=sr(o),p={color:r,piece:n,from:c,to:h,san:this._moveToSan(e,this._moves({legal:!0})),flags:u,lan:c+h,before:this.fen(),after:""};return this._makeMove(e),p.after=this.fen(),this._undoMove(),a&&(p.captured=a),l&&(p.promotion=l,p.lan+=l),p}turn(){return this._turn}board(){const e=[];let r=[];for(let n=he.a8;n<=he.h1;n++)this._board[n]==null?r.push(null):r.push({square:sr(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(e.push(r),r=[],n+=8);return e}squareColor(e){if(e in he){const r=he[e];return(Hi(r)+ya(r))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const r=[],n=[];for(;this._history.length>0;)r.push(this._undoMove());for(;;){const i=r.pop();if(!i)break;e?n.push(this._makePretty(i)):n.push(this._moveToSan(i,this._moves())),this._makeMove(i)}return n}_getPositionCount(e){const r=wf(e);return this._positionCount[r]||0}_incPositionCount(e){const r=wf(e);this._positionCount[r]===void 0&&(this._positionCount[r]=0),this._positionCount[r]+=1}_decPositionCount(e){const r=wf(e);this._positionCount[r]===1?delete this._positionCount[r]:this._positionCount[r]-=1}_pruneComments(){const e=[],r={},n=i=>{i in this._comments&&(r[i]=this._comments[i])};for(;this._history.length>0;)e.push(this._undoMove());for(n(this.fen());;){const i=e.pop();if(!i)break;this._makeMove(i),n(this.fen())}this._comments=r}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const r=this._comments[e];return delete this._comments[e],{fen:e,comment:r}})}setCastlingRights(e,r){for(const i of[_t,si])r[i]!==void 0&&(r[i]?this._castling[e]|=ul[i]:this._castling[e]&=~ul[i]);this._updateCastlingRights();const n=this.getCastlingRights(e);return(r[_t]===void 0||r[_t]===n[_t])&&(r[si]===void 0||r[si]===n[si])}getCastlingRights(e){return{[_t]:(this._castling[e]&ul[_t])!==0,[si]:(this._castling[e]&ul[si])!==0}}moveNumber(){return this._moveNumber}}const N4=({baseUrl:t,gameId:e})=>{let{account:r,provider:n}=vr.useWeb3React();const{nonces:i}=qn(),o=z.useCallback(async()=>{try{if(!r||!n){window.alert("Ethereum wallet is not connected");return}let s={data:{Extension:{Resign:e}},nonce:i[r.toLowerCase()]?K.from(i[r.toLowerCase()]++).toHexString().replace(/^0x0+/,"0x"):"0x0"};const a=await n.getSigner().signMessage(JSON.stringify(s)),{v:l,r:u,s:c}=gn(a);let h={pub_key:r,sig:{r:u,s:c,v:l},tx:s};const p=await fetch(`${t}/rpc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});console.log("receipt",p)}catch(s){console.error(s)}},[r,n]);return N.jsx("button",{onClick:o,children:"Resign"})},P4=({baseUrl:t})=>{let{account:e,provider:r}=vr.useWeb3React();const{nonces:n,state:i,set:o}=qn(),s=z.useCallback((a,l,u)=>{if(!e||!r)return window.alert("Ethereum wallet is not connected"),!1;if(!u||!i.games[u])return!1;try{let{board:c,white:h,black:p}=i.games[u];const g=new C4(c);if(g.isGameOver()||g.turn()=="w"&&e.toLowerCase()!=h.toLowerCase()||g.turn()=="b"&&e.toLowerCase()!=p.toLowerCase()||g.move({from:a,to:l,promotion:"q"})==null)return!1;c=g.fen(),i.games[u].board=c,o({state:i});let E={data:{Extension:{Move:{game_id:u,san:`${a}${l}`}}},nonce:n[e.toLowerCase()]?K.from(n[e.toLowerCase()]++).toHexString().replace(/^0x0+/,"0x"):"0x0"};return r.getSigner().signMessage(JSON.stringify(E)).then(C=>{const{v:w,r:b,s:x}=gn(C);let R={pub_key:e,sig:{r:b,s:x,v:w},tx:E};return fetch(`${t}/rpc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)}).then(D=>(console.log("receipt",D),!0)).catch(D=>(console.error(D),alert("There was an error making your move. Please try again"),!1)),!1}),!1}catch(c){return console.error(c),!1}},[e,r,i,o]);return N.jsxs("div",{className:"flex flex-col items-center",children:[N.jsx("h4",{className:"m-2",children:"Active Games"}),N.jsx("div",{className:"flex flex-col overflow-auto",children:Object.keys(i.games).map((a,l)=>{const{status:u,turns:c,board:h,white:p,black:g,wager:v}=i.games[a],E=c%2==0?p.toLowerCase():g.toLowerCase(),C=(e==null?void 0:e.toLowerCase())==g.toLowerCase()?"black":"white";return u!="ongoing"?N.jsx("code",{children:`Game ${a} is over, ${u}`},l):(e==null?void 0:e.toLowerCase())==p.toLowerCase()||(e==null?void 0:e.toLowerCase())==g.toLowerCase()?N.jsxs("div",{children:[N.jsx("p",{children:e==E?`Your move vs ${e==p.toLowerCase()?g:p}`:`Waiting for ${e==p.toLowerCase()?g:p} to move`}),N.jsx(d4,{position:h,onPieceDrop:(w,b,x)=>s(w,b,a),boardOrientation:C}),N.jsx(N4,{baseUrl:t,gameId:a})]},l):N.jsx("code",{children:`${a}: ${p} vs ${g} for ${K.from(v)} WEI`},l)})})]})},T4=({baseUrl:t})=>{let{account:e,provider:r}=vr.useWeb3React();const{nonces:n,state:{pending_games:i}}=qn(),o=z.useCallback(async s=>{try{if(!e||!r){window.alert("Ethereum wallet is not connected");return}let a={data:{Extension:{StartGame:s}},nonce:n[e.toLowerCase()]?K.from(n[e.toLowerCase()]++).toHexString().replace(/^0x0+/,"0x"):"0x0"};const l=await r.getSigner().signMessage(JSON.stringify(a)),{v:u,r:c,s:h}=gn(l);let p={pub_key:e.toLowerCase(),sig:{r:c,s:h,v:u},tx:a};const g=await fetch(`${t}/rpc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});console.log("receipt",g)}catch(a){console.error(a)}},[e,r]);return N.jsx("div",{className:"flex flex-col items-center",children:N.jsx("div",{className:"flex flex-col overflow-auto",children:Object.keys(i).map((s,a)=>{const{white:l,black:u,wager:c}=i[s];return(e==null?void 0:e.toLowerCase())==u.toLowerCase()?N.jsxs("div",{children:[N.jsx("code",{children:`You have been challenged by ${l} for ${K.from(c)} WEI`}),N.jsx("button",{onClick:()=>o(s),children:"Accept"})]},a):N.jsx("div",{},a)})})})},en="/sequencer:rollup:goldfinger.os";window.our&&(window.our.process=en==null?void 0:en.replace("/",""));function O4(){const{set:t}=qn();return z.useEffect(()=>{console.log(`${en}/rpc`),fetch(`${en}/rpc`).then(e=>e.json()).then(e=>{console.log("state",e),t({...e})}).catch(console.error)},[]),N.jsx(N.Fragment,{children:N.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[N.jsx("div",{className:"col-span-3 flex place-items-center place-content-center",children:N.jsx(Ek,{})}),N.jsxs("div",{className:"col-span-1",children:[N.jsx("div",{className:"py-4 px-2",children:N.jsx(VA,{})}),N.jsx("div",{className:"py-4 px-2",children:N.jsx(QA,{baseUrl:en})}),N.jsx("div",{className:"py-4 px-2",children:N.jsx(JA,{})}),N.jsx("div",{className:"py-4 px-2",children:N.jsx(_k,{baseUrl:en})}),N.jsx("div",{className:"py-4 px-2",children:N.jsx(xk,{baseUrl:en})}),N.jsx("div",{className:"py-4 px-2",children:N.jsx(T4,{baseUrl:en})})]}),N.jsx("div",{className:"col-span-2",children:N.jsx(P4,{baseUrl:en})})]})})}async function Kg(t){try{t.connectEagerly?await t.connectEagerly():await t.activate()}catch(e){console.debug(`web3-react eager connection error: ${e}`)}}const I4=async()=>{await Kg(ma(Xi.NETWORK).connector),await Kg(ma(Xi.INJECTED).connector)},M4=({children:t})=>(z.useEffect(()=>{I4()},[]),N.jsx(vr.Web3ReactProvider,{connectors:Object.values(Ol).map(e=>[e.connector,e.hooks]),children:t}));bf.createRoot(document.getElementById("root")).render(N.jsx(nm.StrictMode,{children:N.jsx(M4,{children:N.jsx(O4,{})})}));
